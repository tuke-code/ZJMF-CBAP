{"version":3,"file":"static/js/874.04e24c7a.chunk.js","mappings":"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","sources":["api/cloud.js","api/cloudManage.js","api/elastic_ip.js","api/finance.js","api/network.js","components/comPagination/ComPagination.jsx","components/delDialog/DelDialog.jsx","components/payModal/PayModal.jsx","components/powerModal/PowerModal.jsx","utils/UseMountedRef.jsx","views/product/cloud/components/com-tab/ComTab.jsx","views/product/cloud/summary/Summary.jsx","views/product/cloud/charts/Charts.jsx","views/product/cloud/manage/Manage.jsx","views/product/cloud/disk/Disk.jsx","views/product/cloud/network/Network.jsx","views/product/cloud/upgrade/Upgrade.jsx","views/product/cloud/backup_snapshot/BackupSnapshot.jsx","views/product/cloud/log/Log.jsx","views/product/cloud/CloudDetail.jsx"],"sourcesContent":["/* 实例 */\r\nimport request from \"../utils/request\";\r\n\r\n// 获取数据中心\r\nexport function getDataCenter (id) {\r\n  return request.get(`/product/${id}/idcsmart_cloud/data_center`);\r\n}\r\n// 获取宽带类型\r\nexport function getBwType (id) {\r\n  return request.get(`/product/${id}/idcsmart_cloud/bw_type`);\r\n}\r\n// 计算能力\r\nexport function getPackage (params) {\r\n  return request.get(`/product/${params.product_id}/idcsmart_cloud/package`, {\r\n    params,\r\n  });\r\n}\r\n// 操作系统\r\nexport function getSystem (params) {\r\n  return request.get(\r\n    `/product/${params.product_id}/idcsmart_cloud/system_image`,\r\n    { params }\r\n  );\r\n}\r\n// vpc\r\nexport function getVpc (params) {\r\n  return request.get(`/vpc`, { params });\r\n}\r\n// 安全组\r\nexport function getGroup (params) {\r\n  return request.get(`/security_group`, { params });\r\n}\r\n// 获取其他配置\r\nexport function getSetting (id) {\r\n  return request.get(`/product/${id}/idcsmart_cloud/config`);\r\n}\r\n// 周期\r\nexport function getDurationPprice (params) {\r\n  return request.get(`/idcsmart_cloud/duration_price`, { params });\r\n}\r\n// 修改配置计算价格package_id,image_id,backup_enable,panel_enable\r\nexport function updatePrice (params) {\r\n  return request.post(`/product/${params.product_id}/config_option`, params);\r\n}\r\n\r\n// 结算商品\r\nexport function settleProduct (params) {\r\n  return request.post(`/product/settle`, params);\r\n}\r\n\r\n// 使用优惠码\r\nexport function usePromoCode (params) {\r\n  return request.post(`/promo_code/apply`, params);\r\n}\r\n\r\n// 支付{id: 订单id,gateway:支付方式}\r\nexport function onlinePay (params) {\r\n  return request.post(`/pay`, params);\r\n}\r\n// 使用余额支付{id:订单id,use:1使用，0取消}\r\nexport function creditPay (params) {\r\n  return request.post(`/credit`, params);\r\n}\r\n// 获取支付状态\r\nexport function getPayStatus (id) {\r\n  return request.get(`/pay/${id}/status`);\r\n}\r\n\r\n// 订单详情\r\nexport function getOrderDetail (id) {\r\n  return request.get(`/order/${id}`);\r\n}\r\n/* 实例列表 */\r\nexport function getCloudList (params) {\r\n  return request.get(`/idcsmart_cloud`, { params });\r\n}\r\n// 支付接口\r\nexport function payWayList () {\r\n  return request.get(`/gateway`);\r\n}\r\n\r\n// 账号余额\r\nexport function getUserDetail () {\r\n  return request.get(`/account`);\r\n}\r\n\r\n// 实例详情\r\nexport function getCloudDetail (id) {\r\n  return request.get(`/idcsmart_cloud/${id}`);\r\n}\r\n// ssh key\r\nexport function getSshkey (params) {\r\n  return request.get(`/ssh_key`, { params });\r\n}\r\n// cloud日志\r\nexport function getLog (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/log`, { params });\r\n}\r\n\r\n// 获取产品下的磁盘\r\nexport function getDiskById (id) {\r\n  return request.get(`/idcsmart_cloud/${id}/disk`)\r\n}\r\n\r\n// 获取磁盘列表详情\r\nexport function getDisk (params) {\r\n  return request.get(`idcsmart_cloud_disk`, { params });\r\n}\r\n\r\n// 卸载磁盘\r\nexport function umount (id) {\r\n  return request.put(`/idcsmart_cloud_disk/${id}/umount`);\r\n}\r\n\r\n// 删除磁盘\r\nexport function delDisk (id) {\r\n  return request.delete(`/idcsmart_cloud_disk/${id}`);\r\n}\r\n\r\n// 挂载磁盘\r\nexport function mount (params) {\r\n  return request.put(`idcsmart_cloud_disk/${params.id}/mount`, params);\r\n}\r\n\r\n// 扩容磁盘\r\nexport function expansion (params) {\r\n  return request.put(`idcsmart_cloud_disk/${params.id}/expansion`, { params });\r\n}\r\n\r\n// 快照\r\n// 快照列表\r\nexport function snapshot (params) {\r\n  return request.get(`idcsmart_cloud/${params.id}/snapshot`, { params });\r\n}\r\n// 创建快照\r\nexport function createSnapshot (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/snapshot`, params)\r\n}\r\n// 快照还原\r\nexport function restoreSnapshot (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/snapshot/restore`, params)\r\n}\r\n// 删除快照\r\nexport function delSnapshot (params) {\r\n  return request.delete(`idcsmart_cloud/${params.id}/snapshot/${params.snapshot_id}`)\r\n}\r\n\r\n// 备份列表\r\nexport function backup (params) {\r\n  return request.get(`idcsmart_cloud/${params.id}/backup`, { params });\r\n}\r\n\r\n// 创建备份\r\nexport function createBackup (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/backup`, params)\r\n}\r\n// 备份还原\r\nexport function restoreBackup (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/backup/restore`, params)\r\n}\r\n// 删除备份\r\nexport function delBackup (params) {\r\n  return request.delete(`idcsmart_cloud/${params.id}/backup/${params.backup_id}`)\r\n}\r\n\r\n// 产品详情\r\nexport function host (id) {\r\n  return request.get(`host/${id}`)\r\n}\r\n\r\n// 停用页面信息\r\nexport function refund (params) {\r\n  return request.get(`refund`, { params })\r\n}\r\n\r\n// 申请停用\r\nexport function postRefund (params) {\r\n  return request.post(`refund`, params)\r\n}\r\n\r\n// 取消停用\r\nexport function quitRefund (params) {\r\n  return request.put(`refund/${params.id}/cancel`)\r\n}\r\n\r\n// 续费页面信息\r\nexport function renew (params) {\r\n  return request.get(`host/${params.id}/renew`, { params })\r\n}\r\n\r\n// 续费\r\nexport function doRenw (params) {\r\n  return request.post(`host/${params.id}/renew`, params)\r\n}\r\n\r\n// 升降级配置\r\nexport function getupgradeOp (params) {\r\n  return request.get(`/host/${params.id}/upgrade/config_option`, { params });\r\n}\r\n\r\n//获取图表数据\r\nexport function chartdata (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/chart`, { params });\r\n}\r\n//获取当前VPC网络\r\nexport function vpcdata (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/vpc`, { params });\r\n}\r\n// 切换vpc网络\r\nexport function changeVpc (params) {\r\n  return request.put(`/idcsmart_cloud/${params.id}/vpc`, params);\r\n}\r\n//获取网络流量\r\nexport function flowdata (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/flow`, { params });\r\n}\r\n\r\n//  获取产品停用信息\r\nexport function refundMsg (id) {\r\n  return request.get(`/refund/host/${id}/refund`)\r\n}\r\n\r\n// 获取升降级套餐价格\r\nexport function getPackagePrice (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/package/upgrade`, { params })\r\n}\r\n// 生成升降级套餐订单\r\nexport function createPackageId (params) {\r\n  return request.post(`/idcsmart_cloud/${params.id}/package/upgrade/order`, params)\r\n}\r\n\r\n// 修改概述页面备注\r\nexport function changeNotes (params) {\r\n  return request.put(`/host/${params.id}/notes`, params);\r\n}","import request from '../utils/request'\r\n\r\n// 获取产品详情\r\nexport function getProductDetail (id) {\r\n  return request.get(`/host/${id}`)\r\n}\r\n// 开机\r\nexport function powerOn (id) {\r\n  return request.post(`/idcsmart_cloud/${id}/on`)\r\n}\r\n// 关机/强制关机\r\nexport function powerOff (force, id) {\r\n  if (force) {\r\n    return request.post(`/idcsmart_cloud/${id}/hard_off`)\r\n  } else {\r\n    return request.post(`/idcsmart_cloud/${id}/off`)\r\n  }\r\n}\r\n// 重启/强制重启\r\nexport function reboot (force, id) {\r\n  if (force) {\r\n    return request.post(`/idcsmart_cloud/${id}/hard_reboot`)\r\n  } else {\r\n    return request.post(`/idcsmart_cloud/${id}/reboot`)\r\n  }\r\n}\r\n// 获取控制台\r\nexport function postVnc (id) {\r\n  return request.post(`/idcsmart_cloud/${id}/vnc`)\r\n}\r\n// 控制台页面\r\nexport function getVnc (id) {\r\n  return request.get(`/idcsmart_cloud/${id}/vnc`)\r\n}\r\n// 获取实例状态\r\nexport function getStatus (id) {\r\n  return request.get(`/idcsmart_cloud/${id}/status`)\r\n}\r\n// 重置密码\r\nexport function resetPassword (params) {\r\n  return request.post(`/idcsmart_cloud/${params.id}/reset_password`, params)\r\n}\r\n// 当前实例是否是救援系统\r\nexport function getIsRescue (id) {\r\n  return request.get(`/idcsmart_cloud/${id}/remote_info`)\r\n}\r\n// 救援模式\r\nexport function rescue (params) {\r\n  return request.post(`/idcsmart_cloud/${params.id}/rescue`, params)\r\n}\r\n// 退出救援模式\r\nexport function exitRescue (id) {\r\n  return request.post(`/idcsmart_cloud/${id}/rescue/exit`)\r\n}\r\n// 重装系统\r\nexport function reinstall (params) {\r\n  return request.post(`/idcsmart_cloud/${params.id}/reinstall`, params)\r\n}\r\n// 模板列表\r\nexport function getTemplate (id) {\r\n  return request.get(`/idcsmart_cloud/${id}/template`)\r\n}\r\n// 获取可用官方镜像\r\nexport function getSystemImage (params) {\r\n  return request.get(`/product/${params.product_id}/idcsmart_cloud/system_image`, { params })\r\n}\r\n// 检查产品是够购买过镜像\r\nexport function imageIsBuy (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/image/check`, { params })\r\n}\r\n// ssh\r\nexport function getSsh (params) {\r\n  return request.get(`/ssh_key`, { params })\r\n}\r\n// 生成购买镜像订单\r\nexport function createOrder (params) {\r\n  return request.post(`/idcsmart_cloud/${params.id}/image/order`, params)\r\n}","// 弹性ip\r\n\r\nimport request from \"../utils/request\";\r\n\r\n// 列表\r\nexport function getIpList (params) {\r\n  return request.get(`/idcsmart_cloud_ip`, { params });\r\n}\r\n// 挂载\r\nexport function mountCloud (params) {\r\n  return request.put(`/idcsmart_cloud_ip/${params.id}/mount`, params);\r\n}\r\n//卸载\r\nexport function unmountCloud (id) {\r\n  return request.put(`/idcsmart_cloud_ip/${id}/umount`);\r\n}\r\n// 删除\r\nexport function deleteIp (id) {\r\n  return request.delete(`/idcsmart_cloud_ip/${id}`);\r\n}\r\n// 获取套餐（带宽类型）\r\nexport function getPackage (params) {\r\n  return request.get(`/product/${params.id}/idcsmart_cloud_ip/package`, { params });\r\n}\r\n/* 实例列表 */\r\nexport function getCloudList (params) {\r\n  return request.get(`/idcsmart_cloud`, { params });\r\n}\r\n// 实例详情\r\nexport function getCloudDetail (id) {\r\n  return request.get(`/idcsmart_cloud/${id}`);\r\n}\r\n// 根据配置获取价格\r\nexport function getIpPrice (params) {\r\n  return request.get(`/idcsmart_cloud_ip/duration_price`, { params });\r\n}\r\n\r\n// 获取内页弹性ip列表\r\nexport function getCloudIp (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/ip`, { params });\r\n}","import request from \"../utils/request\";\r\n\r\n// 订单\r\nexport function order(param) {\r\n  return request.get(`/order`, { params: { ...param } });\r\n}\r\n\r\n// 交易记录\r\nexport function transaction(param) {\r\n  return request.get(`/transaction`, { params: { ...param } });\r\n}\r\n\r\n// 订单详情\r\nexport function orderDetails(param) {\r\n  return request.get(`/order/${param}`);\r\n}\r\n// 支付{id: 订单id,gateway:支付方式}\r\nexport function onlinePay(params) {\r\n  return request.post(`/pay`, params);\r\n}\r\n\r\n// 账户详情\r\nexport function account() {\r\n  return request.get('/account')\r\n}\r\n\r\n// 余额记录\r\nexport function credit(param) {\r\n  return request.get('/credit', { params: { ...param } })\r\n}\r\n\r\n// 支付方式\r\nexport function gateway() {\r\n  return request.get('/gateway')\r\n}\r\n\r\n// 使用余额支付{id:订单id,use:1使用，0取消}\r\nexport function creditPay(params) {\r\n  return request.post(`/credit`, params);\r\n}\r\n\r\n// 获取支付状态\r\nexport function getPayStatus(id) {\r\n  return request.get(`/pay/${id}/status`);\r\n}\r\n\r\n// 返回充值订单id\r\nexport function recharge(param) {\r\n  return request.post(`/recharge`, { ...param })\r\n}\r\n\r\n// 返回充值信息\r\nexport function pay(param) {\r\n  return request.post(`/pay`, { ...param })\r\n}\r\n\r\n// 提现规则详情\r\nexport function withdrawRule(params) {\r\n  return request.get(`withdraw/rule/credit`, {params});\r\n}\r\n// 申请提现\r\nexport function withdraw(param) {\r\n  return request.post(`/withdraw`, { ...param })\r\n}\r\n\r\n// 待审核金额\r\nexport function unSh() {\r\n  return request.get(`/refund/pending/amount`)\r\n}\r\n\r\n// 获取优惠码信息\r\nexport function promoCode(id) {\r\n  return request.get(`/promo_code/host/${id}/promo_code`)\r\n}\r\n\r\n","/* 产品-网络模块 */\r\nimport request from \"../utils/request\";\r\n/* vpc */\r\nexport function getVpc (params) {\r\n  return request.get(`/vpc`, { params });\r\n}\r\nexport function addVpc (params) {\r\n  return request.post(`/vpc`, params);\r\n}\r\nexport function updateVpc (params) {\r\n  return request.put(`/vpc/${params.id}`, params);\r\n}\r\nexport function deleteVpc (id) {\r\n  return request.delete(`/vpc/${id}`);\r\n}\r\n\r\n/* 安全组 */\r\nexport function getGroup (params) {\r\n  return request.get(`/security_group`, { params });\r\n}\r\nexport function getGroupDetail (id) {\r\n  return request.get(`/security_group/${id}`);\r\n}\r\nexport function addAndUpdateGroup (type, params) {\r\n  if (type === 'add') {\r\n    return request.post(`/security_group`, params);\r\n  } else if (type === 'update') {\r\n    return request.put(`/security_group/${params.id}`, params);\r\n  }\r\n}\r\nexport function deleteGroup (id) {\r\n  return request.delete(`/security_group/${id}`);\r\n}\r\n\r\n/* 安全组规则 */\r\nexport function getGroupRules (params) {\r\n  return request.get(`/security_group/${params.id}/rule`, { params });\r\n}\r\nexport function addAndUpdateGroupRules (type, params) {\r\n  if (type === 'add') {\r\n    return request.post(`/security_group/${params.id}/rule`, params);\r\n  } else if (type === 'update') {\r\n    return request.put(`/security_group/rule/${params.id}`, params);\r\n  }\r\n}\r\nexport function deleteGroupRules (id) {\r\n  return request.delete(`/security_group/rule/${id}`);\r\n}\r\n// 批量添加安全组规则\r\nexport function batchRules (params) {\r\n  return request.post(`/security_group/${params.id}/rule/batch`, params);\r\n}\r\n\r\n// 安全组实例列表\r\nexport function getGroupCloud (params) {\r\n  return request.get(`/security_group/${params.id}/host`, {params});\r\n}\r\n// 关联安全组\r\nexport function concatCloud (params) {\r\n  return request.post(`/security_group/${params.id}/host/${params.host_id}`,params);\r\n}\r\n// 取消关联实例\r\nexport function cancelConcatCloud (params) {\r\n  return request.delete(`/security_group/${params.id}/host/${params.host_id}`);\r\n}\r\n// 获取所有可用实例\r\nexport function getAllCloud () {\r\n  return request.get(`/idcsmart_cloud/all`);\r\n}","import React from \"react\";\r\nimport { Pagination } from \"antd\";\r\nimport \"./ComPagination.css\";\r\nexport default function ComPagination(props) {\r\n  const changePage = (page, limit) => {\r\n    props.changePage(page, limit);\r\n  };\r\n  const { page } = props;\r\n  return (\r\n    <Pagination\r\n      total={props.total}\r\n      pageSize={page.limit}\r\n      showSizeChanger\r\n      pageSizeOptions={props.pageSizeOptions || [10, 20, 30, 50, 100]}\r\n      current={page.page}\r\n      showTitle={false}\r\n      onChange={changePage}\r\n      showTotal={(total, range) => `显示${range[0]}-${range[1]} 的 ${total}`}\r\n    />\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Swal from \"sweetalert2\";\r\nimport './DelDialog.css'\r\nexport default function DelDialog (props) {\r\n  const { t } = useTranslation()\r\n  const handleOk = () => {\r\n    props.closeDialog()\r\n    props.submitDel()\r\n  }\r\n  const handleCancel = () => {\r\n    props.closeDialog()\r\n  }\r\n  const showDialog = () => {\r\n    Swal.fire({\r\n      title: props.title ? props.title : t('common.delete'),\r\n      text: props.text ? props.text : t('common.tip') + '？',\r\n      customClass: {\r\n        title: 'del-tit',\r\n        icon: props.icon ? \"warning-icon\" : \"del-icon\",\r\n        text: 'del-text'\r\n      },\r\n      icon: props.icon || \"info\",\r\n      showCancelButton: true,\r\n      confirmButtonText: t(\"common.sure\"),\r\n      cancelButtonText: t(\"common.cancel\"),\r\n    }).then(result => {\r\n      if (result.isConfirmed) {\r\n        handleOk()\r\n      } else if (result.isDismissed) {\r\n        handleCancel()\r\n      }\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    showDialog()\r\n  }, [props])\r\n  return null\r\n}\r\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport \"./PayModal.css\";\r\nimport { showDialog } from '@/utils/util'\r\nimport {\r\n  message, Select, Checkbox, Input,\r\n  Button,\r\n  Modal,\r\n} from \"antd\";\r\nimport * as cloud from \"@/api/cloud\";\r\nconst { Option } = Select\r\nexport default function PayModal (props) {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate()\r\n  // 订单详情\r\n  const [orderDetail, setOrderDetail] = useState({});\r\n  // 当前选择的支付方式\r\n  const [curPay, setCurPay] = useState(\"\");\r\n  // 用户信息\r\n  const [user, setUser] = useState({});\r\n  // 是否使用余额\r\n  const [balanceChecked, setBalanceChecked] = useState(false);\r\n  // 支付方式\r\n  const [payList, setPayList] = useState([]);\r\n  // 三方支付的html\r\n  const [payHtml, setPayHtml] = useState(\"\");\r\n  // 是否展示第三方支付\r\n  const [isShowPay, setIsShowPay] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  /* 数据请求 */\r\n  // 获取订单详情\r\n  const getOrderDetail = async () => {\r\n    try {\r\n      const res = await cloud.getOrderDetail(props.orderId);\r\n      setOrderDetail(res.data.data.order);\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 获取用户信息\r\n  const getUser = async () => {\r\n    try {\r\n      const res = await cloud.getUserDetail();\r\n      setUser(res.data.data);\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 支付方式\r\n  const getPayWay = async () => {\r\n    try {\r\n      const res = await cloud.payWayList();\r\n      setPayList(res.data.data.list);\r\n      setCurPay(res.data.data.list[0].name);\r\n      // 初始化调用一次支付接口\r\n      initPay(res.data.data.list[0].name)\r\n    } catch (error) {\r\n      console.log(error)\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 初始化调用\r\n  const initPay = async (name) => {\r\n    try {\r\n      const params = {\r\n        gateway: name,\r\n        id: props.orderId,\r\n      };\r\n      // 使用其他第三方的支付方式\r\n      const res = await cloud.onlinePay(params);\r\n      setPayHtml(res.data.data.html);\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 切换支付方式\r\n  const changePayWay = async (e, id) => {\r\n    console.log(e)\r\n    setCurPay(e);\r\n    // 如果账户余额 大于 订单金额 && 勾选了余额支付 阻止调用\r\n    if (\r\n      Number(user.account.credit) >= Number(orderDetail.amount) &&\r\n      balanceChecked\r\n    ) {\r\n      return false;\r\n    }\r\n    try {\r\n      const params = {\r\n        gateway: e,\r\n        id: (typeof id !== \"object\" && id) || props.orderId,\r\n      };\r\n      // 使用其他第三方的支付方式\r\n      const res = await cloud.onlinePay(params);\r\n      setPayHtml(res.data.data.html);\r\n    } catch (error) { }\r\n  };\r\n  /* 事件处理 */\r\n  // 通过余额支付\r\n  const handleOk = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const params = {\r\n        gateway: curPay,\r\n        id: props.orderId,\r\n      };\r\n      await cloud.onlinePay(params);\r\n      setLoading(false)\r\n    } catch (error) {\r\n      setLoading(false)\r\n    }\r\n  };\r\n  // 使用余额\r\n  const useBalance = async (e) => {\r\n    setBalanceChecked(e.target.checked);\r\n    if (!e.target.checked) {\r\n      setIsShowPay(true)\r\n    }\r\n    try {\r\n      const res = await cloud.creditPay({\r\n        id: props.orderId,\r\n        use: e.target.checked ? 1 : 0,\r\n      });\r\n      const tempId = res.data.data.id;\r\n      const result = await cloud.getOrderDetail(tempId);\r\n      const orderRes = result.data.data.order;\r\n      // 勾选余额，如果账户的余额大于订单金额，则使用余额支付\r\n      if (e.target.checked) {\r\n        if (Number(user.account.credit) >= Number(orderRes.amount)) {\r\n          setIsShowPay(false);\r\n        } else {\r\n          setIsShowPay(true);\r\n          changePayWay(curPay, tempId);\r\n        }\r\n      } else {\r\n        // 小于的话重新拉取支付\r\n        changePayWay(curPay, tempId);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  // 取消支付\r\n  const handleCancel = () => {\r\n    if (props.handleCancel) {\r\n      props.handleCancel()\r\n      return\r\n    }\r\n    clearInterval(props.timer);\r\n    navigate(\"/finance/order\", { replace: true });\r\n  };\r\n  useEffect(async () => {\r\n    await getOrderDetail()\r\n    await getUser()\r\n    await getPayWay()\r\n  }, [])\r\n  const visible = props.visible !== undefined ? props.visible : true\r\n  return (\r\n    <>\r\n      {/* 支付弹窗 */}\r\n      <Modal\r\n        visible={visible}\r\n        title={t(\"common.pay\")}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        className=\"pay-modal\"\r\n        closable={false}\r\n        footer={\r\n          !isShowPay && [\r\n            <Button\r\n              key=\"submit\"\r\n              className=\"sure\"\r\n              loading={loading}\r\n              onClick={handleOk}\r\n            >\r\n              {t(\"cloud.sure_pay\")}\r\n            </Button>,\r\n            <Button key=\"back\" onClick={handleCancel} className=\"cancel\">\r\n              {t(\"common.cancel\")}\r\n            </Button>,\r\n          ]\r\n        }\r\n      >\r\n        <div className=\"cloud-pay-box\">\r\n          <div className=\"item first\">\r\n            <div className=\"l-text\">{t(\"common.pay_way\")}</div>\r\n            <div className=\"r-text\">\r\n              {payList.length > 0 && (\r\n                <Select value={curPay} onChange={changePayWay}>\r\n                  {payList.map((item) => {\r\n                    return (\r\n                      <Option value={item.name} key={item.id}>\r\n                        {item.title}\r\n                      </Option>\r\n                    );\r\n                  })}\r\n                </Select>\r\n              )}\r\n              <Checkbox onChange={useBalance} checked={balanceChecked}>\r\n                {t(\"cloud.use_balance\")}\r\n              </Checkbox>\r\n            </div>\r\n          </div>\r\n          <div className=\"item\">\r\n            <div className=\"l-text\">{t(\"cloud.order_amount\")}</div>\r\n            <div className=\"r-text order-num\">￥&nbsp;{orderDetail.amount}</div>\r\n          </div>\r\n          <div className=\"item last\">\r\n            <div className=\"l-text\">{t(\"cloud.pay_amount\")}</div>\r\n            <div className=\"r-text pay-num\">\r\n              <p className=\"paid\">\r\n                ￥\r\n                {\r\n                  // 当勾选余额的时候：订单金额 - 账户余额，小于0 则表示全部使用\r\n                  balanceChecked\r\n                    ? (Number(orderDetail.amount) -\r\n                      Number(user.account.credit) <=\r\n                      0\r\n                      ? 0\r\n                      : Number(orderDetail.amount) -\r\n                      Number(user.account.credit)\r\n                    ).toFixed(2)\r\n                    : Number(orderDetail.amount).toFixed(2)\r\n                }\r\n              </p>\r\n              {balanceChecked && (\r\n                <p className=\"balance\">\r\n                  -￥\r\n                  {(Number(user.account.credit) >= Number(orderDetail.amount)\r\n                    ? Number(orderDetail.amount)\r\n                    : Number(user.account.credit)\r\n                  ).toFixed(2)}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {\r\n            // 可用余额小于订单金额\r\n            isShowPay && (\r\n              <div className=\"item pay-html\">\r\n                {/* 渲染支付的模块 */}\r\n                <div dangerouslySetInnerHTML={{ __html: payHtml }}></div>\r\n              </div>\r\n            )\r\n          }\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { message, Select, Input, Table, Popover, Tooltip, Form, Modal, Checkbox, Button } from 'antd';\r\nimport './PowerModal.css'\r\nexport default function PowerModal (props) {\r\n  const { t } = useTranslation()\r\n  const [form] = Form.useForm()\r\n  const optCancel = () => {\r\n    props.optCancel()\r\n  }\r\n  const onFinish = () => {\r\n    const force = form.getFieldsValue().remember\r\n    props.onFinish(force)\r\n  }\r\n  return (\r\n    <>\r\n      {/* 开关机，重启 */}\r\n      <Modal title={props.optTitle} forceRender\r\n        visible={true} onCancel={optCancel}\r\n        footer={null} className=\"power-modal\" closable={false}>\r\n        {\r\n          (\r\n            <Form form={form}\r\n              initialValues={{\r\n                host_name: props.info.name,\r\n                remember: false,\r\n              }}\r\n              onFinish={onFinish}\r\n              autoComplete=\"off\"\r\n            >\r\n              <Form.Item label={t(\"cloud.host_name\")} colon={false} name=\"host_name\">\r\n                <Input disabled />\r\n              </Form.Item>\r\n              {\r\n                props.optType !== 'on' && (\r\n                  <>\r\n                    <p className='tip'>{t(\"cloud.tip19\")}</p>\r\n                    <Form.Item colon={false}\r\n                      name=\"remember\"\r\n                      valuePropName=\"checked\"\r\n                      // rules={[\r\n                      //   {\r\n                      //     validator: (_, value) =>\r\n                      //       value ? Promise.resolve() : Promise.reject(new Error(t(\"cloud.tip21\"))),\r\n                      //   },\r\n                      // ]} \r\n                      className=\"force-off\">\r\n                      <Checkbox>{t(\"cloud.tip20\")}</Checkbox>\r\n                    </Form.Item>\r\n                  </>\r\n                )\r\n              }\r\n              <Form.Item className=\"opt-btn\">\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"sure\">\r\n                  {t(\"common.sure\")}\r\n                </Button>\r\n                <Button onClick={optCancel} className=\"cancel\">\r\n                  {t(\"common.cancel\")}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          )\r\n        }\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","/* 处理跳转页面更新state错误 */\r\nimport { useEffect, useRef } from 'react';\r\nexport default function useMountedRef () {\r\n  const mountedRef = useRef(false);\r\n  useEffect(() => {\r\n    mountedRef.current = true;\r\n    return () => {\r\n      mountedRef.current = false;\r\n    };\r\n  });\r\n  return mountedRef;\r\n}\r\n","import { t } from 'i18next'\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport { Tooltip } from 'antd';\r\nimport {\r\n  SyncOutlined\r\n} from '@ant-design/icons';\r\nimport PowerModal from '@/components/powerModal/PowerModal';\r\nimport { showDialog } from '@/utils/util.js'\r\nimport * as manage from '@/api/cloudManage'\r\nexport default function ComTab (props) {\r\n  const change = (e) => {\r\n    props.changeTab(e.target.getAttribute('data-name'))\r\n  }\r\n  const menu = [\r\n    { name: 'summary', title: t('cloud.summary') },\r\n    { name: 'charts', title: t('cloud.charts') },\r\n    { name: 'manage', title: t('cloud.manage') },\r\n    { name: 'disk', title: t('cloud.disk') },\r\n    { name: 'network', title: t('cloud.network') },\r\n    { name: 'upgrade', title: t('cloud.upgrade') },\r\n    { name: 'backup_snapshot', title: t('cloud.backup_snapshot') },\r\n    { name: 'log', title: t('cloud.log') }\r\n  ]\r\n  const detail = props.detail\r\n  const host = props.host\r\n  console.log(\"host\",host);\r\n  const [info, setInfo] = useState({})\r\n  const [optTitle, setOptTitle] = useState('')\r\n  const [optVisible, setOptVisible] = useState(false)\r\n  const [optType, setOptType] = useState('')\r\n  const timer = useRef()\r\n  // 显示状态\r\n  const powerStatus = (e) => {\r\n    switch (e) {\r\n      case 'on':\r\n        return t('cloud.on')\r\n      case 'off':\r\n        return t('cloud.off')\r\n      case 'operating':\r\n        return t('cloud.operating')\r\n      case 'suspend':\r\n        return t('cloud.Suspended')\r\n      case 'fault':\r\n        return t('cloud.fault')\r\n      default:\r\n        return 'Loading...'\r\n    }\r\n  }\r\n  const editItem = (type, row) => {\r\n    setOptVisible(true)\r\n    switch (type) {\r\n      case 'on':\r\n        return setOptTitle(t('cloud.tip16'))\r\n      case 'off':\r\n        return setOptTitle(t('cloud.tip17'))\r\n      case 'reboot':\r\n        return setOptTitle(t('cloud.tip18'))\r\n      default:\r\n        return setOptTitle('title')\r\n    }\r\n  }\r\n  useEffect(() => {\r\n  }, [])\r\n  const optCancel = () => {\r\n    setOptVisible(false)\r\n  }\r\n  const onFinish = (force) => {\r\n    switch (optType) {\r\n      case 'on':\r\n        return powerOn(force)\r\n      case 'off':\r\n        return powerOff(force)\r\n      case 'reboot':\r\n        return reboot(force)\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  /* 事件处理 */\r\n  // 刷新状态\r\n  const refresh = () => {\r\n    props.refresh()\r\n  }\r\n  // 操作成功弹窗\r\n  const showDia = (msg, status) => {\r\n    showDialog(msg, status, () => {\r\n      optCancel()\r\n    })\r\n  }\r\n  // 开关机\r\n  const handlerClose = () => {\r\n    if (!props.type) {\r\n      return\r\n    }\r\n    if (props.type === 'on') {\r\n      setOptTitle(t('cloud.tip17'))\r\n      setOptType('off')\r\n    } else if (props.type === 'off') {\r\n      setOptTitle(t('cloud.tip16'))\r\n      setOptType('on')\r\n    }\r\n    setOptVisible(true)\r\n  }\r\n  // 重启/硬重启\r\n  const handlerRestart = () => {\r\n    if (!props.type) {\r\n      return\r\n    }\r\n    setOptTitle(t('cloud.tip18'))\r\n    setOptType('reboot')\r\n    setOptVisible(true)\r\n  }\r\n  // 控制台\r\n  const handlerConsole = () => {\r\n    if (!props.type) {\r\n      return\r\n    }\r\n    postVnc()\r\n  }\r\n  // 控制台URL\r\n  const postVnc = async () => {\r\n    try {\r\n      const res = await manage.postVnc(host.id)\r\n      window.open(res.data.data.url)\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 开机\r\n  const powerOn = async () => {\r\n    try {\r\n      const res = await manage.powerOn(host.id)\r\n      if (res.data.status === 200) {\r\n        refresh()\r\n        showDia(res.data.msg, 'success')\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 关机\r\n  const powerOff = async (force) => {\r\n    try {\r\n      const res = await manage.powerOff(force, host.id)\r\n      if (res.data.status === 200) {\r\n        refresh()\r\n        showDia(res.data.msg, 'success')\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 重启\r\n  const reboot = async (force) => {\r\n    try {\r\n      const res = await manage.reboot(force, host.id)\r\n      if (res.data.status === 200) {\r\n        refresh()\r\n        showDia(res.data.msg, 'success')\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {\r\n        detail && <div className='cloud-card'>\r\n          <div className=\"t-info\">\r\n            <div className=\"l-info\">\r\n              <p className=\"tit\">{host.product_name}</p>\r\n              <p>\r\n                <img src={detail.data_center.country_code && require(`@/assets/images/cloud/${detail.data_center.country_code}.png`)}\r\n                  alt=\"\" className='country_code' />\r\n                <span>{detail.data_center.city}</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"r-info\">\r\n              <Tooltip placement=\"top\" title={powerStatus(props.type)}\r\n                getPopupContainer={() => document.getElementById('status')}>\r\n                <span id=\"status\">\r\n                  {\r\n                    props.loading ? <SyncOutlined spin /> : <img src={require(`@/assets/images/cloud/${props.type}.png`)} alt=\"\" />\r\n                  }\r\n                </span>\r\n              </Tooltip>\r\n              <img src=\"/\" alt=\"\" className=\"os\" />\r\n              <span>{detail.image.name}</span>\r\n              <div className=\"opt\">\r\n                <img src={require(`@/assets/images/cloud/close.png`)} alt=\"\" onClick={handlerClose} />\r\n                <img src={require(`@/assets/images/cloud/restart.png`)} alt=\"\" onClick={handlerRestart} />\r\n                <img src={require(`@/assets/images/cloud/console.png`)} alt=\"\" onClick={handlerConsole} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"tabs\">\r\n            {\r\n              menu.map(item => {\r\n                return (\r\n                  <span data-name={item.name} onClick={change} key={item.name}\r\n                    className={`${props.activeTab === item.name ? 'active' : ''}`}>\r\n                    {item.title}\r\n                  </span>\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n      }\r\n      {\r\n        optVisible && <PowerModal info={host} optTitle={optTitle} optType={optType}\r\n          optCancel={optCancel} onFinish={onFinish}\r\n        ></PowerModal>\r\n      }\r\n    </>\r\n\r\n  )\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Col, Row, Button, Modal, Select, Input, Checkbox } from 'antd';\r\nimport Swal from \"sweetalert2\";\r\nimport moment from 'moment'\r\nimport { useTranslation } from \"react-i18next\";\r\nimport * as cloud from '@/api/cloud';\r\nimport { getCommon } from '@/api/common'\r\nimport '../../cloud/cloud.css';\r\nimport './Summary.less';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { showDialog } from '../../../../utils/util';\r\nimport { orderDetails, account, gateway, pay, creditPay, getPayStatus, onlinePay, promoCode } from \"@/api/finance\"\r\nlet timer = null;\r\nlet time = 300000;  // 5分钟\r\nexport default function Summary() {\r\n  const { Option } = Select\r\n  const { TextArea } = Input;\r\n  const { t } = useTranslation()\r\n  const navigate = useNavigate();\r\n  // 产品id\r\n  const [id, setId] = useState(\r\n    () => window.location.hash.split(\"=\")[1]\r\n  )\r\n  // 优惠码输入框\r\n  const [CodeInput, setCodeInput] = useState()\r\n\r\n  const [refundStste] = useState(\r\n    {\r\n      Pending: \"待审核\",\r\n      Suspending: \"待停用\",\r\n      Suspend: \"停用中\",\r\n      Suspended: \"已停用\",\r\n      Refund: \"已退款\",\r\n      Reject: \"审核驳回\",\r\n      Cancelled: \"已取消\"\r\n    }\r\n  )\r\n\r\n  // 优惠码总金额\r\n  const [promoTotal, setPromoTotal] = useState(0)\r\n\r\n  // 第一个优惠码是否可以被叠加使用\r\n  const [isAdd, setIsAdd] = useState(true)\r\n\r\n  // 停用信息\r\n  const [refundMsg, setRefundMsg] = useState()\r\n\r\n  // 续费激活id\r\n  const [activeId, setActiveId] = useState(1)\r\n  // 续费是否显示优惠码输入框\r\n  const [isShow, setIsShow] = useState(false)\r\n\r\n  // 实例详情信息\r\n  const [cloundDetail, setCloundDetail] = useState()\r\n  // 产品详情信息（财务信息）\r\n  const [hostDetail, setHostDetail] = useState()\r\n  // 到期天数\r\n  const endDayCount = hostDetail ? Math.floor((hostDetail.due_time * 1000 - Date.now()) / (1000 * 60 * 60 * 24)) : null\r\n  // 产品优惠码\r\n  const [hostPromoCode, setHostPromoCode] = useState()\r\n  // 账户信息\r\n  const [common, setCommon] = useState()\r\n  // 产品状态\r\n  const [status] = useState({\r\n    Unpaid: { text: \"未付款\" },\r\n    Pending: { text: \"开通中\" },\r\n    Active: { text: \"已开通\" },\r\n    Suspended: { text: \"已暂停\" },\r\n    Deleted: { text: \"已删除\" },\r\n    Failed: { text: \"开通失败\" },\r\n  })\r\n  // 停用页面信息\r\n  const [refundData, setRefundData] = useState()\r\n  // 停用参数\r\n  const [refundParams, setParams] = useState({\r\n    host_id: Number(id),\r\n    suspend_reason: [],\r\n    type: \"\"\r\n  })\r\n\r\n\r\n  // 支付相关\r\n  const [visible, setVisible] = useState(false)\r\n  // 订单id\r\n  const [orderId, setOrderId] = useState(\"\");\r\n  // 订单金额\r\n  const [money, setMoney] = useState()\r\n  // 当前选择的支付方式\r\n  const [curPay, setCurPay] = useState(\"\");\r\n  // 是否展示第三方支付\r\n  const [isShowPay, setIsShowPay] = useState(true);\r\n  // 三方支付的html\r\n  const [payHtml, setPayHtml] = useState(\"\");\r\n  // 确认支付按钮 是否loading\r\n  const [loading, setLoading] = useState(false);\r\n  // 是否使用余额\r\n  const [balanceChecked, setBalanceChecked] = useState(false);\r\n  // 支付方式\r\n  const [payList, setPayList] = useState([]);\r\n  // 余额\r\n  const [balance, setBalance] = useState()\r\n\r\n  // 是否显示输入框\r\n  const [isEditNote, setIsEditNote] = useState(true)\r\n\r\n  // 备注输入框内容\r\n  const [notes, setNotes] = useState()\r\n\r\n  // 修改备注按钮点击事件\r\n  const editNotes = () => {\r\n    if (isEditNote) {\r\n      setNotes(hostDetail.notes)\r\n      setIsEditNote(!isEditNote)\r\n    } else {\r\n      console.log(\"notes\", notes);\r\n      const params = {\r\n        id,\r\n        notes\r\n      }\r\n      // 调用修改备注接口\r\n      cloud.changeNotes(params).then(res => {\r\n        if (res.data.status === 200) {\r\n          // 调用接口获取新的状态\r\n          getHost()\r\n          setIsEditNote(!isEditNote)\r\n        }\r\n\r\n      })\r\n\r\n\r\n    }\r\n\r\n  }\r\n\r\n  const notesInputChange = (e) => {\r\n    setNotes(e.target.value)\r\n  }\r\n\r\n\r\n  // 获取账户详情\r\n  const getAccount = () => {\r\n    account().then(res => {\r\n      if (res.data.status === 200) {\r\n        const credit = res.data.data.account.credit\r\n        setBalance(credit)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 点击去支付\r\n  const showPayModal = (id, amount) => {\r\n    // 初始化\r\n    if (timer) {  // 清除定时器\r\n      clearInterval(timer)\r\n    }\r\n    setBalanceChecked(false)\r\n    // 重置倒计时 5分钟\r\n    time = 300000;\r\n\r\n    // 获取该订单金额\r\n    setMoney(amount)\r\n    // 订单id\r\n    setOrderId(id)\r\n\r\n    // 展示支付 modal\r\n    setVisible(true)\r\n    // 进入支付页：默认拉取第一种支付方式\r\n    changePayWay(payList[0].name, id);\r\n    // 轮循获取订单支付状态\r\n    pollingStatus(id)\r\n  }\r\n\r\n  // 获取支付方式\r\n  const getPayWay = () => {\r\n    gateway().then(res => {\r\n      setPayList(res.data.data.list);\r\n      setCurPay(res.data.data.list[0].name);\r\n    })\r\n  }\r\n\r\n  // 切换支付方式\r\n  const changePayWay = (e, id) => {\r\n    setCurPay(e);\r\n    // 如果账户余额 大于 订单金额 && 勾选了余额支付 阻止调用\r\n    if (\r\n      Number(balance) >= Number(money) &&\r\n      balanceChecked\r\n    ) {\r\n      return false;\r\n    }\r\n    const params = {\r\n      gateway: e,\r\n      id: (typeof id !== \"object\" && id) || orderId,\r\n    };\r\n    // 获取第三方支付\r\n    pay(params).then(res => {\r\n      setPayHtml(res.data.data.html);\r\n    })\r\n  }\r\n\r\n  // 使用余额\r\n  const useBalance = (e) => {\r\n    setBalanceChecked(e.target.checked);\r\n    creditPay({\r\n      id: orderId,\r\n      use: e.target.checked ? 1 : 0,\r\n    }).then(res => {\r\n      // 新的订单id\r\n      const tempId = res.data.data.id;\r\n      // 获取新订单的详情\r\n      orderDetails(tempId).then(result => {\r\n        const orderRes = result.data.data.order;\r\n        // 勾选余额，如果账户的余额大于订单金额，则使用余额支付\r\n        if (e.target.checked) { // 使用余额\r\n          if (Number(balance) >= Number(orderRes.amount)) {\r\n            // 账户余额大于 订单金额 隐藏第三方支付\r\n            setIsShowPay(false);\r\n          } else {\r\n            // 账户余额小于 订单金额 重新拉取第三方支付并显示\r\n            setIsShowPay(true);\r\n            changePayWay(curPay, tempId);\r\n          }\r\n        } else { // 取消使用余额\r\n          setIsShowPay(true);\r\n          changePayWay(curPay, tempId);\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  // 轮询支付状态\r\n  const pollingStatus = (id) => {\r\n    if (timer) {\r\n      clearInterval(timer)\r\n    }\r\n    timer = setInterval(async () => {\r\n      const res = await getPayStatus(id ? id : orderId);\r\n      time = time - 2000\r\n      if (res.data.code === \"Paid\") { // 支付成功\r\n        showDialog(res.data.msg, \"success\");\r\n        clearInterval(timer);\r\n        setVisible(false);\r\n        getHost()\r\n        return false;\r\n      }\r\n      // 5分钟到点清除定时器\r\n      if (time === 0) {\r\n        clearInterval(timer);\r\n        setVisible(false);\r\n        return false;\r\n      }\r\n    }, 2000)\r\n\r\n  };\r\n\r\n\r\n  // 通过余额支付\r\n  const handleOk = async () => {\r\n    try {\r\n      const params = {\r\n        gateway: curPay,\r\n        id: orderId,\r\n      };\r\n      await onlinePay(params);\r\n    } catch (error) { }\r\n  };\r\n\r\n  // 退出支付弹窗\r\n  const handleCancel = () => {\r\n    // 关闭支付弹窗\r\n    setVisible(false);\r\n    clearInterval(timer);\r\n\r\n    if (balanceChecked) { // 如果勾选了余额支付\r\n      // 取消使用余额\r\n      const params = {\r\n        id: orderId,\r\n        use: 0\r\n      }\r\n      creditPay(params).then(res => { }).catch(error => { })\r\n    }\r\n    navigate(\"/finance/order\", { replace: true });\r\n  };\r\n\r\n\r\n  // 续费页面 信息\r\n  const [renewData, setRenewData] = useState()\r\n  const [isRenewModal, setIsRenewModal] = useState(false)\r\n  const inputVal = useRef(null)\r\n  const [showId, setShowId] = useState([1, 2, 3])\r\n  const [codeData, setCodeData] = useState([])\r\n  // 显示续费 modal\r\n  const showRenewModal = () => {\r\n    // 获取续费页面信息\r\n    cloud.renew({ id }).then(res => {\r\n      if (res.data.status === 200) {\r\n        // 初始化优惠金额\r\n        setPromoTotal(0)\r\n        // 清空优惠码\r\n        setCodeData([])\r\n        // 清空优惠码输入框\r\n        setCodeInput(null)\r\n        setIsRenewModal(true)\r\n        const host = res.data.data.host\r\n        let i = 1\r\n        host.map(item => {\r\n          item.id = i\r\n          i++\r\n        })\r\n        setRenewData(host)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 获取优惠码信息\r\n  const getCode = () => {\r\n    const promo_code = inputVal.current.input.value\r\n    if (!promo_code) {\r\n      showDialog(\"请输入优惠码\", \"error\")\r\n      return false\r\n    }\r\n    // 判断是否重复使用优惠码\r\n    let isSame = false\r\n    codeData.map(item => {\r\n      if (item.promo_code === promo_code) {\r\n        isSame = true\r\n        console.log(\"重复使用\");\r\n        return false\r\n      }\r\n    })\r\n    if (isSame) {\r\n      showDialog(\"请勿重复使用优惠码！\", \"warning\")\r\n      return false\r\n    }\r\n    const amount = renewData[activeId - 1].price\r\n    const billing_cycle_time = renewData[activeId - 1].duration\r\n    const params = {\r\n      promo_code,\r\n      scene: \"Renew\",\r\n      total: amount,\r\n      cycles: [{\r\n        product_id: id,\r\n        amount,\r\n        billing_cycle_time,\r\n        congig_options: {\r\n          // 这里\r\n          package_id: cloundDetail.package.id\r\n        }\r\n      }]\r\n    }\r\n\r\n    cloud.usePromoCode(params).then(res => {\r\n      if (res.data.status === 200) {\r\n        let list = res.data.data\r\n        if (codeData && codeData.length > 0) { // 判断是否第一个优惠码\r\n          // 判断第一个优惠码是否可以叠加使用\r\n          if (!codeData[0].overlay) {\r\n            showDialog(\"已使用的优惠码不支持叠加使用\", \"warning\")\r\n          } else {\r\n            if (list.overlay) { // 不是第一个优惠码 判断是否可以叠加使用\r\n              list.promo_code = promo_code\r\n              codeData.push(list)\r\n              setPromoTotal(promoTotal => {\r\n                return Number(promoTotal) + Number(list.discount)\r\n              })\r\n              setCodeData(codeData)\r\n              // 隐藏优惠码输入框显示\r\n              setIsShow(false)\r\n            } else {\r\n              showDialog(\"不能叠加使用该优惠码\", \"warning\")\r\n            }\r\n          }\r\n\r\n        } else {\r\n          // 第一个优惠码 直接使用\r\n          list.promo_code = promo_code\r\n          codeData.push(list)\r\n          setPromoTotal(promoTotal => {\r\n            return Number(promoTotal) + Number(list.discount)\r\n          })\r\n          setCodeData(codeData)\r\n          // 隐藏优惠码输入框显示\r\n          setIsShow(false)\r\n          // inputVal.current.input.value = null\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // 清空优惠码 和 优惠码总金额\r\n  const delAllCode = () => {\r\n    setCodeData([])\r\n    setPromoTotal(0)\r\n  }\r\n\r\n  // 删除对应优惠码\r\n  const delCode = (promo_code) => {\r\n\r\n    let arr1 = codeData.filter(item => item.promo_code === promo_code)\r\n    // 重新计算优惠价格\r\n    setPromoTotal(promoTotal => {\r\n      return promoTotal - Number(arr1[0].discount)\r\n    })\r\n\r\n    let arr = codeData.filter(item => item.promo_code !== promo_code)\r\n\r\n    console.log(codeData);\r\n    setCodeData(arr)\r\n  }\r\n\r\n  // 申请停用/退款modal\r\n  const [isShowModal, setIsShowModal] = useState(false)\r\n\r\n  // 停用失败显示信息\r\n  const [errMsg, setErrMsg] = useState(\"\")\r\n  // 停用失败申请时间\r\n  const [errTime, setErrTime] = useState(\"\")\r\n  // 停用成功显示信息\r\n  const [infoTime, setInfoTime] = useState(\"\")\r\n  const [infoMsg, setInfoMsg] = useState(\"\")\r\n  const [infoEndTime, setInfoEndTime] = useState(\"\")\r\n\r\n  // 停用原因选择框\r\n  const getReason = (e) => {\r\n    setParams({ ...refundParams, suspend_reason: e })\r\n  }\r\n\r\n  const getSelfReason = (e) => {\r\n    setParams({ ...refundParams, suspend_reason: e.target.value })\r\n  }\r\n\r\n  // 停用时间 选择框\r\n  const getType = (e) => {\r\n    setParams({ ...refundParams, type: e })\r\n  }\r\n\r\n  //  显示停用/退款modal\r\n  const showModal = () => {\r\n    // 初始化停用参数\r\n    setParams({\r\n      host_id: Number(id),\r\n      suspend_reason: null,\r\n      type: \"\"\r\n    })\r\n\r\n    // 获取停用页面信息\r\n    cloud.refund({ host_id: id }).then(res => {\r\n      if (res.data.status === 200) {\r\n        let list = res.data.data\r\n        setRefundData(list)\r\n        if (list.allow_refund == 1) {  // 允许退款\r\n          // 显示停用modal\r\n          setIsShowModal(true)\r\n        } else {\r\n          // setIsShowModal(true)\r\n          // let time = new Date().getTime()\r\n          // time = moment(time).format(\"YYYY.MM.DD HH:mm\")\r\n          // setErrMsg(time)\r\n          showDialog(\"非常抱歉，给您带来不便，该产品不支持退款，若有疑问，请联系售后人员！\", \"warning\")\r\n        }\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  // 确认停用s申请\r\n  const doRefund = () => {\r\n    console.log(refundParams);\r\n    let isPass = true\r\n    if (!refundParams.suspend_reason) {\r\n      showDialog(\"请输入停用原因\", \"error\")\r\n      isPass = false\r\n    }\r\n    if (!refundParams.type) {\r\n      showDialog(\"请选择停用时间\", \"error\")\r\n      isPass = false\r\n    }\r\n    if (isPass) {\r\n      cloud.postRefund(refundParams).then(res => {\r\n        if (res.data.status === 200) {\r\n          showDialog(\"申请停用成功，请耐心等待审核\", \"success\")\r\n          setIsShowModal(false)\r\n          // 重新获取财务信息\r\n          getHost()\r\n          // 重新获取停用信息\r\n          getRefundMsg()\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  // 取消停用\r\n  const quitStop = () => {\r\n    Swal.fire({\r\n      text: `您将取消停用，是否继续`,\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#5C5EE4',\r\n      confirmButtonText: '确认',\r\n      cancelButtonText: '取消',\r\n      customClass: {\r\n        cancelButton: 'ssh-cancel-button',\r\n      }\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // 调用取消停用接口\r\n        console.log(refundMsg);\r\n        const id = refundMsg.id\r\n        cloud.quitRefund({ id }).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(\"请求取消停用成功!\", \"success\")\r\n            // 重新拉取停用信息\r\n            getRefundMsg()\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // 获取实例详情\r\n  const getCloudDetails = () => {\r\n    cloud.getCloudDetail(id).then(res => {\r\n      if (res.data.status === 200) {\r\n        setCloundDetail(res.data.data)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 获取产品停用信息\r\n  const getRefundMsg = () => {\r\n    cloud.refundMsg(id).then(res => {\r\n      if (res.data.status === 200) {\r\n        const refund = res.data.data.refund\r\n        setRefundMsg(refund)\r\n        if (refund && refund.status === \"Reject\") { // 审核驳回\r\n          let time = refund.create_time * 1000\r\n          setErrTime(moment(time).format(\"YYYY.MM.DD HH:mm\"))\r\n          if (refund.type) {\r\n            if (refund.type === \"Immediate\") {\r\n              setErrMsg(\"立即停用\")\r\n            } else {\r\n              setErrMsg(\"到期停用\")\r\n            }\r\n          }\r\n        }\r\n        if (refund && refund.status === \"Suspended\") {\r\n          let time = refund.create_time * 1000\r\n          setInfoTime(moment(time).format(\"YYYY.MM.DD HH:mm\"))\r\n          if (refund.type) {\r\n            if (refund.type === \"Immediate\") {\r\n              // setErrMsg(\"立即停用\")\r\n              setInfoMsg(\"立即停用\")\r\n            } else {\r\n              setInfoMsg(\"到期停用\")\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // 获取产品详情\r\n  const getHost = () => {\r\n    cloud.host(id).then(res => {\r\n      if (res.data.status === 200) {\r\n        let list = res.data.data.host\r\n        setHostDetail(list)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 获取通用信息\r\n  const getUserCommon = () => {\r\n    getCommon().then(res => {\r\n      if (res.data.status === 200) {\r\n        setCommon(res.data.data)\r\n      }\r\n    })\r\n  }\r\n  // 向左移动\r\n  const doSub = () => {\r\n    let num = activeId\r\n    if (num > 1) {\r\n      num -= 1\r\n      setActiveId(num)\r\n      delAllCode()\r\n    }\r\n    if (showId[0] > 1) {\r\n      let newIds = showId\r\n      newIds[0] = newIds[0] - 1\r\n      newIds[1] = newIds[1] - 1\r\n      newIds[2] = newIds[2] - 1\r\n      setShowId(newIds)\r\n    }\r\n  }\r\n\r\n  // 向右移动\r\n  const doAdd = () => {\r\n    let num = activeId\r\n    if (num < renewData.length) {\r\n      num += 1\r\n      setActiveId(num++)\r\n      delAllCode()\r\n    }\r\n    if (showId[2] < renewData.length) {\r\n      let newIds = showId\r\n      newIds[0] = newIds[0] + 1\r\n      newIds[1] = newIds[1] + 1\r\n      newIds[2] = newIds[2] + 1\r\n      setShowId(newIds)\r\n    }\r\n  }\r\n\r\n  // 确认续费\r\n  const doRenew = () => {\r\n    let customfield = []\r\n    if (codeData) {\r\n      codeData.map(item => {\r\n        customfield.push(item.promo_code)\r\n      })\r\n    }\r\n    const params = {\r\n      id: Number(id),\r\n      billing_cycle: renewData[activeId - 1].billing_cycle,\r\n      customfield: {\r\n        \"promo_code\": customfield\r\n      }\r\n    }\r\n    // 调用续费接口\r\n    cloud.doRenw(params).then(res => {\r\n      if (res.data.status === 200) {\r\n        setIsRenewModal(false)\r\n        const orderId = res.data.data.id\r\n        const amount = renewData[activeId - 1].price - promoTotal\r\n        setOrderId(orderId)\r\n        // setVisible(true)\r\n        // 展示支付窗口\r\n        showPayModal(orderId, amount)\r\n\r\n        // showDialog(\"续费成功\", \"success\")\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  const codeInputChange = (e) => {\r\n    // console.log(e.target.value);\r\n    setCodeInput(e.target.value)\r\n  }\r\n\r\n  // 获取优惠码信息\r\n  const getYhCode = () => {\r\n    promoCode(id).then(res => {\r\n      if (res.data.status === 200) {\r\n        const data = res.data.data.promo_code\r\n        // const arr = [\"sssss\",\"asgdjkas\"]\r\n        setHostPromoCode(data)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 点击查看原因\r\n  const showReson = () => {\r\n    showDialog(`驳回原因：${refundMsg.reject_reason}`, \"info\")\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCloudDetails()\r\n    getHost()\r\n    getUserCommon()\r\n    getPayWay()\r\n    getAccount()\r\n    getYhCode()\r\n    getRefundMsg()\r\n    return () => clearInterval(timer);\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"summary\">\r\n      {\r\n        cloundDetail && hostDetail && common ?\r\n          <div>\r\n            <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 30 }}>\r\n              {/* 产品信息 */}\r\n              <Col xs={{ span: 24 }} lg={{ span: 12 }}>\r\n                <div className=\"cloud-card\">\r\n                  <p className=\"tit\">{t(\"cloud.product_info\")}</p>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">产品名称：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{cloundDetail.package.name ? cloundDetail.package.name : '--'}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">产品配置：</p>\r\n                    <div className=\"r-text\">\r\n                      {/* cal */}\r\n                      <p>{cloundDetail.cal.cpu ? cloundDetail.cal.cpu : '--'} vCPU</p>\r\n                      <p>{cloundDetail.cal.memory ? cloundDetail.cal.memory / 1024 : '--'} G RAM</p>\r\n                      <p>{cloundDetail.cal.disk_size ? cloundDetail.cal.disk_size : '--'} G SSD Storage</p>\r\n                      {/* bw */}\r\n                      <p>{cloundDetail.bw.flow ? cloundDetail.bw.flow : '--'} TB/mo Transfer</p>\r\n                      <p>{cloundDetail.bw.bw ? cloundDetail.bw.bw : '--'} Gbps Port speed</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">主机名：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{hostDetail.name ? hostDetail.name : '--'}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">IP：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{cloundDetail.ip ? cloundDetail.ip : '--'}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n              {/* 财务信息 */}\r\n              <Col xs={{ span: 24 }} lg={{ span: 12 }}>\r\n                <div className=\"cloud-card\">\r\n                  <p className=\"tit\">{t(\"cloud.finance_info\")}</p>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">首次支付金额：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{common.currency_prefix}{hostDetail.first_payment_amount}{common.currency_code}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">状态：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{status[hostDetail.status].text}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    {/* 创建时间 */}\r\n                    <p className=\"l-tit\">{t(\"common.begin_time\")}：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{hostDetail.active_time ? moment(hostDetail.active_time * 1000).format(\"YYYY-MM-DD HH:mm\") : '--'}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    {/* 到期时间 */}\r\n                    <p className=\"l-tit\">{t(\"common.due_time\")}：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{hostDetail.due_time * 1000 ? moment(hostDetail.due_time * 1000).format(\"YYYY-MM-DD HH:mm\") : '--'}{hostDetail.active_time && hostDetail.due_time ? `(${endDayCount}天)` : null}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">费用：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{common.currency_prefix}{hostDetail.renew_amount}{common.currency_code}/{hostDetail.billing_cycle_name ? hostDetail.billing_cycle_name : null}\r\n\r\n                        {\r\n                          // 产品状态为未支付 或支付失败 不展示任何操作  否则 判断有无停用信息\r\n                          hostDetail.status === 'Unpaid' || hostDetail.status === 'Failed' ? null\r\n                            :\r\n                            (\r\n                              // 有无停用信息\r\n                              refundMsg ?\r\n                                (\r\n                                  // 有停用信息 判断停用状态\r\n                                  // 已取消 审核驳回\r\n                                  refundMsg.status === \"Cancelled\" || refundMsg.status === \"Reject\" ?\r\n                                    <>\r\n                                      <span className='renew-btn' onClick={showRenewModal}>续费</span>\r\n                                      <span className='stop-btn' onClick={showModal}>申请停用</span>\r\n                                    </>\r\n                                    :\r\n                                    // 待停用  待审核\r\n                                    // || refundMsg.status === \"Suspending\" 停用中\r\n                                    refundMsg.status === \"Pending\" || refundMsg.status === \"Suspend\" ?\r\n                                      <>\r\n                                        <span className='un-renew-btn'>续费</span>\r\n                                        <span className='stoping-btn'>{refundStste[refundMsg.status]}</span>\r\n                                        <span className='quit-stop-btn' onClick={quitStop}>取消停用</span>\r\n                                      </>\r\n                                      :\r\n                                      // 已退款 已停用\r\n                                      <>\r\n                                        <span className='un-renew-btn'>续费</span>\r\n                                        <span className='stoping-btn'>{refundStste[refundMsg.status]}</span>\r\n                                      </>\r\n                                )\r\n                                :\r\n                                (<>\r\n                                  <span className='renew-btn' onClick={showRenewModal}>续费</span>\r\n                                  <span className='stop-btn' onClick={showModal}>申请停用</span>\r\n                                </>)\r\n\r\n                            )\r\n                        }\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">优惠码：</p>\r\n                    <div className=\"r-text\">\r\n                      <p>{\r\n                        hostPromoCode && hostPromoCode.length > 0 ?\r\n                          hostPromoCode.map(item => {\r\n                            return <span key={item}>{item}&nbsp;</span>\r\n                          })\r\n                          :\r\n                          '--'\r\n                      }</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    <p className=\"l-tit\">客户备注：</p>\r\n                    <div className=\"r-text \">\r\n                      <div className='r-notes'>\r\n                        {\r\n                          isEditNote ?\r\n                            <p>{hostDetail.notes ? hostDetail.notes : '--'}</p>\r\n                            :\r\n                            <Input className='notes-input' onChange={notesInputChange} value={notes} ></Input>\r\n                        }\r\n                        <div className='notes-btn' onClick={editNotes}>修改备注</div>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item\">\r\n                    {\r\n                      errMsg ?\r\n                        <div className=\"err-msg\">\r\n                          <div className='err-text'> (产品于{errTime}申请<span className='important'>&nbsp;{errMsg}&nbsp;</span>失败，<a onClick={showReson}>查看原因</a> )</div>\r\n                        </div>\r\n                        :\r\n                        null\r\n                    }\r\n                    {\r\n                      infoMsg ?\r\n                        <div className=\"info-msg\">\r\n                          <div className='info-text'> (产品于{infoTime}申请<span className='important'>&nbsp;{infoMsg}&nbsp;</span>,于{infoEndTime}自动删除)</div>\r\n                        </div>\r\n                        :\r\n                        null\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            {/* 申请停用modal */}\r\n            {\r\n              refundData ?\r\n                <Modal\r\n                  visible={isShowModal}\r\n                  footer={null}\r\n                  centered={true}\r\n                  closable={false}\r\n                  style={{ borderRadius: \"10px\", overflow: \"auto\" }}\r\n                  maskClosable={true}\r\n                  keyboard={true}\r\n                  getContainer={false}\r\n                  onCancel={() => setIsShowModal(false)}\r\n                >\r\n                  <div className=\"modal-unopen\">\r\n                    <div className=\"modal-title\">\r\n                      {\r\n                        refundData.host.amount >= 0 ?\r\n                          \"申请退款\"\r\n                          :\r\n                          \"申请停用\"\r\n                      }\r\n                    </div>\r\n                    <div className=\"modal-form\">\r\n                      <Row>\r\n                        <Col span={5}>\r\n                          <div className=\"row-l\">\r\n                            产品信息\r\n                          </div>\r\n                        </Col>\r\n                        <Col span={19}>\r\n                          <div className=\"row-r\">\r\n                            <div className=\"item\" style={{ padding: \"15px 0\" }}>\r\n                              <p className=\"l-tit\">产品配置：</p>\r\n                              <div className=\"r-text\">\r\n                                {/* cal */}\r\n                                <p>{cloundDetail.cal.cpu} vCPU</p>\r\n                                <p>{cloundDetail.cal.memory / 1024} G RAM</p>\r\n                                <p>{cloundDetail.cal.disk_size} G SSD Storage</p>\r\n                                {/* bw */}\r\n                                <p>{cloundDetail.bw.flow} TB/mo Transfer</p>\r\n                                <p>{cloundDetail.bw.bw} Gbps Port speed</p>\r\n                              </div>\r\n                              <p className='l-tit'>订购时间：</p>\r\n                              <div className=\"r-text\">\r\n                                <p>{moment(hostDetail.active_time * 1000).format(\"YYYY-MM-DD HH:mm\")}</p>\r\n                              </div>\r\n                              {\r\n                                refundData.host.amount >= 0 ?\r\n                                  <div>\r\n                                    <p className='l-tit'>订购金额：</p>\r\n                                    <div className=\"r-text\">\r\n                                      <p>{common.currency_prefix}{refundData.host.first_payment_amount}{common.currency_code}</p>\r\n                                    </div>\r\n                                  </div>\r\n                                  :\r\n                                  null\r\n                              }\r\n                            </div>\r\n                          </div>\r\n                        </Col>\r\n                      </Row>\r\n                      <Row>\r\n                        <Col span={5}>\r\n                          <div className=\"row-l row-center\">\r\n                            停用原因\r\n                          </div>\r\n                        </Col>\r\n                        <Col span={19}>\r\n                          <div className=\"row-r\">\r\n                            {\r\n                              refundData.reason_custom !== 1 ?\r\n                                <Select mode=\"multiple\" showArrow allowClear size='large' style={{ width: \"100%\" }} onChange={getReason}>\r\n                                  {\r\n                                    refundData.reasons.map(item => {\r\n                                      return <Option key={item.id} value={item.id}>{item.content}</Option>\r\n                                    })\r\n                                  }\r\n                                </Select>\r\n                                :\r\n                                <TextArea onChange={getSelfReason} rows={4} placeholder=\"请输入停用原因\" />\r\n                            }\r\n                          </div>\r\n                        </Col>\r\n                      </Row>\r\n                      <Row>\r\n                        <Col span={5}>\r\n                          <div className=\"row-l row-center\">\r\n                            停用时间\r\n                          </div>\r\n                        </Col>\r\n                        <Col span={19}>\r\n                          <div className=\"row-r\">\r\n                            <Select size='large' style={{ width: \"100%\" }} onChange={getType}>\r\n                              <Option value=\"Expire\">到期后</Option>\r\n                              <Option value=\"Immediate\">立即</Option>\r\n                            </Select>\r\n                          </div>\r\n                        </Col>\r\n                      </Row>\r\n                      {\r\n                        refundData.host.amount >= 0 ?\r\n                          <Row>\r\n                            <Col span={5}>\r\n                              <div className=\"row-l\">\r\n                                退款金额\r\n                              </div>\r\n                            </Col>\r\n                            <Col span={19}>\r\n                              <div className=\"row-right\">\r\n\r\n                                {\r\n                                  refundParams.type === \"Immediate\" ?\r\n                                    // 立即停用\r\n                                    common.currency_prefix + refundData.host.amount + common.currency_code\r\n                                    :\r\n                                    common.currency_prefix + '0' + common.currency_code\r\n                                  // 到期停用\r\n                                }\r\n                                {/* {common.currency_prefix}{refundData.host.amount} */}\r\n                              </div>\r\n                            </Col>\r\n                          </Row>\r\n                          :\r\n                          null\r\n                      }\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                      <Button className='btn-ok' onClick={doRefund}>\r\n                        {\r\n                          refundData.host.amount >= 0 ?\r\n                            \"确认退款\"\r\n                            :\r\n                            \"确认停用\"\r\n                        }\r\n                      </Button>\r\n                      <Button className='btn-no' onClick={() => setIsShowModal(false)}>取消</Button>\r\n                    </div>\r\n                  </div>\r\n                </Modal>\r\n                :\r\n                null\r\n            }\r\n            {/* 续费modal */}\r\n            <Modal\r\n              visible={isRenewModal}\r\n              footer={null}\r\n              centered={true}\r\n              closable={false}\r\n              style={{ borderRadius: \"10px\", overflow: \"auto\" }}\r\n              maskClosable={true}\r\n              keyboard={true}\r\n              getContainer={false}\r\n              width=\"708px\"\r\n              onCancel={() => setIsRenewModal(false)}\r\n            >\r\n              <div className=\"modal-renew\">\r\n                <div className=\"modal-title\">\r\n                  续费\r\n                </div>\r\n                <div className=\"modal-top\">\r\n                  <div className=\"top-l\"><img onClick={doSub} src={require('@/assets/images/cloud/left.png')} /></div>\r\n                  <div className=\"top-m\">\r\n                    {\r\n                      renewData ? renewData.map(item => {\r\n                        return (\r\n                          <span onClick={() => { setActiveId(item.id); delAllCode() }} key={item.id} className={item.id === showId[0] || item.id === showId[1] || (item.id === showId[2]) ? (item.id === activeId ? \"m-card active\" : \"m-card\") : \"m-card hiden\"}>\r\n                            <span className=\"cycle\">{item.billing_cycle}</span>\r\n                            <span className=\"money\">\r\n                              <span className='money-prefix'>{common.currency_prefix}</span>\r\n                              <span className=\"money-num\">{item.price}</span>\r\n                            </span>\r\n                            {/* <span className='true-money'>\r\n                              <span className='money-prefix'>{common.currency_prefix}</span>\r\n                              <span className=\"money-num\">{item.price}</span>\r\n                            </span> */}\r\n                          </span>\r\n                        )\r\n                      })\r\n                        :\r\n                        null\r\n                    }\r\n                  </div>\r\n                  <div className=\"top-r\"  ><img onClick={doAdd} src={require('@/assets/images/cloud/right.png')} /></div>\r\n                </div>\r\n                <div className=\"modal-middle\">\r\n                  <div className=\"main\">\r\n                    <div className=\"text\">实付：</div>\r\n                    <div className=\"money\">\r\n                      <span className='pre'>{common.currency_prefix}</span>\r\n                      <span className='num'>{renewData ? renewData[activeId - 1].price - promoTotal > 0 ? renewData[activeId - 1].price - promoTotal : 0 : 0}</span>\r\n                      <a className='btn' onClick={() => { setIsShow(!isShow); setCodeInput(null) }}>优惠码</a>\r\n                    </div>\r\n                    <div className=\"operation\" style={{ display: isShow ? \"\" : \"none\" }}>\r\n                      <Input placeholder='请输入优惠码' className='o-input' onChange={codeInputChange} value={CodeInput} ref={inputVal} /><Button className='o-btn' onClick={getCode}>确定</Button>\r\n                    </div>\r\n                    <div className=\"details\">\r\n                      {\r\n                        codeData ?\r\n                          codeData.map(item => {\r\n                            return (\r\n                              <span className='d-item' key={item.promo_code}>\r\n                                <span className='item-pre'>-{common.currency_prefix}{item.discount}</span>\r\n                                <span className=\"item-code\">(优惠码{item.promo_code})</span>\r\n                                <span className='item-out' onClick={() => { delCode(item.promo_code) }}><div className='item-in'></div></span>\r\n                              </span>\r\n                            )\r\n                          })\r\n                          :\r\n                          null\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"modal-bottom\">\r\n                  <Button className='btn-ok' onClick={doRenew}>确认续费</Button>\r\n                  <Button className='btn-no' onClick={() => setIsRenewModal(false)}>取消</Button>\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n            {/* 支付modal */}\r\n            <Modal\r\n              visible={visible}\r\n              title={t(\"common.pay\")}\r\n              onOk={handleOk}\r\n              onCancel={handleCancel}\r\n              className=\"pay-modal\"\r\n              closable={false}\r\n              getContainer={false}\r\n              footer={\r\n                !isShowPay ? [\r\n                  <Button\r\n                    key=\"submit\"\r\n                    className=\"sure\"\r\n                    loading={loading}\r\n                    onClick={handleOk}\r\n                  >\r\n                    {t(\"cloud.sure_pay\")}\r\n                  </Button>,\r\n                  <Button key=\"back\" onClick={handleCancel} className=\"cancel\">\r\n                    {t(\"common.cancel\")}\r\n                  </Button>,\r\n                ]\r\n                  : null\r\n              }\r\n            >\r\n              <div className=\"cloud-pay-box\">\r\n                <div className=\"item first\">\r\n                  <div className=\"l-text\">{t(\"common.pay_way\")}</div>\r\n                  <div className=\"r-text-l\">\r\n                    {payList.length > 0 && (\r\n                      <Select value={curPay} onChange={changePayWay}>\r\n                        {payList.map((item) => {\r\n                          return (\r\n                            <Option value={item.name} key={item.id}>\r\n                              {item.title}\r\n                            </Option>\r\n                          );\r\n                        })}\r\n                      </Select>\r\n                    )}\r\n                    <Checkbox onChange={useBalance} checked={balanceChecked}>\r\n                      {t(\"cloud.use_balance\")}\r\n                    </Checkbox>\r\n                  </div>\r\n                </div>\r\n                <div className=\"item\">\r\n                  {/* 订单金额 */}\r\n                  <div className=\"l-text\">{t(\"cloud.order_amount\")}</div>\r\n                  <div className=\"r-text-l order-num\">￥&nbsp;{money}</div>\r\n                </div>\r\n                <div className=\"item last\">\r\n                  {/* 实付金额 */}\r\n                  <div className=\"l-text\">{t(\"cloud.pay_amount\")}</div>\r\n                  <div className=\"r-text-l pay-num\">\r\n                    <p className=\"paid\">\r\n                      ￥\r\n                      {\r\n                        // 当勾选余额的时候：订单金额 - 账户余额，小于0 则表示全部使用\r\n                        balanceChecked\r\n                          ? (Number(money) -\r\n                            Number(balance) <=\r\n                            0\r\n                            ? 0\r\n                            : Number(money) -\r\n                            Number(balance)\r\n                          ).toFixed(2)\r\n                          : Number(money).toFixed(2)\r\n                      }\r\n                    </p>\r\n                    {balanceChecked && (\r\n                      <p className=\"balance\">\r\n                        -￥\r\n                        {/* 订单金额>=余额 显示 余额   否则 订单金额 */}\r\n                        {(Number(money) >= Number(balance)\r\n                          ? Number(balance)\r\n                          : Number(money)\r\n                        ).toFixed(2)}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                {\r\n                  // 可用余额小于订单金额\r\n                  isShowPay && (\r\n                    <div className=\"item pay-html\">\r\n                      {/* 渲染支付的模块 */}\r\n                      {/* <img src={payHtml} alt=\"\" /> */}\r\n                      {/* <div dangeroussetinnerhtml={{ __html: payHtml }}></div> */}\r\n                      <div dangerouslySetInnerHTML={{ __html: payHtml }}></div>\r\n                    </div>\r\n                  )\r\n                }\r\n              </div>\r\n            </Modal>\r\n          </div >\r\n          :\r\n          null\r\n      }\r\n\r\n    </div >\r\n  )\r\n}\r\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport moment from \"moment\";\r\nimport * as cloud from \"@/api/cloud\";\r\nimport { Col, Row, message } from \"antd\";\r\nimport * as echarts from \"echarts\";\r\nimport \"./chart.less\";\r\nexport default function Charts(props) {\r\n  const id = props.id;\r\n  const { t } = useTranslation();\r\n  const [cputype, setcputype] = useState(1);\r\n  const [iotype, setiotype] = useState(1);\r\n  const [metype, setmetype] = useState(1);\r\n  const [nettype, setnettype] = useState(1);\r\n  // const [cpulist, setcpulist] = useState([]);\r\n  const changetype = (e) => {\r\n    setcputype(e);\r\n  };\r\n  const changetype2 = (e) => {\r\n    setiotype(e);\r\n  };\r\n  const changetype3 = (e) => {\r\n    setmetype(e);\r\n  };\r\n  const changetype4 = (e) => {\r\n    setnettype(e);\r\n  };\r\n  // useEffect(() => {\r\n  //   getList(\"cpu\", cputype);\r\n\r\n  // }, []);\r\n  useEffect(() => {\r\n    getList(\"cpu\", cputype);\r\n  }, [cputype]);\r\n\r\n  useEffect(() => {\r\n    getList(\"disk_io\", iotype);\r\n  }, [iotype]);\r\n\r\n  useEffect(() => {\r\n    getList(\"memory\", metype);\r\n  }, [metype]);\r\n\r\n  useEffect(() => {\r\n    getList(\"bw\", nettype);\r\n  }, [nettype]);\r\n  //时间转换\r\n  const getstarttime = (type) => {\r\n    console.log(parseInt(new Date().getTime() / 1000), \"time\");\r\n    let nowtime = parseInt(new Date().getTime() / 1000);\r\n    if (type === 1) {\r\n      return nowtime - 24 * 60 * 60;\r\n    } else if (type === 2) {\r\n      return nowtime - 24 * 60 * 60 * 3;\r\n    } else if (type === 3) {\r\n      return nowtime - 24 * 60 * 60 * 7;\r\n    } else if (type === 4) {\r\n      return nowtime - 24 * 60 * 60 * 30;\r\n    } else if (type === 5) {\r\n      return nowtime - 24 * 60 * 60 * 30 * 6;\r\n    }\r\n  };\r\n  //cpu数据\r\n  const getList = async (type, timetype) => {\r\n    let start_time = getstarttime(timetype);\r\n    console.log(start_time, \"getstarttime\");\r\n    let parmar = {\r\n      id,\r\n      type,\r\n      start_time,\r\n    };\r\n    try {\r\n      const res = await cloud.chartdata(parmar);\r\n      const list = res.data.data.list;\r\n      let xAxis = [];\r\n      let yAxis = [];\r\n      let yAxis2 = [];\r\n      let yAxis3 = [];\r\n      let yAxis4 = [];\r\n      list.map((item) => {\r\n        if (type === \"cpu\") {\r\n          xAxis.push(moment(item.time * 1000).format(\"YYYY-MM-DD HH:mm\"));\r\n          yAxis.push((item.value * 100).toFixed(2));\r\n          getcpuchart(xAxis, yAxis);\r\n        }\r\n        if (type === \"disk_io\") {\r\n          xAxis.push(moment(item.time * 1000).format(\"YYYY-MM-DD HH:mm\"));\r\n          yAxis.push((item.read_bytes / 1024 / 1024).toFixed(2));\r\n          yAxis2.push((item.read_iops / 1024 / 1024).toFixed(2));\r\n          yAxis3.push(item.write_bytes.toFixed(2));\r\n          yAxis4.push(item.write_iops.toFixed(2));\r\n          getioChart(xAxis, yAxis, yAxis2, yAxis3, yAxis4);\r\n        }\r\n        if (type === \"memory\") {\r\n          xAxis.push(moment(item.time * 1000).format(\"YYYY-MM-DD HH:mm\"));\r\n          yAxis.push((item.total / 1024 / 1024).toFixed(2));\r\n          yAxis2.push((item.used / 1024 / 1024).toFixed(2));\r\n          getmemoryChart(xAxis, yAxis, yAxis2);\r\n        }\r\n        if (type === \"bw\") {\r\n          xAxis.push(moment(item.time * 1000).format(\"YYYY-MM-DD HH:mm\"));\r\n          yAxis.push(item.in_bw.toFixed(2));\r\n          yAxis2.push(item.out_bw.toFixed(2));\r\n          getbwchart(xAxis, yAxis, yAxis2);\r\n        }\r\n      });\r\n\r\n      console.log(xAxis, yAxis, \"data\");\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  //内存用量图表\r\n  const getmemoryChart = (xAxis, yAxis, yAxis2) => {\r\n    var chartDom = document.getElementById(\"memorychart\");\r\n    var myChart = echarts.init(chartDom);\r\n    // console.log(myChart, \"myChart1\");\r\n    var option;\r\n    option = {\r\n      tooltip: {\r\n        show: true,\r\n        trigger: \"axis\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        boundaryGap: false,\r\n        data: xAxis,\r\n      },\r\n      yAxis: {\r\n        // name: \"单位/M\",\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          name: \"总内存(MB)\",\r\n          data: yAxis,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n        {\r\n          name: \"内存使用量(MB)\",\r\n          data: yAxis2,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n      ],\r\n    };\r\n    option && myChart.setOption(option);\r\n  };\r\n  //磁盘IO图表\r\n  const getioChart = (xAxis, yAxis, yAxis2, yAxis3, yAxis4) => {\r\n    var chartDom = document.getElementById(\"iochart\");\r\n    var myChart = echarts.init(chartDom);\r\n    // console.log(myChart, \"myChart1\");\r\n    var option;\r\n    option = {\r\n      tooltip: {\r\n        show: true,\r\n        trigger: \"axis\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        boundaryGap: false,\r\n        data: xAxis,\r\n      },\r\n      yAxis: {\r\n        // name: \"单位（B/s）\",\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          name: \"读取速度(MB/s)\",\r\n          data: yAxis,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n        {\r\n          name: \"写入速度(MB/s)\",\r\n          data: yAxis2,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n        {\r\n          name: \"读取IOPS\",\r\n          data: yAxis3,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n        {\r\n          name: \"写入IOPS\",\r\n          data: yAxis4,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n      ],\r\n    };\r\n    option && myChart.setOption(option);\r\n  };\r\n  //CPU用量图表\r\n  const getcpuchart = (xAxis, yAxis) => {\r\n    var chartDom = document.getElementById(\"cpuchart\");\r\n    var myChart = echarts.init(chartDom);\r\n    // console.log(myChart, \"myChart1\");\r\n    var option;\r\n    option = {\r\n      tooltip: {\r\n        show: true,\r\n        trigger: \"axis\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        boundaryGap: false,\r\n        data: xAxis,\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          name: \"占用量（%）\",\r\n          data: yAxis,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n      ],\r\n    };\r\n    option && myChart.setOption(option);\r\n  };\r\n  //带宽图表\r\n  const getbwchart = (xAxis, yAxis, yAxis2) => {\r\n    var chartDom = document.getElementById(\"bwchart\");\r\n    var myChart = echarts.init(chartDom);\r\n    // console.log(myChart, \"myChart1\");\r\n    var option;\r\n    option = {\r\n      tooltip: {\r\n        show: true,\r\n        trigger: \"axis\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        boundaryGap: false,\r\n        data: xAxis,\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          name: \"进带宽(bps)\",\r\n          data: yAxis,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n        {\r\n          name: \"出带宽(bps)\",\r\n          data: yAxis2,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n      ],\r\n    };\r\n    option && myChart.setOption(option);\r\n  };\r\n  return (\r\n    <div className=\"chart\">\r\n      <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 30 }}>\r\n        <Col xs={{ span: 24 }} lg={{ span: 12 }}>\r\n          <div className=\"cloud-card chartbox\">\r\n            <p className=\"chart_title\">CPU用量图</p>\r\n            <div className=\"chart_type\">\r\n              <div\r\n                className={`chart_type_item ${cputype === 1 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype(1)}\r\n              >\r\n                近24小时\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${cputype === 2 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype(2)}\r\n              >\r\n                近3天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${cputype === 3 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype(3)}\r\n              >\r\n                近7天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${cputype === 4 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype(4)}\r\n              >\r\n                近1月\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${cputype === 5 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype(5)}\r\n              >\r\n                近半年\r\n              </div>\r\n              <div id=\"cpu_chart\"></div>\r\n            </div>\r\n            <div id=\"cpuchart\" className=\"echarts\"></div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} lg={{ span: 12 }}>\r\n          <div className=\"cloud-card chartbox\">\r\n            <p className=\"chart_title\">磁盘IO</p>\r\n            <div className=\"chart_type\">\r\n              <div\r\n                className={`chart_type_item ${iotype === 1 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype2(1)}\r\n              >\r\n                近24小时\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${iotype === 2 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype2(2)}\r\n              >\r\n                近3天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${iotype === 3 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype2(3)}\r\n              >\r\n                近7天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${iotype === 4 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype2(4)}\r\n              >\r\n                近1月\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${iotype === 5 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype2(5)}\r\n              >\r\n                近半年\r\n              </div>\r\n            </div>\r\n            <div id=\"iochart\" className=\"echarts\"></div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} lg={{ span: 12 }}>\r\n          <div className=\"cloud-card chartbox\">\r\n            <p className=\"chart_title\">内存用量</p>\r\n            <div className=\"chart_type\">\r\n              <div\r\n                className={`chart_type_item ${metype === 1 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype3(1)}\r\n              >\r\n                近24小时\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${metype === 2 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype3(2)}\r\n              >\r\n                近3天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${metype === 3 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype3(3)}\r\n              >\r\n                近7天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${metype === 4 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype3(4)}\r\n              >\r\n                近1月\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${metype === 5 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype3(5)}\r\n              >\r\n                近半年\r\n              </div>\r\n            </div>\r\n            <div id=\"memorychart\" className=\"echarts\"></div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} lg={{ span: 12 }}>\r\n          <div className=\"cloud-card chartbox\">\r\n            <p className=\"chart_title\">网络带宽</p>\r\n            <div className=\"chart_type\">\r\n              <div\r\n                className={`chart_type_item ${nettype === 1 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype4(1)}\r\n              >\r\n                近24小时\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${nettype === 2 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype4(2)}\r\n              >\r\n                近3天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${nettype === 3 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype4(3)}\r\n              >\r\n                近7天\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${nettype === 4 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype4(4)}\r\n              >\r\n                近1月\r\n              </div>\r\n              <div\r\n                className={`chart_type_item ${nettype === 5 ? \"active\" : \"\"}`}\r\n                onClick={() => changetype4(5)}\r\n              >\r\n                近半年\r\n              </div>\r\n            </div>\r\n            <div id=\"bwchart\" className=\"echarts\"></div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSearchParams } from 'react-router-dom'\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Tooltip, Col, Row, Select, message, Modal, Form, Input, Button, Checkbox, Popover } from 'antd';\r\nimport './Manage.css'\r\nimport { getCommon } from '@/api/common'\r\nimport * as manage from '@/api/cloudManage'\r\nimport * as cloud from \"@/api/cloud\";\r\nimport { genEnCode, showDialog } from '@/utils/util.js'\r\nimport DelDialog from '@/components/delDialog/DelDialog';\r\nimport {\r\n  QuestionCircleOutlined\r\n} from '@ant-design/icons';\r\nimport PayModal from \"@/components/payModal/PayModal\";\r\nconst { Option } = Select;\r\nexport default function Manage (props) {\r\n  const [form] = Form.useForm()\r\n  const [pasForm] = Form.useForm()\r\n  const [reForm] = Form.useForm() // 重装系统表单\r\n  const optOs = Form.useWatch('optOs', reForm) || { type: 'os', group: '1' }\r\n  const { t } = useTranslation()\r\n  const [search] = useSearchParams()\r\n  const cloudDetail = props.detail\r\n  const id = search.get('id') // 商品id\r\n  /* 初始化数据 */\r\n  const [common, setCommon] = useState()\r\n  const [type, setType] = useState(() => { // 实例状态\r\n    return props.type === 'on' ? 'off' : 'on'\r\n  })\r\n  const [detail, setDetail] = useState({})\r\n  const [optTitle, setOptTitle] = useState('')\r\n  const [des, setDes] = useState('')\r\n  const [optVisible, setOptVisible] = useState(false)\r\n  const [pasVisible, setPasVisible] = useState(false)\r\n  const [reinstallVisible, setReinstallVisible] = useState(false)\r\n  // 重置/救援系统模式\r\n  const [showQuit, setShowQuit] = useState(false)\r\n  const [optType, setOptType] = useState(null)\r\n  /* 重装系统相关 */\r\n  // 官方镜像列表\r\n  const [imageList, setImageList] = useState([])\r\n  // 模板列表\r\n  const [template, setTemplate] = useState([])\r\n  // 当前选择的是模板还是操作系统 \r\n  const [choose, setChoose] = useState('os') // 镜像/模板\r\n  const [group, setGroup] = useState()\r\n  const [curList, setCurList] = useState([])\r\n  const [pasway, setPasway] = useState('password') // 密码/ssh\r\n  const [needPay, setNeedPay] = useState(false) // 是否展示付费\r\n  const [price, setPrice] = useState(0.00)\r\n  const [ssh, setSsh] = useState([])\r\n  const [pasType, setPasType] = useState('password')\r\n  const [orderId, setOrderId] = useState()\r\n  // 定时器\r\n  let timer = useRef()\r\n  // 轮询剩余时间\r\n  const [time, setTime] = useState(300000); // 5分钟\r\n  const [isShowPay, setIsShowPay] = useState(false)\r\n  // 重置密码表单\r\n  const [pasData, setPasData] = useState({\r\n    id,\r\n    password: ''\r\n  })\r\n  /* api请求 */\r\n  const getHost = async () => {\r\n    try {\r\n      const res = await manage.getProductDetail(id)\r\n      const data = res.data.data.host\r\n      setDetail(data)\r\n      form.setFieldsValue({\r\n        host_name: data.name\r\n      })\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 通用配置\r\n  const getCommonConfig = async () => {\r\n    try {\r\n      const res = await getCommon()\r\n      setCommon(res.data.data)\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 控制台URL\r\n  const postVnc = async () => {\r\n    try {\r\n      const res = await manage.postVnc(id)\r\n      window.open(res.data.data.url)\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  // 获取官方镜像\r\n  const getImage = async () => {\r\n    try {\r\n      const res = await manage.getSystemImage({\r\n        product_id: 30,\r\n        data_center_id: props.detail.data_center.id\r\n      })\r\n      setImageList(res.data.data.list)\r\n      setCurList(res.data.data.list[0].image)\r\n      reForm.setFieldsValue({\r\n        optOs: {\r\n          group: res.data.data.list[0]?.id,\r\n          id: res.data.data.list[0].image[0]?.id\r\n        }\r\n      })\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 获取模板列表\r\n  const getTemplate = async () => {\r\n    try {\r\n      const res = await manage.getTemplate(id)\r\n      setTemplate(res.data.data.list)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  // 获取ssh秘钥列表\r\n  const getSsh = async () => {\r\n    try {\r\n      const res = await manage.getSsh({\r\n        page: 1,\r\n        limit: 1000\r\n      })\r\n      setSsh(res.data.data.list)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getCommonConfig()\r\n    getImage()\r\n    getTemplate()\r\n    return () => clearInterval(timer.current)\r\n  }, [])\r\n  useEffect(() => {\r\n    getHost()\r\n    setType(props.type === 'on' ? 'off' : 'on')\r\n  }, [props.type])\r\n  /* 事件操作 */\r\n  const handleChange = e => {\r\n    setType(e)\r\n  }\r\n  const handelPower = () => {\r\n    setOptVisible(true)\r\n    form.resetFields()\r\n    switch (type) {\r\n      case 'on':\r\n        return setOptTitle(t('cloud.tip16'))\r\n      case 'off':\r\n        return setOptTitle(t('cloud.tip17'))\r\n      case 'restart':\r\n        return setOptTitle(t('cloud.tip18'))\r\n      default:\r\n        return setOptTitle('title')\r\n    }\r\n  }\r\n  const optCancel = () => {\r\n    setOptVisible(false)\r\n    setPasVisible(false)\r\n    setReinstallVisible(false)\r\n  }\r\n  // 刷新状态\r\n  const refresh = () => {\r\n    props.refresh()\r\n  }\r\n  // 操作成功弹窗\r\n  const showDia = (msg, status) => {\r\n    showDialog(msg, status, () => {\r\n      optCancel()\r\n    })\r\n  }\r\n  // 开机\r\n  const powerOn = async () => {\r\n    try {\r\n      const res = await manage.powerOn(id)\r\n      if (res.data.status === 200) {\r\n        refresh()\r\n        showDia(res.data.msg, 'success')\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 关机\r\n  const powerOff = async () => {\r\n    try {\r\n      const force = form.getFieldsValue().remember\r\n      const res = await manage.powerOff(force, id)\r\n      if (res.data.status === 200) {\r\n        refresh()\r\n        showDia(res.data.msg, 'success')\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 重启\r\n  const reboot = async () => {\r\n    try {\r\n      const force = form.getFieldsValue().remember\r\n      const res = await manage.reboot(force, id)\r\n      if (res.data.status === 200) {\r\n        refresh()\r\n        showDia(res.data.msg, 'success')\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 确认操作按钮\r\n  const onFinish = () => {\r\n    switch (type) {\r\n      case 'on':\r\n        return powerOn()\r\n      case 'off':\r\n        return powerOff()\r\n      case 'restart':\r\n        return reboot()\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  // 重置密码|救援系统\r\n  const handlerPas = (type) => {\r\n    // 当已处于救援系统，则退出救援系统\r\n    if (type === 'rescue' && Number(props.isEscue)) {\r\n      setShowQuit(true)\r\n      return\r\n    }\r\n    setPasVisible(true)\r\n    setOptType(type)\r\n    pasForm.resetFields()\r\n    if (type === 'password') {\r\n      setOptTitle(t(\"cloud.reset_password\"))\r\n      setDes(t(\"cloud.tip22\"))\r\n    } else if (type === 'rescue') {\r\n      setOptTitle(t(\"cloud.escue_system\"))\r\n      setDes(t(\"cloud.tip27\"))\r\n    }\r\n    createPassword()\r\n  }\r\n  // 退出救援系统\r\n  const closeDialog = () => {\r\n    setShowQuit(false)\r\n  }\r\n  const submitDel = async () => {\r\n    try {\r\n      const res = await manage.exitRescue(id)\r\n      if (res.data.status === 200) {\r\n        showDia(res.data.msg, 'success')\r\n        refresh()\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 切换系统\r\n  const changeSystem = () => {\r\n\r\n  }\r\n  // 生成随机密码\r\n  const createPassword = (type) => {\r\n    const password = genEnCode(10, 1, 1, 0, 1, undefined, 1)\r\n    const first = [String.fromCharCode(Math.floor(Math.random() * 25 + 65)), String.fromCharCode(Math.floor(Math.random() * 25 + 97))]\r\n    const f1 = first[Math.round(Math.random())] + Math.floor(Math.random() * 10)\r\n    if (type === 'reinstall') { // 重装系统\r\n      reForm.setFieldsValue({\r\n        pas: {\r\n          input: password + f1\r\n        }\r\n      })\r\n      return\r\n    }\r\n    // 表单设置数据\r\n    pasForm.setFieldsValue({\r\n      password: password + f1\r\n    })\r\n    setPasData(pasData => ({ ...pasData, password: password + f1 }))\r\n  }\r\n  // 重置提交\r\n  const surePassword = async (values) => {\r\n    const params = {\r\n      id,\r\n      password: values.password,\r\n      type: values.type === 'Windows' ? 1 : 2\r\n    }\r\n    if (optType === 'password') {\r\n      delete params.type\r\n    }\r\n    try {\r\n      if (optType === 'password') { // 重置密码\r\n        const res = await manage.resetPassword(params)\r\n        if (res.data.status === 200) {\r\n          showDia(res.data.msg, 'success')\r\n          refresh()\r\n        }\r\n      } else if (optType === 'rescue') { // 救援模式\r\n        const res = await manage.rescue(params)\r\n        if (res.data.status === 200) {\r\n          showDia(res.data.msg, 'success')\r\n          refresh()\r\n        }\r\n      }\r\n    } catch (error) {\r\n      return showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 重装系统按钮\r\n  const handlerReinstall = () => {\r\n    setReinstallVisible(true)\r\n    setOptTitle(t(\"cloud.reinstall\"))\r\n    getSsh()\r\n    // 重置重装系统表单\r\n    createPassword('reinstall')\r\n    setChoose('os')\r\n    setCurList(imageList[0]?.image)\r\n    setPasType('password')\r\n    reForm.setFieldsValue({\r\n      optOs: {\r\n        type: 'os',\r\n        group: imageList[0]?.id,\r\n        id: imageList[0]?.image[0]?.id\r\n      },\r\n      pas: {\r\n        type: 'password'\r\n      },\r\n      port: {\r\n        num: 22\r\n      }\r\n    })\r\n    imageIsBuy(imageList[0]?.image[0]?.id)\r\n  }\r\n  // 切换 官方镜像/模板\r\n  const changeOs = (e) => {\r\n    setChoose(e)\r\n    reForm.setFieldsValue({\r\n      optOs: {\r\n        group: e === 'os' ? imageList[0]?.id : template[0]?.id,\r\n        id: e === 'os' ? imageList[0]?.image[0]?.id : template[0]?.id\r\n      }\r\n    })\r\n    setCurList(curList => {\r\n      curList = imageList[0].image\r\n      return curList\r\n    })\r\n    if (e === 'os' && imageList[0].image[0].id) {\r\n      imageIsBuy(imageList[0].image[0].id)\r\n    }\r\n  }\r\n  // 切换镜像组\r\n  const changeGroup = (e) => {\r\n    setGroup(e)\r\n    const arr = imageList.filter(item => item.id === e)\r\n    setCurList(curList => {\r\n      curList = arr ? arr[0].image : []\r\n      return curList\r\n    })\r\n    const id = arr ? arr[0].image[0].id : ''\r\n    reForm.setFieldsValue({\r\n      optOs: {\r\n        id\r\n      }\r\n    })\r\n    imageIsBuy(id)\r\n  }\r\n  // 切换镜像\r\n  const changeImage = (e) => {\r\n    if (choose === 'os') {\r\n      imageIsBuy(e)\r\n    }\r\n  }\r\n  // 是否需要付费\r\n  const imageIsBuy = async (image_id) => {\r\n    try {\r\n      const params = {\r\n        id,\r\n        image_id\r\n      }\r\n      const res = await manage.imageIsBuy(params)\r\n      if (res.data.status === 200) {\r\n        setNeedPay(res.data.data.price * 1 > 0 ? true : false)\r\n        setPrice(res.data.data.price)\r\n      }\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 随机生成端口\r\n  const randomPort = () => {\r\n    const start = 10000\r\n    const end = 20000\r\n    const differ = end - start\r\n    const random = Math.random()\r\n    const port = (start + differ * random).toFixed(0)\r\n    reForm.setFieldsValue({\r\n      port: {\r\n        num: port\r\n      }\r\n    })\r\n  }\r\n  // 改变password/ssh\r\n  const changeTye = (type) => {\r\n    setPasType(type)\r\n    if (type === 'password') {\r\n      createPassword('reinstall')\r\n    } else {\r\n      reForm.setFieldsValue({\r\n        pas: {\r\n          input: ssh[0].id || ''\r\n        }\r\n      })\r\n    }\r\n  }\r\n  // 重装系统验证提交\r\n  const reinstallFinish = (values) => {\r\n    if (needPay) {\r\n      return\r\n    }\r\n    const params = {\r\n      id,\r\n      image_id: values.optOs.id,\r\n      template_id: values.optOs.id,\r\n      password: values.pas.input,\r\n      ssh_key_id: values.pas.input,\r\n      port: values.port.num\r\n    }\r\n    if (values.optOs.type === 'os') {\r\n      delete params.template_id\r\n    } else {\r\n      delete params.image_id\r\n    }\r\n    if (values.pas.type === 'password') {\r\n      delete params.ssh_key_id\r\n    } else {\r\n      delete params.password\r\n    }\r\n    reinstallOpt(params)\r\n  }\r\n  // 执行重装\r\n  const reinstallOpt = async (params) => {\r\n    try {\r\n      const res = await manage.reinstall(params)\r\n      if (res.data.status === 200) {\r\n        refresh()\r\n        showDia(res.data.msg, 'success')\r\n      }\r\n    } catch (error) {\r\n      showDia(error.data.msg, 'error')\r\n    }\r\n  }\r\n  // 购买镜像\r\n  const createOrder = async () => {\r\n    const params = {\r\n      id,\r\n      image_id: reForm.getFieldsValue().optOs.id\r\n    }\r\n    const res = await manage.createOrder(params)\r\n    if (res.data.status === 200) {\r\n      const order_id = res.data.data.id\r\n      setIsShowPay(true)\r\n      setOrderId(order_id)\r\n      // 轮询支付状态\r\n      pollingStatus(order_id);\r\n    }\r\n  }\r\n  // 轮询支付状态\r\n  const pollingStatus = (id) => {\r\n    timer.current = setInterval(async () => {\r\n      const res = await cloud.getPayStatus(id ? id : orderId);\r\n      setTime((time) => {\r\n        return (time -= 2000);\r\n      });\r\n      if (res.data.code === \"Paid\") {\r\n        showDialog(res.data.msg, 'success', () => {\r\n          setNeedPay(false)\r\n        })\r\n        clearInterval(timer.current);\r\n        setIsShowPay(false);\r\n        return false;\r\n      }\r\n      // 支付成功或者5分钟到点清除定时器\r\n      if (res.code === \"Paid\" || time === 0) {\r\n        clearInterval(timer.current);\r\n        setIsShowPay(false);\r\n        return false;\r\n      }\r\n    }, 2000)\r\n  };\r\n  // 取消支付\r\n  const handleCancel = () => {\r\n    setIsShowPay(false)\r\n    clearInterval(timer.current);\r\n  }\r\n  const onFinishFailed = () => {\r\n\r\n  }\r\n  return (\r\n    <div className='manage'>\r\n      <Row gutter={[{ xs: 8, sm: 16, md: 24, lg: 30 }, { xs: 8, sm: 16, md: 24, lg: 30 }]}>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m1.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.power\")}</p>\r\n              <Select onChange={handleChange} value={type} getPopupContainer={triggerNode => triggerNode.parentElement}>\r\n                {\r\n                  props.detail.power_status !== 'on' && <Option value=\"on\">{t(\"cloud.on\")}</Option>\r\n                }\r\n                {\r\n                  props.detail.power_status !== 'off' && <Option value=\"off\">{t(\"cloud.off\")}</Option>\r\n                }\r\n                <Option value=\"restart\">{t(\"cloud.restart\")}</Option>\r\n              </Select>\r\n              <div className=\"c-btn\" onClick={handelPower}>{t(\"common.sure\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m2.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.console\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip7\")}\r\n              </p>\r\n              <div className=\"c-btn\" onClick={postVnc}>{t(\"cloud.go_now\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m3.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.reset_password\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip8\")}\r\n              </p>\r\n              <div className=\"c-btn\" onClick={() => handlerPas('password')}>{t(\"cloud.go_now\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m4.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.escue_mode\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip9\")}\r\n              </p>\r\n              <div className=\"c-btn\" onClick={() => handlerPas('rescue')}>{Number(props.isEscue) ? t(\"common.quit\") : t(\"common.enter\")}{t(\"cloud.escue_mode\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m5.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.reinstall\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip10\")}\r\n              </p>\r\n              <div className=\"c-btn\" onClick={handlerReinstall}>{t(\"cloud.go_now\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m6.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.mount_iso\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip11\")}\r\n              </p>\r\n              <div className=\"c-btn\">{t(\"cloud.go_now\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m7.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.startup\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip12\")}\r\n              </p>\r\n              <div className=\"c-btn\">{t(\"cloud.go_now\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m8.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.migrate\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip13\")}\r\n              </p>\r\n              <div className=\"c-btn\">{t(\"cloud.go_now\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ span: 24 }} md={{ span: 12 }} lg={{ span: 8 }}>\r\n          <div className=\"item\">\r\n            <div className=\"icon\">\r\n              <img src={require('@/assets/images/cloud/m1.png')} alt=\"\" />\r\n            </div>\r\n            <div className=\"text\">\r\n              <p className=\"tit\">{t(\"cloud.delete_instance\")}</p>\r\n              <p className=\"des\">\r\n                {t(\"cloud.tip14\")}\r\n              </p>\r\n              <div className=\"c-btn\">{t(\"cloud.go_now\")}</div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* 开关机，重启 */}\r\n      <Modal title={optTitle} forceRender\r\n        visible={optVisible} onCancel={optCancel}\r\n        footer={null} className=\"power-modal\" closable={false}>\r\n        {\r\n          detail && (\r\n            <Form form={form}\r\n              initialValues={{\r\n                host_name: detail.name,\r\n                remember: false,\r\n              }}\r\n              onFinish={onFinish}\r\n              onFinishFailed={onFinishFailed}\r\n              autoComplete=\"off\"\r\n            >\r\n              <Form.Item label={t(\"cloud.host_name\")} colon={false} name=\"host_name\">\r\n                <Input disabled />\r\n              </Form.Item>\r\n              {\r\n                type !== 'on' && (\r\n                  <>\r\n                    <p className='tip'>{t(\"cloud.tip19\")}</p>\r\n                    <Form.Item colon={false}\r\n                      name=\"remember\"\r\n                      valuePropName=\"checked\"\r\n                      // rules={[\r\n                      //   {\r\n                      //     validator: (_, value) =>\r\n                      //       value ? Promise.resolve() : Promise.reject(new Error(t(\"cloud.tip21\"))),\r\n                      //   },\r\n                      // ]} \r\n                      className=\"force-off\">\r\n                      <Checkbox>{t(\"cloud.tip20\")}</Checkbox>\r\n                    </Form.Item>\r\n                  </>\r\n                )\r\n              }\r\n              <Form.Item className=\"opt-btn\">\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"sure\">\r\n                  {t(\"common.sure\")}\r\n                </Button>\r\n                <Button onClick={optCancel} className=\"cancel\">\r\n                  {t(\"common.cancel\")}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          )\r\n        }\r\n      </Modal>\r\n      {/* 重置密码|救援系统 */}\r\n      <Modal title={optTitle} forceRender\r\n        visible={pasVisible} onCancel={optCancel}\r\n        footer={null} className=\"power-modal password-modal\" closable={false}>\r\n        <Form form={pasForm}\r\n          labelAlign='left'\r\n          initialValues={{\r\n            password: pasData.password,\r\n            type: props.detail && props.detail.image.name.toLocaleLowerCase().indexOf('win') !== -1 ? 'Windows' : 'Linux'\r\n          }}\r\n          onFinish={surePassword}\r\n          onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n          className={{ 'rescue-form': optType === 'rescue' }}\r\n        >\r\n          <p className=\"small-tip\">{des}</p>\r\n          {\r\n            optType === 'rescue' ? (\r\n              <Form.Item label={t(\"cloud.escue_system_type\")} colon={false} name=\"type\"\r\n              >\r\n                <Select\r\n                  getPopupContainer={triggerNode => triggerNode.parentElement}\r\n                  onChange={changeSystem}\r\n                >\r\n                  <Option value=\"Windows\">\r\n                    <img src={require('@/assets/images/cloud/Windows.png')} alt=\"\" className=\"sys-icon\" />\r\n                    Windows\r\n                  </Option>\r\n                  <Option value=\"Linux\">\r\n                    <img src={require('@/assets/images/cloud/Linux.png')} alt=\"\" className=\"sys-icon\" />\r\n                    Linux\r\n                  </Option>\r\n                </Select>\r\n              </Form.Item>\r\n            ) : ''\r\n          }\r\n          <div className=\"pas-box\">\r\n            <Form.Item label={optType === 'password' ? t(\"cloud.password\") : t(\"cloud.temp_password\")}\r\n              required tooltip={\r\n                t(\"cloud.verify4\") + '\\n' +\r\n                t(\"cloud.verify5\") +\r\n                t(\"cloud.verify6\") +\r\n                t(\"cloud.verify7\")\r\n              }\r\n              colon={false} name=\"password\"\r\n            >\r\n              <Input></Input>\r\n            </Form.Item>\r\n            <div className=\"c-btn\" onClick={createPassword}>{t(\"cloud.random_generate\")}</div>\r\n          </div>\r\n          {/* 关机强制校验 */}\r\n          {\r\n            props.type !== 'off' && optType === 'password' &&\r\n            (\r\n              <>\r\n                <div className=\"com-danger\">\r\n                  <p className=\"tit\">{t(\"cloud.tip23\")}</p>\r\n                  <div className=\"des\">\r\n                    <p>{t(\"cloud.tip24\")}</p>\r\n                    <p>{t(\"cloud.tip25\")}</p>\r\n                  </div>\r\n                </div>\r\n                <Form.Item colon={false}\r\n                  required name=\"force\"\r\n                  label={\r\n                    t(\"cloud.force_shutdown\")\r\n                  }\r\n                  valuePropName=\"checked\" rules={[\r\n                    {\r\n                      validator: (_, value) =>\r\n                        value ? Promise.resolve() : Promise.reject(new Error(t(\"cloud.tip26\"))),\r\n                    },\r\n                  ]} className=\"force-off\">\r\n                  <Checkbox>{t(\"cloud.agree_force_shutdown\")}</Checkbox>\r\n                </Form.Item>\r\n              </>\r\n            )\r\n          }\r\n          {/* 救援系统提示 */}\r\n          {\r\n            optType === 'rescue' ? (\r\n              <div className=\"com-danger\">\r\n                <p className=\"tit\">{t(\"cloud.tip28\")}</p>\r\n              </div>\r\n            ) : ''\r\n          }\r\n          <Form.Item className=\"opt-btn\">\r\n            <Button type=\"primary\" htmlType=\"submit\" className=\"sure\">\r\n              {t(\"common.sure\")}\r\n            </Button>\r\n            <Button onClick={optCancel} className=\"cancel\">\r\n              {t(\"common.cancel\")}\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n      {/* 重装系统 */}\r\n      <Modal title={optTitle} forceRender\r\n        visible={reinstallVisible} onCancel={optCancel}\r\n        footer={null} className=\"power-modal reinstall-modal\" closable={false}>\r\n        {\r\n          detail && (\r\n            <Form form={reForm}\r\n              initialValues={{\r\n                optOs: {\r\n                  type: choose\r\n                },\r\n                pas: {\r\n                  type: 'password'\r\n                }\r\n              }}\r\n              onFinish={reinstallFinish}\r\n              onFinishFailed={onFinishFailed}\r\n              autoComplete=\"off\"\r\n            >\r\n              {/* 第一栏 */}\r\n              <Form.Item required label=\" \" colon={false}>\r\n                <Input.Group compact>\r\n                  <Form.Item\r\n                    name={['optOs', 'type']}\r\n                    noStyle\r\n                  >\r\n                    <Select className=\"re-type\" onChange={changeOs}>\r\n                      <Option value=\"os\">{t(\"cloud.operating_system\")}</Option>\r\n                      <Option value=\"template\">{t(\"cloud.template\")}</Option>\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    name={['optOs', 'group']}\r\n                    noStyle\r\n                  >\r\n                    {\r\n                      choose === 'os' ? (\r\n                        <Select className=\"system\" getPopupContainer={triggerNode => triggerNode.parentElement}\r\n                          onChange={changeGroup}>\r\n                          {\r\n                            imageList.map(item => {\r\n                              return (<Option value={item.id} key={item.id}>\r\n                                <img src={item.name && require(`@/assets/images/cloud/${item.name}.png`)} alt=\"\" className=\"sys-icon\" />\r\n                                {item.name}\r\n                              </Option>)\r\n                            })\r\n                          }\r\n                        </Select>) : (\r\n                        <Select className=\"system dis-none\" getPopupContainer={triggerNode => triggerNode.parentElement}>\r\n                          {\r\n                            template.map(item => {\r\n                              return (<Option value={item.id} key={item.id}>\r\n                                {item.name}\r\n                              </Option>)\r\n                            })\r\n                          }\r\n                        </Select>\r\n                      )\r\n                    }\r\n                  </Form.Item>\r\n                  <Form.Item name={['optOs', 'id']}>\r\n                    {\r\n                      choose === 'os' ? <Select className=\"image-id\" onChange={changeImage} >\r\n                        {\r\n                          curList.map(item => {\r\n                            return (<Option value={item.id} key={item.id}>{item.name}</Option>)\r\n                          })\r\n                        }\r\n                      </Select> : <Select className=\"system\" getPopupContainer={triggerNode => triggerNode.parentElement}>\r\n                        {\r\n                          template.map(item => {\r\n                            return (<Option value={item.id} key={item.id}>\r\n                              {item.name}\r\n                            </Option>)\r\n                          })\r\n                        }\r\n                      </Select>\r\n                    }\r\n                  </Form.Item>\r\n                </Input.Group>\r\n              </Form.Item>\r\n              {/* 密码/ssh */}\r\n              <Form.Item required label=\" \" colon={false}>\r\n                <Input.Group compact>\r\n                  <Form.Item\r\n                    name={['pas', 'type']}\r\n                    required noStyle>\r\n                    <Select className=\"re-type\" onChange={changeTye}>\r\n                      <Option value=\"password\">{t(\"cloud.password\")}</Option>\r\n                      <Option value=\"ssh\">{t(\"account.ssh\")}</Option>\r\n                    </Select>\r\n                  </Form.Item>\r\n                  {\r\n                    pasType === 'password' ? (\r\n                      <>\r\n                        <Tooltip title={\r\n                          t(\"cloud.verify4\") + '\\n' +\r\n                          t(\"cloud.verify5\") +\r\n                          t(\"cloud.verify6\") +\r\n                          t(\"cloud.verify7\")\r\n                        }>\r\n                          <QuestionCircleOutlined className=\"question\" />\r\n                        </Tooltip>\r\n                        <Form.Item\r\n                          name={['pas', 'input']}\r\n                          noStyle\r\n                        >\r\n                          <Input className=\"pas-select\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                          <div className=\"c-btn\" onClick={() => createPassword('reinstall')}>\r\n                            {t(\"cloud.random_generate\")}\r\n                          </div>\r\n                        </Form.Item>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Tooltip title={\r\n                          t(\"cloud.verify8\")\r\n                        }>\r\n                          <QuestionCircleOutlined className=\"question\" />\r\n                        </Tooltip>\r\n                        <Form.Item\r\n                          name={['pas', 'input']}\r\n                          noStyle\r\n                          rules={[\r\n                            {\r\n                              required: true,\r\n                              message: t('select') + t('account.ssh')\r\n                            }\r\n                          ]}\r\n                        >\r\n                          <Select className=\"pas-select\">\r\n                            {\r\n                              ssh.map(item => {\r\n                                return <Option value={item.id} key={item.id}>{item.name}</Option>\r\n                              })\r\n                            }\r\n                          </Select>\r\n                        </Form.Item>\r\n                      </>\r\n                    )\r\n                  }\r\n                </Input.Group>\r\n              </Form.Item>\r\n              {/* 端口 */}\r\n              <Form.Item required label={t(\"common.port\")} colon={false}>\r\n                <Input.Group compact>\r\n                  <Form.Item\r\n                    name={['port', 'num']}\r\n                    noStyle\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: t('cloud.verify9'),\r\n                        validator (_, value) {\r\n                          value = parseInt(value)\r\n                          if (value === 22 || (value >= 100 && value <= 65535)) {\r\n                            return Promise.resolve()\r\n                          } else {\r\n                            return Promise.reject(t('cloud.verify9'))\r\n                          }\r\n                        }\r\n                      }\r\n                    ]}\r\n                  >\r\n                    <Input></Input>\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    noStyle\r\n                  >\r\n                    <div className=\"c-btn\" onClick={randomPort}>\r\n                      {t(\"cloud.random_generate\")}\r\n                    </div>\r\n                  </Form.Item>\r\n                </Input.Group>\r\n              </Form.Item>\r\n              {/* 付费 */}\r\n              {\r\n                needPay && <div className=\"pay-box\">\r\n                  {t(\"cloud.tip29\")}，{common.currency_prefix}{price}/{t(\"common.once\")} ，{t(\"cloud.tip29\")}\r\n                  <div className=\"go-pay\" onClick={createOrder}>\r\n                    {t(\"common.buy_now\")}\r\n                  </div>\r\n                </div>\r\n              }\r\n              <Form.Item className=\"opt-btn\">\r\n                <Button type=\"primary\" htmlType=\"submit\" className={{ sure: true, disabled: needPay }} disabled={needPay}>\r\n                  {t(\"common.sure\")}\r\n                </Button>\r\n                <Button onClick={optCancel} className=\"cancel\">\r\n                  {t(\"common.cancel\")}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          )\r\n        }\r\n      </Modal>\r\n      {/* 支付modal */}\r\n      {\r\n        orderId &&\r\n        (\r\n          <PayModal orderId={orderId} timer={timer} visible={isShowPay} handleCancel={handleCancel}></PayModal>\r\n        )\r\n      }\r\n      {/* 退出救援模式 */}\r\n      {\r\n        showQuit && <DelDialog\r\n          closeDialog={closeDialog} submitDel={submitDel}\r\n          title=' '\r\n          icon=\"warning\"\r\n          text={\r\n            t('common.sure') + t('common.quit') + t('cloud.escue_mode') + '?'\r\n          }\r\n        ></DelDialog>\r\n      }\r\n    </div >\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport ComPagination from '@/components/comPagination/ComPagination.jsx'\r\nimport { Table, Button, Modal, Row, Col, Input, Select, Alert, Popover } from 'antd';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  EllipsisOutlined\r\n} from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport Swal from \"sweetalert2\";\r\nimport './Disk.less'\r\n\r\nimport { getDisk, umount, delDisk, getDiskById, mount, postRefund, refundMsg, refund } from \"@/api/cloud\"\r\nimport { getCommon } from \"@/api/common\";\r\nimport { showDialog } from '@/utils/util';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport DelDialog from '@/components/delDialog/DelDialog';\r\n\r\nexport default function Transaction() {\r\n  const navigate = useNavigate()\r\n  const { t } = useTranslation()\r\n  const { Option } = Select\r\n  const { TextArea } = Input;\r\n  // 分页相关\r\n  const [total, setTotal] = useState(200)\r\n  const [params, setParams] = useState({\r\n    keywords: '',\r\n    page: 1,\r\n    limit: 20,\r\n    orderby: 'id',\r\n    sort: 'desc'\r\n  })\r\n\r\n  // 删除/卸载弹窗\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n  const [modalText, setModalText] = useState(\"\")\r\n  const [modalTitle, setModalTitle] = useState(\"\")\r\n  const [modalData, setModalData] = useState({})\r\n\r\n  // 通用配置\r\n  const [com, setcom] = useState({});\r\n  // 停用页面配置信息 容量\r\n  const [size, setSize] = useState()\r\n  // 停用页面信息\r\n  const [refundData, setRefundData] = useState()\r\n  // 停用页面 是否显示\r\n  const [isShowRefund, setIsShowRefund] = useState(false)\r\n  // 停用参数\r\n  const [refundParams, setRefundParams] = useState({\r\n    host_id: '',\r\n    suspend_reason: [],\r\n    type: \"\"\r\n  })\r\n\r\n  // 停用原因选择框\r\n  const getReason = (e) => {\r\n    setRefundParams({ ...refundParams, suspend_reason: e })\r\n  }\r\n  // 自己填原因\r\n  const getSelfReason = (e) => {\r\n    setRefundParams({ ...refundParams, suspend_reason: e.target.value })\r\n  }\r\n  // 停用时间 选择框\r\n  const getType = (e) => {\r\n    setRefundParams({ ...refundParams, type: e })\r\n  }\r\n  // 确认停用申请\r\n  const doRefund = () => {\r\n    let isPass = true\r\n    if (refundParams.suspend_reason.length === 0) {\r\n      showDialog((refundData.reason_custom === 1 ? t('input') : t('select')) + t('common.stop_reason'), \"error\")\r\n      return\r\n    }\r\n    if (!refundParams.type) {\r\n      showDialog(t('select') + t('common.stop_time'), \"error\")\r\n      return\r\n    }\r\n    if (isPass) {\r\n      postRefund(refundParams).then(res => {\r\n        if (res.data.status === 200) {\r\n          showDialog(\"申请停用成功，请耐心等待审核\", \"success\")\r\n          setIsShowRefund(false)\r\n        }\r\n      })\r\n    }\r\n  }\r\n  // 删除\r\n  const deleteItem = (record) => {\r\n    // 磁盘的id\r\n    const id = record.id\r\n    setSize(record.size)\r\n    // 初始化退款弹窗提交数据\r\n    setRefundParams({\r\n      host_id: id,\r\n      suspend_reason: [],\r\n      type: \"\"\r\n    })\r\n\r\n    // const params = {\r\n    //   id: Number(id)\r\n    // }\r\n    // 1、获取产品停用信息 判断是否已申请停用 等信息\r\n    refundMsg(Number(id)).then(res => {\r\n      if (res.data.data.refund) {\r\n        showDialog(\"已申请过停用\", \"warning\")\r\n      } else {\r\n        // 2、如果未申请过停用 获取停用页面信息并展示停用页面申请弹窗\r\n        refund({ host_id: id }).then(res => {\r\n          let list = res.data.data\r\n          setRefundData(list)\r\n          if (list.allow_refund === 1) {  // 允许退款\r\n            // 展示退款页面\r\n            setIsShowRefund(true)\r\n          } else {\r\n            showDialog(t('common.tip1'), \"warning\")\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  // 卸载\r\n  const unmountItem = (record) => {\r\n    setModalTitle(`从实例中卸载${record.name}`)\r\n    setModalText(`警告：允许中的实例强制卸载磁盘可能会导致数据丢失\r\n      或者卸载失败，建议您在实例中停止读写后卸载`)\r\n    setModalData({ id: record.id })\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n\r\n\r\n\r\n  // 挂载弹窗是否显示\r\n  const [isShowModal, setIsShowModal] = useState(false)\r\n  const [isSelectLoading, setIsSelectLoading] = useState(false)\r\n  const [diskId, setDiskId] = useState()\r\n  // 表单提示信息\r\n  const [errMsg, setErrMsg] = useState(\"\")\r\n  const [diskList, setDiskList] = useState([])\r\n  // 表格相关\r\n  const [isTableLoading, setIsTableLoading] = useState(false)\r\n  // 总数据\r\n  const [datasource, setDatasource] = useState()\r\n  const changePage = (page, limit) => {\r\n    setParams(params => {\r\n      return { ...params, page, limit }\r\n    })\r\n  }\r\n\r\n  //  有无磁盘信息\r\n  const [isDisk, setIsDisk] = useState(false)\r\n  const columns = [\r\n    {\r\n      title: '磁盘名称',\r\n      dataIndex: 'name',\r\n      width: 700,\r\n    },\r\n    {\r\n      title: '创建时间',\r\n      dataIndex: 'create_time',\r\n      width: 300,\r\n      render: (create_time) => (\r\n        <>\r\n          {\r\n            create_time ?\r\n              moment(create_time * 1000).format(\"YYYY-MM-DD HH:mm\")\r\n              :\r\n              \"--\"\r\n          }\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: '容量',\r\n      dataIndex: 'size',\r\n      width: 200,\r\n      render: (size) => (\r\n        <span>{size}G</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      width: 80,\r\n      render: (_, record) => (\r\n        <>\r\n          {\r\n            record.status == 'Active' ?\r\n              <div className=\"com-opt-pop\" id={'com-opt' + record.id}>\r\n                <Popover getPopupContainer={() => document.getElementById('com-opt' + record.id)}\r\n                  content={\r\n                    <>\r\n                      {\r\n                        record.cloud_name ?\r\n                          <p className=\"cloud-opt\" onClick={() => uninDisk(record)}>卸载</p>\r\n                          :\r\n                          null\r\n                        // <p className=\"cloud-opt\" onClick={() => mountItem(record)}>挂载</p>\r\n                      }\r\n                      <p className=\"cloud-opt\" onClick={() => expansionItem(record)}>扩容</p>\r\n                      <p className=\"cloud-opt\" onClick={() => deleteItem(record)}>删除</p>\r\n                    </>\r\n                  } placement=\"topRight\">\r\n                  <p className=\"opt-icon\"><EllipsisOutlined /></p>\r\n                </Popover>\r\n              </div>\r\n              : null\r\n          }\r\n        </>\r\n      )\r\n    }\r\n  ]\r\n\r\n\r\n  // 获取系统信息\r\n  const getCommonData = () => {\r\n    getCommon().then((res) => {\r\n      if (res.data.status === 200) {\r\n        setcom(res.data.data);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 扩容\r\n  const expansionItem = (record) => {\r\n    navigate(`/expansion_storage?id=${record.id}&package_id=${record.package_id}&size=${record.size}`)\r\n    // 跳转到磁盘扩容页面\r\n  }\r\n\r\n  // 获取磁盘列表\r\n  const getDiskList = () => {\r\n    setIsTableLoading(true)\r\n    const id = Number(window.location.hash.split(\"=\")[1])\r\n    getDisk({ ...params, host_id: id }).then(res => {\r\n      console.log(res);\r\n      if (res.data.data.list[0]) {\r\n        setIsDisk(true)\r\n        const list = res.data.data.list\r\n        setTotal(res.data.data.count)\r\n        setDatasource(list)\r\n      } else {\r\n        setIsDisk(false)\r\n      }\r\n      setIsTableLoading(false)\r\n    })\r\n  }\r\n\r\n  // 显示挂载弹窗\r\n  const showMount = () => {\r\n    // 跳转磁盘购买页面\r\n    navigate('/create_storage')\r\n    // setIsShowModal(true)\r\n  }\r\n  // 通过产品id获取磁盘列表\r\n  const showDisk = (open) => {\r\n    if (open) {\r\n      setIsSelectLoading(true)\r\n      const id = Number(window.location.hash.split(\"=\")[1])\r\n      getDiskById(id).then(res => {\r\n        if (res.data.list) {\r\n          setDiskList(res.data.list)\r\n        }\r\n        setIsSelectLoading(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  const getDiskIdValue = (e) => {\r\n    setDiskId(e)\r\n  };\r\n\r\n  // 关闭 删除卸载\r\n  const closeDialog = () => {\r\n    setIsModalVisible(false)\r\n  }\r\n\r\n\r\n  // 挂载磁盘\r\n  const doCreateSnapshot = () => {\r\n    const id = Number(window.location.hash.split(\"=\")[1])\r\n    const params = {\r\n      id: diskId,\r\n      host_id: id\r\n    }\r\n    console.log(params);\r\n    let isPass = true\r\n    if (!diskId) {\r\n      isPass = false\r\n      setErrMsg(\"请选择需要挂载的磁盘\")\r\n    }\r\n\r\n    if (isPass) {\r\n      setErrMsg(\"\")\r\n      mount(params).then(res => {\r\n        if (res.data.status === 200) {\r\n          showDialog(\"挂载成功\", \"success\")\r\n          setIsShowModal(false)\r\n        }\r\n      }).catch(error => {\r\n\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  // 卸载磁盘\r\n  const uninDisk = (record) => {\r\n    Swal.fire({\r\n      text: `您将卸载 ${record.name},请确认是否继续！`,\r\n      icon: 'info',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#5C5EE4',\r\n      confirmButtonText: '确认',\r\n      cancelButtonText: '取消',\r\n      customClass: {\r\n        icon: 'ssh-icon',\r\n        cancelButton: 'ssh-cancel-button',\r\n      }\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // 调用接口执行卸载\r\n        umount(record.id).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(`您已成功卸载 ${record.name}`, \"success\")\r\n            getDiskList()\r\n          }\r\n          console.log(res);\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getCommonData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    getDiskList()\r\n  }, [params]);\r\n\r\n  return (\r\n    <div className='cloud-card disk'>\r\n      {\r\n        isDisk ?\r\n          // 有磁盘数据\r\n          <div className=\"disk-yes\">\r\n            <div className=\"main_table\">\r\n              <Table columns={columns}\r\n                dataSource={datasource}\r\n                pagination={false}\r\n                loading={isTableLoading}\r\n                rowKey={record => record.id}\r\n              />\r\n            </div>\r\n            {/* 分页模块 */}\r\n            <ComPagination total={total} page={params} changePage={changePage}></ComPagination>\r\n          </div>\r\n          :\r\n          // 无磁盘数据\r\n          <div className=\"disk-no\">\r\n            <img className='disk-no-img' src={require('@/assets/images/cloud/disk.png')} alt=\"\" />\r\n            <span className='disk-no-text'>您尚未挂载任何数据盘，立刻购买或挂载已有数据盘</span>\r\n            <Button className='disk-no-btn' onClick={showMount}>立刻购买</Button>\r\n          </div>\r\n      }\r\n\r\n      {/* 挂载磁盘弹窗 */}\r\n      <Modal\r\n        visible={isShowModal}\r\n        footer={null}\r\n        centered={true}\r\n        closable={false}\r\n        style={{ borderRadius: \"10px\", overflow: \"auto\" }}\r\n        getContainer={false}\r\n        onCancel={() => setIsShowModal(false)}\r\n      >\r\n        <div className='create-snapshot'>\r\n          <div className=\"top\">\r\n            <div className=\"title\">\r\n              挂载磁盘\r\n            </div>\r\n          </div>\r\n          <div className=\"main\">\r\n            {\r\n              errMsg ?\r\n                <div className=\"err\">\r\n                  <Alert description={errMsg} type=\"error\" showIcon />\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n            <div className=\"form\">\r\n              <div className=\"row\">\r\n                <Row>\r\n                  <Col span={4}>\r\n                    <span className='label'>磁盘</span>\r\n                  </Col>\r\n                  <Col span={20}>\r\n                    <Select loading={isSelectLoading} size='large' onDropdownVisibleChange={(open) => showDisk(open)} onChange={getDiskIdValue} >\r\n                      {\r\n                        diskList.map(item => {\r\n                          return <Option key={item.id} value={item.id}>{`${item.name}-${item.size}G`}</Option>\r\n                        })\r\n                      }\r\n                    </Select>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"footer\">\r\n            <Button className='cancel-btn' onClick={() => setIsShowModal(false)}>取消</Button>\r\n            <Button className='sub-btn' onClick={doCreateSnapshot}>立即挂载</Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* 停用弹窗 */}\r\n      {\r\n        com && refundData ?\r\n          <Modal\r\n            className='refund-modal'\r\n            visible={isShowRefund}\r\n            footer={null}\r\n            centered={true}\r\n            closable={false}\r\n            style={{ borderRadius: \"10px\", overflow: \"auto\" }}\r\n            getContainer={false}\r\n            onCancel={() => setIsShowRefund(false)}\r\n          >\r\n            <div className=\"modal-unopen\">\r\n              <div className=\"modal-title\">{t('common.apply_refund')}</div>\r\n              <div className=\"modal-form\">\r\n                {/* 产品信息 */}\r\n                <div className=\"config-item\">\r\n                  <div className=\"row-l\">{t('common.product_info')}</div>\r\n                  <div className=\"row-r\">\r\n                    {/* 产品配置 */}\r\n                    <div className=\"item\">\r\n                      <p className=\"l-tit\">{t('common.product_config')}：</p>\r\n                      <div className=\"r-text\">\r\n                        {size ? size + 'G' : null}\r\n                      </div>\r\n                    </div>\r\n                    {/* 订购时间 */}\r\n                    <div className=\"item\">\r\n                      <p className='l-tit'>{t('common.buy_time')}：</p>\r\n                      <div className=\"r-text\">\r\n                        <p>{moment(refundData.host.create_time * 1000).format(\"YYYY-MM-DD HH:mm\")}</p>\r\n                      </div>\r\n                    </div>\r\n                    {/* 订购金额 */}\r\n                    <div className=\"item\">\r\n                      <p className='l-tit'>{t('common.buy_money')}：</p>\r\n                      <div className=\"r-text\">\r\n                        <p>{com.currency_prefix}{refundData.host.first_payment_amount}{com.currency_code}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* 停用原因 */}\r\n                <div className=\"config-item\">\r\n                  <div className=\"row-l\">{t('common.stop_reason')}</div>\r\n                  <div className=\"row-r\">\r\n                    {\r\n                      refundData.reason_custom !== 1 ?\r\n                        <Select mode=\"multiple\" showArrow allowClear size='large' style={{ width: \"100%\" }} onChange={getReason}>\r\n                          {\r\n                            refundData.reasons.map(item => {\r\n                              return <Option key={item.id} value={item.id}>{item.content}</Option>\r\n                            })\r\n                          }\r\n                        </Select>\r\n                        :\r\n                        <TextArea onChange={getSelfReason} rows={4} placeholder=\"请输入停用原因\" />\r\n                    }\r\n                  </div>\r\n                </div>\r\n                {/* 停用时间 */}\r\n                <div className=\"config-item\">\r\n                  <div className=\"row-l row-center\">\r\n                    {t('common.stop_time')}\r\n                  </div>\r\n                  <div className=\"row-r\">\r\n                    <Select size='large' style={{ width: \"100%\" }} onChange={getType}>\r\n                      <Option value=\"Expire\">{t('common.expire')}</Option>\r\n                      <Option value=\"Immediate\">{t('common.immediate')}</Option>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n                {/* 退款金额 */}\r\n                <div className=\"config-item money\">\r\n                  <div className=\"row-l\">\r\n                    {t('common.refund_amount')}\r\n                  </div>\r\n                  <div className=\"row-right\">\r\n\r\n                    {\r\n                      refundParams.type === \"Immediate\" ?\r\n                        // 立即停用\r\n                        com.currency_prefix + refundData.host.amount + com.currency_code\r\n                        :\r\n                        com.currency_prefix + '0' + com.currency_code\r\n                      // 到期停用\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <Button className='sure' onClick={doRefund}>\r\n                  {t('common.sure_refund')}\r\n                </Button>\r\n                <Button className='cancel' onClick={() => setIsShowRefund(false)}>{t('common.cancel')}</Button>\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n          : null\r\n      }\r\n\r\n      {/* 删除/卸载 */}\r\n      {/* {\r\n        isModalVisible && <DelDialog\r\n          closeDialog={closeDialog} submitDel={submitDel}\r\n          text={modalText}\r\n          title={modalTitle}\r\n        ></DelDialog>\r\n      } */}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Col, Row, Tabs, Select, Form, message, Button, Checkbox, Table, Modal, Popover } from \"antd\";\r\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\r\nimport \"./network.less\";\r\nimport * as cloud from \"@/api/cloud\";\r\nimport * as network from \"@/api/network\";\r\nimport * as elastic from '@/api/elastic_ip'\r\nimport { showDialog } from '@/utils/util'\r\nimport DelDialog from '@/components/delDialog/DelDialog';\r\nimport ComPagination from '@/components/comPagination/ComPagination.jsx'\r\nimport useMountedRef from '@/utils/UseMountedRef.jsx'\r\nimport moment from \"moment\";\r\nimport {\r\n  EllipsisOutlined\r\n} from '@ant-design/icons';\r\nimport * as echarts from \"echarts\";\r\nexport default function Network (props) {\r\n  const { t } = useTranslation();\r\n  const [pasForm] = Form.useForm()\r\n  const mountedRef = useMountedRef();\r\n  const navigate = useNavigate()\r\n  const { Option } = Select;\r\n  const columns = [\r\n    {\r\n      title: 'IP' + t('common.address'),\r\n      dataIndex: \"ip\",\r\n      key: \"id\"\r\n    },\r\n    {\r\n      title: t(\"common.gateway\"),\r\n      dataIndex: \"gateway\",\r\n      key: \"gateway\",\r\n    },\r\n    {\r\n      title: t(\"common.mask\"),\r\n      dataIndex: \"subnet_mask\",\r\n      key: \"subnet_mask\",\r\n    },\r\n    {\r\n      title: t(\"cloud.manage\"),\r\n      dataIndex: 'manage',\r\n      key: 'manage',\r\n      width: 100,\r\n      render: (_, record) => (\r\n        <>\r\n          {\r\n            <div className=\"com-opt-pop\" id={'com-opt' + record.id}>\r\n              <Popover getPopupContainer={() => document.getElementById('com-opt' + record.id)}\r\n                content={\r\n                  <>\r\n                    <p className=\"cloud-opt\" onClick={() => editItem(record)}>{record.cloud_name ? t(\"common.unmount\") : t(\"common.mount\")}</p>\r\n                  </>\r\n                } placement=\"topRight\">\r\n                <p className=\"opt-icon\"><EllipsisOutlined /></p>\r\n              </Popover>\r\n            </div>\r\n          }\r\n        </>\r\n      )\r\n    }\r\n  ];\r\n  const vpcColumns = [\r\n    {\r\n      title: 'IP' + t('common.address'),\r\n      dataIndex: \"ip\",\r\n      key: \"id\"\r\n    },\r\n    {\r\n      title: t(\"common.gateway\"),\r\n      dataIndex: \"gateway\",\r\n      key: \"gateway\",\r\n    },\r\n    {\r\n      title: t(\"common.mask\"),\r\n      dataIndex: \"mask\",\r\n      key: \"mask\",\r\n      width: 200\r\n    }];\r\n  /* 初始化数据 */\r\n  const [info, setInfo] = useState({})\r\n  const [optType, setOptType] = useState('vpc')\r\n  const [itemModal, setItemModal] = useState(false)\r\n  const [pasVisible, setPasVisible] = useState(false)\r\n  const [optTitle, setOptTitle] = useState('')\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n  const [title, setTitle] = useState(t('cloud.bas_btn2') + t('cloud.security_group'))\r\n  // ip相关\r\n  const [ipLoading, setIpLoading] = useState(false)\r\n  const [ipTotal, setIpTotal] = useState(0)\r\n  const [ipList, setIpList] = useState([])\r\n  // vpc\r\n  const [vpc, setVpc] = useState([]);\r\n  const [vpcList, setVpcList] = useState([]);\r\n  // 安全组\r\n  const [group, setGroup] = useState([])\r\n  // 日志\r\n  const [logList, setLogList] = useState([]);\r\n  // 图表\r\n  const [flowList, setflowList] = useState({\r\n    total: \"\",\r\n    used: \"\",\r\n    leave: \"\",\r\n    reset_flow_date: \"\",\r\n  });\r\n  // 安全组列表\r\n  const [securityList, setsecurityList] = useState([]);\r\n  const id = props.id;\r\n  const [total, setTotal] = useState(0);\r\n  const [isshow, setisshow] = useState(false);\r\n\r\n  const [params, setParams] = useState({\r\n    id,\r\n    keywords: \"\",\r\n    page: 1,\r\n    limit: 20,\r\n    orderby: \"id\",\r\n    sort: \"desc\",\r\n  });\r\n  /* ip分页数据 */\r\n  const [ipParams, setIpParams] = useState({\r\n    id,\r\n    keywords: \"\",\r\n    page: 1,\r\n    limit: 5,\r\n    orderby: \"id\",\r\n    sort: \"desc\",\r\n    data_center_id: props.detail.data_center.id\r\n  });\r\n  const [nettype, setnettype] = useState(1);\r\n  /* 获取数据 vpc*/\r\n  const getvpcList = async () => {\r\n    try {\r\n      const res = await cloud.vpcdata({ id });\r\n      const temp = [res.data.data]\r\n      setVpc(temp)\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 获取可选的vpc\r\n  const getVpc = async () => {\r\n    try {\r\n      const res = await network.getVpc()\r\n      if (res.data.status === 200) {\r\n        const temp = res.data.data.list.filter(item => item.id === props.detail.data_center.id)\r\n        const _vpc = temp[0].vpc.filter(item => item.name !== vpc[0].vpc_name)\r\n        setVpcList(_vpc)\r\n      }\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  // 获取安全组\r\n  const getGroup = async () => {\r\n    try {\r\n      const res = await network.getGroup({\r\n        page: 1,\r\n        limit: 1000\r\n      })\r\n      if (res.data.status === 200) {\r\n        setGroup(res.data.data.list)\r\n      }\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  // 获取弹性ip\r\n  const getIpList = async () => {\r\n    try {\r\n      setIpLoading(true)\r\n      const res = await elastic.getCloudIp(ipParams)\r\n      if (mountedRef.current) {\r\n        const temp = res.data.data.list.filter(item=> item.status === 'Active')\r\n        setIpList(temp)\r\n        setIpTotal(temp.length)\r\n        setIpLoading(false)\r\n      }\r\n    } catch (error) {\r\n      showDialog(error.data.msg, 'error')\r\n      setIpLoading(false)\r\n    }\r\n  }\r\n  const closeDialog = () => {\r\n    setIsModalVisible(false)\r\n  }\r\n  const optCancel = () => {\r\n    setPasVisible(false)\r\n  }\r\n  // 重置密码|救援系统\r\n  const handlerPas = (type) => {\r\n    setPasVisible(true)\r\n    setOptType(type)\r\n    pasForm.resetFields()\r\n    if (type === 'vpc') {\r\n      setOptTitle(t(\"network.change_net\"))\r\n      getVpc()\r\n    } else if (type === 'safe') {\r\n      setOptTitle(t(\"network.add_to_group\"))\r\n      getGroup()\r\n    }\r\n  }\r\n  const onFinishFailed = () => {\r\n  }\r\n  // 跳转规则\r\n  const jumpSafe = () => {\r\n    navigate(`/group_rules?id=${props.detail.security_group.id}`)\r\n  }\r\n  // 重置提交\r\n  const surePassword = async (values) => {\r\n    let params = {};\r\n    if (optType === 'vpc') {\r\n      params = {\r\n        id,\r\n        vpc_id: values.type\r\n      }\r\n    } else if (optType === 'safe') {\r\n      params = {\r\n        id: values.type,\r\n        host_id: id\r\n      }\r\n    }\r\n    try {\r\n      if (optType === 'vpc') { // 切换vpc\r\n        showDialog(t('network.tip7'), 'success')\r\n        setPasVisible(false)\r\n        const res = await cloud.changeVpc(params)\r\n        if (res.data.status === 200) {\r\n          showDialog(res.data.msg, 'success')\r\n          getvpcList()\r\n        }\r\n      } else if (optType === 'safe') { // 安全组\r\n        const res = await network.concatCloud(params)\r\n        if (res.data.status === 200) {\r\n          showDialog(t('common.add') + t('common.success'), 'success')\r\n          setPasVisible(false)\r\n          props.refreshDetail()\r\n        }\r\n      }\r\n    } catch (error) {\r\n      showDialog(error.data.msg, 'error')\r\n    }\r\n  }\r\n  //  获取网络数据\r\n  const getflowList = async () => {\r\n    try {\r\n      const res = await cloud.flowdata({ id });\r\n      if (res.data.status === 200) {\r\n        setflowList(res.data.data);\r\n      }\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  //图表分类切换\r\n  const changetype4 = (e) => {\r\n    setnettype(e);\r\n  };\r\n  // 分页\r\n  const changePage = (page, size) => {\r\n    setIpParams((ipParams) => {\r\n      ipParams.limit = size;\r\n      ipParams.page = page;\r\n      return ipParams;\r\n    });\r\n    getIpList();\r\n  };\r\n  //时间转换\r\n  const getstarttime = (type) => {\r\n    console.log(parseInt(new Date().getTime() / 1000), \"time\");\r\n    let nowtime = parseInt(new Date().getTime() / 1000);\r\n    if (type === 1) {\r\n      return nowtime - 24 * 60 * 60;\r\n    } else if (type === 2) {\r\n      return nowtime - 24 * 60 * 60 * 3;\r\n    } else if (type === 3) {\r\n      return nowtime - 24 * 60 * 60 * 7;\r\n    } else if (type === 4) {\r\n      return nowtime - 24 * 60 * 60 * 30;\r\n    } else if (type === 5) {\r\n      return nowtime - 24 * 60 * 60 * 30 * 6;\r\n    }\r\n  };\r\n  //数据\r\n  const getList = async (type, timetype) => {\r\n    let start_time = getstarttime(timetype);\r\n    console.log(start_time, \"getstarttime\");\r\n    let parmar = {\r\n      id,\r\n      type,\r\n      start_time,\r\n    };\r\n    try {\r\n      const res = await cloud.chartdata(parmar);\r\n      const list = res.data.data.list;\r\n      let xAxis = [];\r\n      let yAxis = [];\r\n      let yAxis2 = [];\r\n      list.map((item) => {\r\n        if (type === \"bw\") {\r\n          xAxis.push(moment(item.time * 1000).format(\"YYYY-MM-DD HH:mm\"));\r\n          yAxis.push(item.in_bw.toFixed(2));\r\n          yAxis2.push(item.out_bw.toFixed(2));\r\n          getbwchart(xAxis, yAxis, yAxis2);\r\n        }\r\n      });\r\n\r\n      console.log(xAxis, yAxis, \"data\");\r\n    } catch (error) {\r\n      // message.error(error.data.msg);\r\n    }\r\n  };\r\n  //带宽图表\r\n  const getbwchart = (xAxis, yAxis, yAxis2) => {\r\n    var chartDom = document.getElementById(\"bwchart\");\r\n    var myChart = echarts.init(chartDom);\r\n    // console.log(myChart, \"myChart1\");\r\n    var option;\r\n    option = {\r\n      tooltip: {\r\n        show: true,\r\n        trigger: \"axis\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        boundaryGap: false,\r\n        data: xAxis,\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          name: \"进带宽(bps)\",\r\n          data: yAxis,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n        {\r\n          name: \"出带宽(bps)\",\r\n          data: yAxis2,\r\n          type: \"line\",\r\n          areaStyle: {},\r\n        },\r\n      ],\r\n    };\r\n    option && myChart.setOption(option);\r\n  };\r\n  const setshowdialog = () => {\r\n    navigate(`/create_elastic_ip`)\r\n  };\r\n  //确认\r\n  const handleOk = () => { };\r\n  //取消\r\n  const handleCancel = () => {\r\n    setisshow(false);\r\n  };\r\n  //下拉框\r\n  const handleChange = (e) => { };\r\n  useEffect(() => {\r\n    getvpcList();\r\n    getIpList();\r\n    getflowList();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getList(\"bw\", nettype);\r\n  }, [nettype]);\r\n\r\n  /* 事件操作 */\r\n  /* 弹性ip */\r\n  /*  挂载/卸载操作 */\r\n  const editItem = (row) => {\r\n    setInfo(row)\r\n    if (!row.cloud_name) { // 挂载\r\n      setItemModal(true)\r\n      // form.setFieldsValue({\r\n      //   id: row.id,\r\n      //   host_id: ''\r\n      // })\r\n    } else { // 卸载\r\n      setInfo(row)\r\n      setTitle(t('common.unmount') + t('network.elastic_ip'))\r\n      setIsModalVisible(true)\r\n    }\r\n  }\r\n  // 执行卸载\r\n  const submitDel = async () => {\r\n    try {\r\n      const res = await elastic.unmountCloud(info.id)\r\n      if (res.data.status === 200) {\r\n        showDialog(t('common.unmount') + t('common.success'), 'success')\r\n        getIpList()\r\n      }\r\n    } catch (error) {\r\n      showDialog(error.data.msg, 'error')\r\n    }\r\n  }\r\n  /* vpc */\r\n\r\n  /* 安全组 */\r\n\r\n  return (\r\n    <div className=\"com-content cloud-network\">\r\n      <div className=\"com-card\">\r\n        {/* 弹性ip */}\r\n        <div className=\"box\">\r\n          <div className=\"com-tit iptit\">\r\n            <h1 className=\"tit\">公网IP</h1>\r\n            <Button\r\n              className=\"sub-button\"\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              onClick={setshowdialog}\r\n            >\r\n              增加弹性IP\r\n            </Button>\r\n          </div>\r\n          <Table\r\n            columns={columns}\r\n            dataSource={ipList}\r\n            rowKey={(record) => record.id}\r\n            pagination={false}\r\n            loading={ipLoading}\r\n            className=\"cloud-tab\"\r\n          />\r\n          {\r\n            ipTotal > 0 && <ComPagination total={ipTotal} page={ipParams} changePage={changePage}\r\n              pageSizeOptions={[5, 10, 20]} ></ComPagination>\r\n          }\r\n\r\n        </div>\r\n        {/* vpc */}\r\n        <div className=\"box\">\r\n          <div className=\"com-tit\">\r\n            <h1 className=\"tit\">{t('cloud.vpc_network')}</h1>\r\n            <div className=\"subtit\">\r\n              {t('cloud.vpc_network') + t('cloud.bas_columns_title1')}：{vpc[0]?.vpc_name ? vpc[0]?.vpc_name : t('common.none')}\r\n              <span className=\"changenet\" onClick={() => handlerPas('vpc')}>{t('network.change_net')}</span>\r\n            </div>\r\n          </div>\r\n          <Table\r\n            columns={vpcColumns}\r\n            dataSource={vpc}\r\n            pagination={false}\r\n            rowKey={(record) => record.vpc_id || 1}\r\n            className=\"cloud-tab\"\r\n          />\r\n        </div>\r\n        {/* 安全组 */}\r\n        <div className=\"box\">\r\n          <div className=\"com-tit\">\r\n            <h1 className=\"tit\">{t('cloud.security_group')}</h1>\r\n          </div>\r\n          <div className=\"security\">\r\n            {props.detail.security_group.id === 0 ? (\r\n              <div className=\"security_box\">\r\n                <div>\r\n                  <img src={require('@/assets/images/cloud/warning.png')} alt=\"\" className=\"war-icon\" />\r\n                </div>\r\n                <div className=\"nodata\">\r\n                  {t('network.tip5')}\r\n                  <span className=\"changenet\" onClick={() => handlerPas('safe')}> {t('network.add_to_group')}</span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"security_box\">\r\n                <div className=\"source\">\r\n                  {t('network.tip6')}<span className=\"filename\">{props.detail.security_group.name}</span>\r\n                </div>\r\n                <Button className=\"sec_btn\" onClick={jumpSafe}>{t('common.manage')}</Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"box\">\r\n          <div className=\"com-tit\">\r\n            <h1 className=\"tit\">网络流量</h1>\r\n          </div>\r\n          <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 30 }}>\r\n            <Col xs={{ span: 20 }} lg={{ span: 10 }}>\r\n              <div className=\"cloud-card leftnet\">\r\n                <div className=\"net_item\">\r\n                  <span className=\"net_itemtit\">总流量：</span>\r\n                  <span>{flowList.total}</span>\r\n                </div>\r\n                <div className=\"net_item\">\r\n                  <span className=\"net_itemtit\">已用流量：</span>\r\n                  <span>{flowList.used}</span>\r\n                </div>\r\n                <div className=\"net_item\">\r\n                  <span className=\"net_itemtit\">剩余流量：</span>\r\n                  <span>{flowList.leave}</span>\r\n                </div>\r\n                <div className=\"net_item\">\r\n                  <span className=\"net_itemtit\"> 流量归零时间：</span>\r\n                  <span>{flowList.reset_flow_date}</span>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n             <Col xs={{ span: 24 }} lg={{ span: 12 }}>\r\n              <div className=\"cloud-card chartbox\">\r\n                <p className=\"chart_title\">网络带宽</p>\r\n                <div className=\"chart_type\">\r\n                  <div\r\n                    className={`chart_type_item ${nettype === 1 ? \"active\" : \"\"\r\n                      }`}\r\n                    onClick={() => changetype4(1)}\r\n                  >\r\n                    近24小时\r\n                  </div>\r\n                  <div\r\n                    className={`chart_type_item ${nettype === 2 ? \"active\" : \"\"\r\n                      }`}\r\n                    onClick={() => changetype4(2)}\r\n                  >\r\n                    近3天\r\n                  </div>\r\n                  <div\r\n                    className={`chart_type_item ${nettype === 3 ? \"active\" : \"\"\r\n                      }`}\r\n                    onClick={() => changetype4(3)}\r\n                  >\r\n                    近7天\r\n                  </div>\r\n                  <div\r\n                    className={`chart_type_item ${nettype === 4 ? \"active\" : \"\"\r\n                      }`}\r\n                    onClick={() => changetype4(4)}\r\n                  >\r\n                    近1月\r\n                  </div>\r\n                  <div\r\n                    className={`chart_type_item ${nettype === 5 ? \"active\" : \"\"\r\n                      }`}\r\n                    onClick={() => changetype4(5)}\r\n                  >\r\n                    近半年\r\n                  </div>\r\n                </div>\r\n                <div id=\"bwchart\" className=\"echarts\"></div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        {/*  <Modal\r\n          title=\"增加弹性IP\"\r\n          maskClosable=\"true\"\r\n          visible={isshow}\r\n          cancelText=\"取消\"\r\n          okText=\"确认\"\r\n          closeIcon\r\n          onOk={handleOk}\r\n          onCancel={handleCancel}\r\n          maxwidth=\"100%\"\r\n          className=\"modal\"\r\n        >\r\n          <div className=\"subtit\">\r\n            您可从已经订购的IP中选择相同区域空闲的IP使用\r\n          </div>\r\n          <div className=\"modal_con\">\r\n            <div>选择IP</div>\r\n            <Select\r\n              defaultValue=\"lucy\"\r\n              style={{\r\n                width: \"50%\",\r\n              }}\r\n              onChange={handleChange}\r\n            >\r\n              <Option value=\"jack\">Jack</Option>\r\n              <Option value=\"lucy\">Lucy</Option>\r\n            </Select>\r\n            <Button className=\"sec_btn\">订购IP地址</Button>\r\n          </div>\r\n        </Modal> */}\r\n      </div>\r\n      {/* 卸载 */}\r\n      {\r\n        isModalVisible && <DelDialog\r\n          closeDialog={closeDialog} submitDel={submitDel}\r\n          title={title}\r\n          text={\r\n            t('elastic.tip1') + t('common.unmount') + t('network.elastic_ip') + info.ip + '\\n' + t('elastic.tip2')\r\n          }\r\n        ></DelDialog>\r\n      }\r\n      {/* 切换网络|安全组 */}\r\n      <Modal title={optTitle} forceRender\r\n        visible={pasVisible} onCancel={optCancel}\r\n        footer={null} className=\"power-modal password-modal\" closable={false}>\r\n        <Form form={pasForm}\r\n          labelAlign='left'\r\n          initialValues={{\r\n\r\n          }}\r\n          onFinish={surePassword}\r\n          onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n        >\r\n          {\r\n            optType === 'vpc' ? (\r\n              <Form.Item label={t(\"common.new\") + 'VPC'} colon={false} name=\"type\"\r\n              >\r\n                <Select\r\n                  getPopupContainer={triggerNode => triggerNode.parentElement}\r\n                >\r\n                  {\r\n                    vpcList.map(item => {\r\n                      return <Option value={item.id} key={item.id}>{item.name}</Option>\r\n                    })\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            ) : (\r\n              <Form.Item label={t(\"network.choose_group\")} colon={false} name=\"type\"\r\n              >\r\n                <Select\r\n                  getPopupContainer={triggerNode => triggerNode.parentElement}\r\n                >\r\n                  {\r\n                    group.map(item => {\r\n                      return <Option value={item.id} key={item.id}>{item.name}</Option>\r\n                    })\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            )\r\n          }\r\n          {/* 关机强制校验 */}\r\n          {\r\n            props.type !== 'off' && optType === 'vpc' &&\r\n            (\r\n              <>\r\n                <div className=\"com-danger\">\r\n                  <p className=\"tit\">{t(\"cloud.tip23\")}</p>\r\n                  <div className=\"des\">\r\n                    <p>{t(\"cloud.tip24\")}</p>\r\n                    <p>{t(\"cloud.tip25\")}</p>\r\n                  </div>\r\n                </div>\r\n                <Form.Item colon={false}\r\n                  required name=\"force\"\r\n                  label={\r\n                    t(\"cloud.force_shutdown\")\r\n                  }\r\n                  valuePropName=\"checked\" rules={[\r\n                    {\r\n                      validator: (_, value) =>\r\n                        value ? Promise.resolve() : Promise.reject(new Error(t(\"cloud.tip26\"))),\r\n                    },\r\n                  ]} className=\"force-off\">\r\n                  <Checkbox>{t(\"cloud.agree_force_shutdown\")}</Checkbox>\r\n                </Form.Item>\r\n              </>\r\n            )\r\n          }\r\n          <Form.Item className=\"opt-btn\">\r\n            <Button type=\"primary\" htmlType=\"submit\" className=\"sure\">\r\n              {t(\"common.sure\")}\r\n            </Button>\r\n            <Button onClick={optCancel} className=\"cancel\">\r\n              {t(\"common.cancel\")}\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Col, Row, Tabs, message, Button, Modal } from \"antd\";\r\nimport { getCommon } from \"@/api/common.js\"\r\nimport { showDialog } from '@/utils/util'\r\nimport * as cloud from \"@/api/cloud\";\r\nimport PayModal from \"@/components/payModal/PayModal\";\r\nimport \"./upgrade.less\";\r\nimport moment from 'moment'\r\nexport default function Upgrade (props) {\r\n  const id = props.id;\r\n  const navigate = useNavigate();\r\n  const { t } = useTranslation();\r\n  const { TabPane } = Tabs;\r\n  const [plist, setPlist] = useState([]);\r\n  const [ptab, setPtab] = useState([]);\r\n  const [cur, setCur] = useState();\r\n  const [curId, setCurId] = useState(0);\r\n  const timer = useRef()\r\n  // 当前配置\r\n  const [curConfig, setCurConfig] = useState({})\r\n  const [afterConfig, setAfterConfig] = useState({})\r\n  // 轮询剩余时间\r\n  const [time, setTime] = useState(300000); // 5分钟\r\n  // 价格前缀\r\n  const [common, setCommon] = useState('')\r\n  const [orderId, setOrderId] = useState()\r\n  const [isShowPay, setIsShowPay] = useState(false)\r\n  // 升级套餐信息\r\n  const [upgradeData, setUpgradeData] = useState({})\r\n  // 升级modal\r\n  const [isShowModal, setIsShowModal] = useState(false)\r\n  // 通用配置\r\n  const getCommonConfig = async () => {\r\n    const res = await getCommon()\r\n    setCommon(res.data.data)\r\n  }\r\n  // 到期天数\r\n  const endDayCount = props.host ? Math.floor((props.host.due_time * 1000 - Date.now()) / (1000 * 60 * 60 * 24)) : '-'\r\n  // 实例套餐id\r\n  const packageId = props.detail.package.id\r\n  const detail = props.detail\r\n  const host = props.host\r\n  useEffect(() => {\r\n    getCommonConfig();\r\n    getPackageList();\r\n    const temp = {\r\n      description: detail.package.description,\r\n      price: host.first_payment_amount\r\n    }\r\n    setCurConfig(temp)\r\n    return () => clearInterval(timer.current)\r\n  }, []);\r\n\r\n  const changePackage = (e) => {\r\n    setCur(0);\r\n    getPackageList(e);\r\n  };\r\n  // 点击选择具体的套餐\r\n  const changePackageId = (id, index) => {\r\n    setCur(index);\r\n    setCurId(id)\r\n    const temp = plist.filter(item => item.id === id)\r\n    setAfterConfig(temp[0])\r\n  };\r\n  const getPackageList = async (groupId) => {\r\n    try {\r\n      const res = await cloud.getPackage({\r\n        product_id: 30,\r\n        cal_group_id: groupId,\r\n        bw_type_id: detail.bw.id,\r\n        data_center_id: detail.data_center.id,\r\n      });\r\n      const data = res.data.data;\r\n      setPtab(data.cal_group);\r\n      setPlist(data.package);\r\n      // const temp = data.package.filter(item => item.id === packageId)\r\n      // setCurConfig(temp[0])\r\n    } catch (error) {\r\n      console.log(error)\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 提交升级\r\n  const submitUpgrade = () => {\r\n    if (!curId || (curId === packageId)) {\r\n      return showDialog(t('select') + t('common.package'), 'error')\r\n    }\r\n    getPackagePrice()\r\n  }\r\n  // 拉取套餐价格\r\n  const getPackagePrice = async () => {\r\n    try {\r\n      const params = {\r\n        id,\r\n        package_id: curId\r\n      }\r\n      const res = await cloud.getPackagePrice(params)\r\n      if (res.data.status === 200) {\r\n        setUpgradeData(res.data.data)\r\n        setIsShowModal(true)\r\n      }\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 生成订单\r\n  const createPackageId = async () => {\r\n    try {\r\n      const params = {\r\n        id,\r\n        package_id: curId\r\n      }\r\n      const res = await cloud.createPackageId(params)\r\n      if (res.data.status === 200) {\r\n        if (Number(upgradeData.price) <= 0) {\r\n          showDialog(t('cloud.tip34'), 'success', () => {\r\n            setIsShowModal(false)\r\n            props.refreshDetail()\r\n          })\r\n        } else {\r\n          setIsShowPay(true)\r\n          setOrderId(res.data.data.id)\r\n          // 轮询支付状态\r\n          pollingStatus(res.data.data.id)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  // 轮询支付状态\r\n  const pollingStatus = (id) => {\r\n    timer.current = setInterval(async () => {\r\n      const res = await cloud.getPayStatus(id ? id : orderId);\r\n      setTime((time) => {\r\n        return (time -= 2000);\r\n      });\r\n      if (res.data.code === \"Paid\") {\r\n        showDialog(res.data.msg, 'success', () => {\r\n          // 支付成功\r\n          setIsShowModal(false)\r\n          props.refreshDetail()\r\n        })\r\n        clearInterval(timer.current);\r\n        setIsShowPay(false);\r\n        return false;\r\n      }\r\n      // 支付成功或者5分钟到点清除定时器\r\n      if (res.code === \"Paid\" || time === 0) {\r\n        clearInterval(timer.current);\r\n        setIsShowPay(false);\r\n        return false;\r\n      }\r\n    }, 2000)\r\n  };\r\n  // 取消支付\r\n  const handleCancel = () => {\r\n    setIsShowPay(false)\r\n    clearInterval(timer.current);\r\n  }\r\n  return (\r\n    <div className=\"com-content add-cloud cloud-upgrade\">\r\n      <div className=\"com-card\">\r\n        <div className=\"box\">\r\n          <div className=\"package\">\r\n            <Tabs onChange={changePackage}>\r\n              {ptab?.map((item) => (\r\n                <TabPane tab={item.name} key={item.id}>\r\n                  <p className=\"info\">\r\n                    {item.description}\r\n                  </p>\r\n                  <Row gutter={{ xs: 8, md: 24, lg: 35 }}>\r\n                    {plist.map((item, index) => {\r\n                      return (\r\n                        <Col\r\n                          xs={{ span: 24 }}\r\n                          md={{ span: 12 }}\r\n                          lg={{ span: 6 }}\r\n                          key={item.id}\r\n                        >\r\n                          <div\r\n                            className={`item c-hover ${(curId === item.id) && (curId !== packageId) ? \"c-active\" : \"\"\r\n                              } ${item.id === packageId ? \"mask\" : \"\"}`}\r\n                            key={item.id}\r\n                            onClick={() => changePackageId(item.id, index)}\r\n                          >\r\n                            <p className=\"price\">\r\n                              <span className=\"p-num\">\r\n                                {common.prefix}{item.price.split(\".\")[0]}\r\n                              </span>\r\n                              <span className=\"cycle\">\r\n                                .{item.price.split(\".\")[1]}/mo\r\n                              </span>\r\n                            </p>\r\n                            <p className=\"des\" dangerouslySetInnerHTML={{ __html: item.description }}></p>\r\n                          </div>\r\n                        </Col>\r\n                      );\r\n                    })}\r\n                  </Row>\r\n                  <div className=\"upbtn\">\r\n                    <Button\r\n                      className=\"sub-button\"\r\n                      type=\"primary\"\r\n                      onClick={submitUpgrade}\r\n                    >\r\n                      {t('common.sure')}\r\n                    </Button>\r\n                  </div>\r\n                </TabPane>\r\n              ))}\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* 退款 */}\r\n      {\r\n        common && upgradeData ? <Modal\r\n          className='refund-modal'\r\n          visible={isShowModal}\r\n          footer={null}\r\n          centered={true}\r\n          closable={false}\r\n          style={{ borderRadius: \"10px\", overflow: \"auto\" }}\r\n          maskClosable={true}\r\n          keyboard={true}\r\n          getContainer={false}\r\n          onCancel={() => setIsShowModal(false)}\r\n        >\r\n          {\r\n            isShowModal && <div className=\"modal-unopen\">\r\n              <div className=\"modal-title\">{t('cloud.upgrade_cloud')}</div>\r\n              <div className=\"modal-form\">\r\n                <div className=\"config-item\">\r\n                  <div className=\"row-l\">{t('cloud.cur_config')}</div>\r\n                  <div className=\"row-r\">\r\n                    <div className=\"item\">\r\n                      <p className=\"des\" dangerouslySetInnerHTML={{ __html: curConfig?.description }}></p>\r\n                      <p className=\"price\">{common.currency_prefix}{curConfig?.price}/{t('cloud.month')}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"config-item\">\r\n                  <div className=\"row-l\">{t('cloud.after_config')}</div>\r\n                  <div className=\"row-r white\">\r\n                    <div className=\"item\">\r\n                      <p className=\"des\" dangerouslySetInnerHTML={{ __html: afterConfig?.description }}></p>\r\n                      <p className=\"price\">{common.currency_prefix}{afterConfig?.price}/{t('cloud.month')}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"due-time\">{t('cloud.cur_time')}：\r\n                  <span className=\"day\">\r\n                    {endDayCount}\r\n                  </span>\r\n                  {t('common.day')}</div>\r\n                <div className=\"total-price\">\r\n                  {t('common.cur_cost')}：\r\n                  <div className=\"num\"><span>{common.currency_prefix}</span>{upgradeData?.price}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <Button className='sure' onClick={createPackageId}>\r\n                  {t('common.sure')}\r\n                </Button>\r\n                <Button className='cancel' onClick={() => setIsShowModal(false)}>{t('common.cancel')}</Button>\r\n              </div>\r\n            </div>\r\n          }\r\n        </Modal>\r\n          : null\r\n      }\r\n      {/* 支付modal */}\r\n      {\r\n        orderId &&\r\n        (\r\n          <PayModal orderId={orderId} timer={timer} visible={isShowPay} handleCancel={handleCancel}></PayModal>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport ComPagination from '@/components/comPagination/ComPagination.jsx'\r\nimport { Table, Button, Modal, Row, Col, Input, Select, Alert } from 'antd';\r\nimport moment from 'moment';\r\nimport Swal from \"sweetalert2\";\r\nimport './BackupSnapshot.less'\r\n\r\nimport { snapshot, backup, delSnapshot, restoreSnapshot, restoreBackup, delBackup, getDiskById, createSnapshot, mount } from \"@/api/cloud\"\r\nimport { showDialog } from '@/utils/util';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { createBackup } from '../../../../api/cloud';\r\n\r\nexport default function BackupSnapshot() {\r\n  const { Option } = Select;\r\n  const { t } = useTranslation();\r\n  // 产品id\r\n  const [id, setId] = useState(\r\n    () => Number(window.location.hash.split(\"=\")[1])\r\n  )\r\n\r\n  // 表单提示信息\r\n  const [errMsg, setErrMsg] = useState(\"\")\r\n\r\n  // 判断当前是快照 还是 备份  true: 快照  false: 备份\r\n  const [bOrs, setBOrs] = useState(true)\r\n\r\n  // 创建快照/备份相关\r\n  // 表单数据\r\n  const [isSelectLoading, setIsSelectLoading] = useState(false)\r\n  const [sForm, setSForm] = useState({\r\n    id,\r\n    name: null,\r\n    disk_id: null\r\n  })\r\n  const [isSmodalVisible, setIsSmodalVisible] = useState(false)\r\n\r\n  const [diskList, setDiskList] = useState([])\r\n  // 快照分页相关\r\n  const [total, setTotal] = useState(0)\r\n  const [params, setParams] = useState({\r\n    keywords: '',\r\n    page: 1,\r\n    limit: 5,\r\n    orderby: 'id',\r\n    sort: 'desc'\r\n  })\r\n\r\n  // 备份分页相关\r\n  const [backTotal, setBackTotal] = useState(10)\r\n  const [backParams, setBackParams] = useState({\r\n    keywords: '',\r\n    page: 1,\r\n    limit: 5,\r\n    orderby: 'id',\r\n    sort: 'desc'\r\n  })\r\n\r\n  useEffect(() => {\r\n    getSnapshot()\r\n  }, [params]);\r\n  useEffect(() => {\r\n    getBackup()\r\n  }, [backParams])\r\n\r\n\r\n  // 快照表格相关\r\n  const [isTableLoading, setIsTableLoading] = useState(false)\r\n  const [datasource, setDatasource] = useState([])\r\n  const changePage = (page, limit) => {\r\n    setParams(params => {\r\n      return { ...params, page, limit }\r\n    })\r\n  }\r\n\r\n  // 备份表格相关\r\n  const [isBackTableLoading, setIsBackTableLoading] = useState(false)\r\n  const [backDatasource, setBackDatasource] = useState([])\r\n  const changeBackPage = (page, limit) => {\r\n    setBackParams(params => {\r\n      return { ...params, page, limit }\r\n    })\r\n  }\r\n\r\n  // 有无快照信息\r\n  const [isSnapshot, setIsSnapshot] = useState(false)\r\n  // 有无备份信息\r\n  const [isBackup, setIsBackup] = useState(false)\r\n\r\n  // 快照 columns\r\n  const columns = [\r\n    {\r\n      title: t('cloud.bas_columns_title1'),\r\n      dataIndex: 'name',\r\n      ellipsis: true,\r\n      width: 300,\r\n    },\r\n    {\r\n      title: t('cloud.bas_columns_title2'),\r\n      dataIndex: 'notes',\r\n      ellipsis: true,\r\n    },\r\n    {\r\n      title: t('cloud.bas_columns_title3'),\r\n      dataIndex: 'create_time',\r\n      width: 200,\r\n      render: (create_time) => (\r\n        <>\r\n          {\r\n            create_time ?\r\n              moment(create_time * 1000).format(\"YYYY-MM-DD HH:mm\")\r\n              :\r\n              \"--\"\r\n          }\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: t('cloud.bas_columns_title4'),\r\n      width: 80,\r\n      render: (_, record) => {\r\n        return (\r\n          <div className='more'>\r\n            <span className='more-text'>...</span>\r\n            <span className='more-operation'>\r\n              <a className='more-dilatation' onClick={() => doRestoreSnapshot(record)} >{t('cloud.bas_btn5')}</a>\r\n              <a className='more-delete' onClick={() => deleteSnapshot(record)} >{t('cloud.bas_btn6')}</a>\r\n            </span>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  // 备份 columns\r\n  const backColumns = [\r\n    {\r\n      title: t('cloud.bas_columns_title1'),\r\n      dataIndex: 'name',\r\n      ellipsis: true,\r\n      width: 300,\r\n    },\r\n    {\r\n      title: t('cloud.bas_columns_title2'),\r\n      dataIndex: 'notes',\r\n      ellipsis: true,\r\n    },\r\n    {\r\n      title: t('cloud.bas_columns_title3'),\r\n      dataIndex: 'create_time',\r\n      width: 200,\r\n      render: (create_time) => (\r\n        <>\r\n          {\r\n            create_time ?\r\n              moment(create_time * 1000).format(\"YYYY-MM-DD HH:mm\")\r\n              :\r\n              \"--\"\r\n          }\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: t('cloud.bas_columns_title4'),\r\n      width: 80,\r\n      render: (_, record) => {\r\n        return (\r\n          <div className='more'>\r\n            <span className='more-text'>...</span>\r\n            <span className='more-operation'>\r\n              <a className='more-dilatation' onClick={() => doRestoreBackup(record)} >{t('cloud.bas_btn5')}</a>\r\n              <a className='more-delete' onClick={() => deleteBackup(record)} >{t('cloud.bas_btn6')}</a>\r\n            </span>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  // 获取快照列表\r\n  const getSnapshot = () => {\r\n    setIsTableLoading(true)\r\n    // const id = window.location.hash.split(\"=\")[1]\r\n    snapshot({ ...params, id }).then(res => {\r\n      if (res.data.status === 200 && res.data.data.count > 0) {\r\n        setTotal(res.data.data.count)\r\n        setIsSnapshot(true)\r\n        const list = res.data.data.list\r\n        console.log(res);\r\n        setDatasource(list)\r\n      } else {\r\n        setIsSnapshot(false)\r\n      }\r\n      setIsTableLoading(false)\r\n    })\r\n  }\r\n\r\n  // 获取备份列表\r\n  const getBackup = () => {\r\n    setIsBackTableLoading(true)\r\n    // const id = window.location.hash.split(\"=\")[1]\r\n    backup({ ...params, id }).then(res => {\r\n      if (res.data.status === 200 && res.data.data.count > 0) {\r\n        setBackTotal(res.data.data.count)\r\n        setIsBackup(true)\r\n        const list = res.data.data.list\r\n        setBackDatasource(list)\r\n      } else {\r\n        setIsBackup(false)\r\n      }\r\n      setIsBackTableLoading(false)\r\n    })\r\n  }\r\n\r\n  // 删除快照\r\n  const deleteSnapshot = (record) => {\r\n    Swal.fire({\r\n      text: `您将删除 ${record.name},请确认是否继续！`,\r\n      icon: 'info',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#5C5EE4',\r\n      confirmButtonText: '确认',\r\n      cancelButtonText: '取消',\r\n      customClass: {\r\n        icon: 'ssh-icon',\r\n        cancelButton: 'ssh-cancel-button',\r\n      }\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // 调用接口执行卸载\r\n        const params = {\r\n          id,\r\n          snapshot_id: record.id\r\n        }\r\n        delSnapshot(params).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(`您已成功删除 ${record.name}`, \"success\")\r\n            getSnapshot()\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // 还原快照\r\n  const doRestoreSnapshot = (record) => {\r\n    Swal.fire({\r\n      text: `您将还原 ${record.name},请确认是否继续！`,\r\n      icon: 'info',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#5C5EE4',\r\n      confirmButtonText: '确认',\r\n      cancelButtonText: '取消',\r\n      customClass: {\r\n        icon: 'ssh-icon',\r\n        cancelButton: 'ssh-cancel-button',\r\n      }\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // 调用接口执行卸载\r\n        const params = {\r\n          id,\r\n          snapshot_id: record.id\r\n        }\r\n        restoreSnapshot(params).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(`您已成功还原 ${record.name}`, \"success\")\r\n            getSnapshot()\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // 还原备份\r\n  const doRestoreBackup = (record) => {\r\n    Swal.fire({\r\n      text: `您将还原 ${record.name},请确认是否继续！`,\r\n      icon: 'info',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#5C5EE4',\r\n      confirmButtonText: '确认',\r\n      cancelButtonText: '取消',\r\n      customClass: {\r\n        icon: 'ssh-icon',\r\n        cancelButton: 'ssh-cancel-button',\r\n      }\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // 调用接口执行卸载\r\n        const params = {\r\n          id,\r\n          snapshot_id: record.id\r\n        }\r\n        restoreBackup(params).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(`您已成功还原 ${record.name}`, \"success\")\r\n            getBackup()\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // 删除备份\r\n  const deleteBackup = (record) => {\r\n    Swal.fire({\r\n      text: `您将删除 ${record.name},请确认是否继续！`,\r\n      icon: 'info',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#5C5EE4',\r\n      confirmButtonText: '确认',\r\n      cancelButtonText: '取消',\r\n      customClass: {\r\n        icon: 'ssh-icon',\r\n        cancelButton: 'ssh-cancel-button',\r\n      }\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // 调用接口执行卸载\r\n        const params = {\r\n          id,\r\n          snapshot_id: record.id\r\n        }\r\n        delBackup(params).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(`您已成功删除 ${record.name}`, \"success\")\r\n            getBackup()\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // 通过产品id获取磁盘列表\r\n  const showDisk = (open) => {\r\n    if (open) {\r\n      setIsSelectLoading(true)\r\n      getDiskById(id).then(res => {\r\n        if (res.data.list) {\r\n          setDiskList(res.data.list)\r\n        }\r\n        setIsSelectLoading(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  const getDiskIdValue = (e) => {\r\n    setSForm({\r\n      ...sForm,\r\n      disk_id: Number(e)\r\n    });\r\n  };\r\n\r\n  const getNameValue = (e) => {\r\n    setSForm({\r\n      ...sForm,\r\n      name: e.target.value,\r\n    })\r\n  }\r\n\r\n  // 创建快照/备份\r\n  const doCreateSnapshot = () => {\r\n    let isPass = true;\r\n    if (sForm.name) {\r\n      if (sForm.name.length > 10) {\r\n        setErrMsg(\"请输入10字以内的名称\")\r\n        isPass = false\r\n      }\r\n    } else {\r\n      setErrMsg(\"请输入名称\")\r\n      isPass = false\r\n    }\r\n\r\n    if (!sForm.disk_id) {\r\n      bOrs ?\r\n        setErrMsg(\"请选择需要创建快照的磁盘\")\r\n        :\r\n        setErrMsg(\"请选择需要创建备份的磁盘\")\r\n      isPass = false\r\n    }\r\n\r\n    if (isPass) { // 调创建快照的接口\r\n      setErrMsg(\"\")\r\n      if (bOrs) { // 调创建快照的接口\r\n        console.log(sForm);\r\n        createSnapshot(sForm).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(\"快照创建发起成功\", \"success\")\r\n            setIsSmodalVisible(false)\r\n            getSnapshot()\r\n          }\r\n        })\r\n      } else {  // 调创建备份的接口\r\n        console.log(\"调用的备份接口\");\r\n        createBackup(sForm).then(res => {\r\n          if (res.data.status === 200) {\r\n            showDialog(\"备份创建发起成功\", \"success\")\r\n            setIsSmodalVisible(false)\r\n            getBackup()\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // 展示 创建快照/备份的modal  type: \"s\" 快照  type:\"b\" 备份\r\n  const showSmodal = (type) => {\r\n    // 清空错误信息\r\n    setErrMsg(\"\")\r\n    // 清空表单信息\r\n    setSForm({\r\n      id,\r\n      name: \"\",\r\n      disk_id: 0\r\n    })\r\n    if (type === \"s\") {\r\n      setBOrs(true)\r\n    } else {\r\n      setBOrs(false)\r\n    }\r\n    setIsSmodalVisible(true)\r\n  }\r\n\r\n  return (\r\n    <div className='cloud-card backup-snapshot'>\r\n      {\r\n        isSnapshot ?\r\n          // 有快照数据\r\n          <div className=\"snapshot-yes\">\r\n            <div className=\"snapshot-yes-top\">\r\n              <div className=\"left\">\r\n                <span className='title'>{t('cloud.bas_title1')}</span>\r\n                <span className='text'>{`${total}/5`}</span>\r\n              </div>\r\n              <div className=\"right\">\r\n                {/* <Button className='btn-updown'>{t('cloud.bas_btn1')}</Button> */}\r\n                <Button className='btn-create' onClick={() => showSmodal(\"s\")}>{t('cloud.bas_btn2')}</Button>\r\n              </div>\r\n            </div>\r\n            <div className=\"main_table\">\r\n              <Table columns={columns}\r\n                dataSource={datasource}\r\n                pagination={false}\r\n                loading={isTableLoading}\r\n                rowKey={record => record.id}\r\n              // scroll={datasource.length !== 0 ? {\r\n              //   y: 120,\r\n              //   x: '100%',\r\n              //   scrollToFirstRowOnChange: true\r\n              // } : null}\r\n              />\r\n            </div>\r\n            {/* 分页模块 */}\r\n            <ComPagination total={total} page={params} changePage={changePage}></ComPagination>\r\n          </div>\r\n          :\r\n          // 无快照数据\r\n          <div className=\"snapshot-no\">\r\n            <div className=\"snapshot-no-title\">{t('cloud.bas_title1')}</div>\r\n            <div className=\"snapshot-no-main\">\r\n              <img className='snapshot-no-img' src={require('@/assets/images/cloud/snapshot.png')} alt=\"\" />\r\n              {/* <span className='snapshot-no-text'>{t('cloud.bas_columns_tip1')}</span>\r\n              <span className='snapshot-no-money'>$5.00/月起</span> */}\r\n              <Button className='snapshot-no-btn' onClick={() => showSmodal(\"s\")}>{t('cloud.bas_btn4')}</Button>\r\n            </div>\r\n          </div>\r\n      }\r\n      {/* 备份 */}\r\n      {\r\n        isBackup ?\r\n          // 有备份数据\r\n          <div className=\"backup-yes\">\r\n            <div className=\"backup-yes-top\">\r\n              <div className=\"left\">\r\n                <span className='title'>{t('cloud.bas_title2')}</span>\r\n                {/* <span className='text'>备份已启动，系统会在每天0点进行自动备份，备份将会被保留2周,备份将收取您$4.00/月的费用</span> */}\r\n              </div>\r\n              <div className=\"right\">\r\n                {/* 关闭备份按钮 */}\r\n                {/* <Button className='btn-close'>{t('cloud.bas_btn3')}</Button> */}\r\n              </div>\r\n            </div>\r\n            <div className=\"main_table\">\r\n              <Table columns={backColumns}\r\n                dataSource={backDatasource}\r\n                pagination={false}\r\n                loading={isBackTableLoading}\r\n                rowKey={record => record.id}\r\n              // scroll={backDatasource.length !== 0 ? {\r\n              //   y: 120,\r\n              //   x: '100%',\r\n              //   scrollToFirstRowOnChange: true\r\n              // } : null}\r\n              />\r\n            </div>\r\n            {/* 分页模块 */}\r\n            <ComPagination total={backTotal} page={backParams} changePage={changeBackPage}></ComPagination>\r\n          </div>\r\n          :\r\n          // 无备份数据\r\n          <div className=\"backup-no\">\r\n            <div className=\"backup-no-title\">{t('cloud.bas_title2')}</div>\r\n            <div className=\"backup-no-main\">\r\n              <img className='backup-no-img' src={require('@/assets/images/cloud/backup.png')} alt=\"\" />\r\n              {/* <span className='backup-no-text'>{t('cloud.bas_columns_tip1')}</span>\r\n              <span className='backup-no-money'>$5.00/月起</span> */}\r\n              <Button className='backup-no-btn' onClick={() => showSmodal(\"b\")}>{t('cloud.bas_btn4')}</Button>\r\n            </div>\r\n          </div>\r\n      }\r\n\r\n      {/* 创建快照/备份 modal */}\r\n      <Modal\r\n        visible={isSmodalVisible}\r\n        footer={null}\r\n        centered={true}\r\n        closable={false}\r\n        style={{ borderRadius: \"10px\", overflow: \"auto\" }}\r\n        getContainer={false}\r\n        onCancel={() => setIsSmodalVisible(false)}\r\n      >\r\n        <div className='create-snapshot'>\r\n          <div className=\"top\">\r\n            <div className=\"title\">\r\n              {\r\n                bOrs ?\r\n                  \"创建快照\"\r\n                  :\r\n                  \"创建备份\"\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"main\">\r\n            {\r\n              errMsg ?\r\n                <div className=\"err\">\r\n                  <Alert description={errMsg} type=\"error\" showIcon />\r\n                </div>\r\n                :\r\n                <div className=\"remind-text\">\r\n                  <Alert message={`建议您关闭实例后创建${bOrs?'快照':'备份'}，确保一致性避免出现问题，快照基于数量收费`} type=\"warning\" showIcon />\r\n                </div>\r\n            }\r\n            <div className=\"form\">\r\n              <div className=\"row\">\r\n                <Row>\r\n                  <Col span={4}>\r\n                    <span className='label'>磁盘</span>\r\n                  </Col>\r\n                  <Col span={20}>\r\n                    <Select loading={isSelectLoading} size='large' onDropdownVisibleChange={(open) => showDisk(open)} onChange={getDiskIdValue} >\r\n                      {\r\n                        diskList.map(item => {\r\n                          return <Option key={item.id} value={item.id}>{`${item.name}-${item.size}G`}</Option>\r\n                        })\r\n                      }\r\n                    </Select>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Row>\r\n                  <Col span={4}>\r\n                    <span className='label'>名称</span>\r\n                  </Col>\r\n                  <Col span={20}>\r\n                    <Input size='large' placeholder={bOrs ? \"请输入快照名称\" : \"请输入备份名称\"} onChange={getNameValue} />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"footer\">\r\n            <Button className='sub-btn' onClick={doCreateSnapshot}>立即创建</Button>\r\n            <Button className='cancel-btn' onClick={() => setIsSmodalVisible(false)}>取消</Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { message, Table } from 'antd';\r\nimport moment from 'moment'\r\n\r\nimport * as cloud from '@/api/cloud';\r\nimport '../../cloud/cloud.css';\r\n\r\nimport ComPagination from '@/components/comPagination/ComPagination.jsx'\r\nexport default function Log(props) {\r\n  const { t } = useTranslation()\r\n  /* 初始化数据 */\r\n  const [logList, setLogList] = useState([])\r\n  const id = props.id\r\n  const [total, setTotal] = useState(0)\r\n  const [params, setParams] = useState({\r\n    id,\r\n    keywords: '',\r\n    page: 1,\r\n    limit: 20,\r\n    orderby: 'id',\r\n    sort: 'desc',\r\n  })\r\n  const columns = [\r\n    {\r\n      title: 'ID',\r\n      dataIndex: 'id',\r\n      key: 'id',\r\n      width: 120\r\n    },\r\n    {\r\n      title: t('cloud.description'),\r\n      dataIndex: 'description',\r\n      key: 'description'\r\n    },\r\n    {\r\n      title: t(\"common.create_time\"),\r\n      dataIndex: 'due_time',\r\n      key: 'due_time',\r\n      width: 200,\r\n      render: (_, record) => (\r\n        <>\r\n          <span>{moment(record.create_time * 1000).format('YYYY-MM-DD HH: mm')}</span>\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: 'IP',\r\n      dataIndex: 'ip',\r\n      key: 'ip',\r\n      width: 150\r\n    }\r\n  ];\r\n  /* 获取数据 */\r\n  const getLogList = async () => {\r\n    try {\r\n      const res = await cloud.getLog(params)\r\n      setLogList(res.data.data.list)\r\n      setTotal(res.data.data.count)\r\n    } catch (error) {\r\n      message.error(error.data.msg)\r\n    }\r\n  }\r\n  // 分页\r\n  const changePage = (page, size) => {\r\n    setParams(params => {\r\n      params.limit = size\r\n      params.page = page\r\n      return params\r\n    })\r\n    getLogList()\r\n  }\r\n\r\n  useEffect(() => {\r\n    getLogList()\r\n  }, [])\r\n  return (\r\n    <div className=\"com-content cloud-log\">\r\n      <div className=\"com-card\">\r\n        <Table columns={columns} dataSource={logList}\r\n          rowKey={record => record.id} pagination={false} className=\"cloud-tab\"\r\n          scroll={{ x: 'max-content' }} />\r\n        <ComPagination total={total} page={params} changePage={changePage} ></ComPagination>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { message } from \"antd\";\r\n\r\nimport * as cloud from \"@/api/cloud\";\r\nimport * as manage from \"@/api/cloudManage\";\r\nimport \"./cloud.css\";\r\n\r\nimport ComTab from \"./components/com-tab/ComTab\";\r\nimport Summary from \"./summary/Summary\";\r\nimport Charts from \"./charts/Charts\";\r\nimport Manage from \"./manage/Manage\";\r\nimport Disk from \"./disk/Disk\";\r\nimport Network from \"./network/Network\";\r\nimport Upgrade from \"./upgrade/Upgrade\";\r\nimport BackupSnapshot from \"./backup_snapshot/BackupSnapshot\";\r\nimport Log from \"./log/Log\";\r\nexport default function CloudDetail () {\r\n  const [search] = useSearchParams();\r\n  const id = search.get(\"id\");\r\n  /* 初始化数据 */\r\n  const [detail, setDetail] = useState(null);\r\n  const [host, setHost] = useState(null)\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState(\"summary\");\r\n  const [type, setType] = useState(null);\r\n  const [isEscue, setIsEscue] = useState(0)\r\n  let timer = useRef()\r\n  useEffect(() => {\r\n    getDetail();\r\n    pollingStatus();\r\n    getHostDetail()\r\n    getIsRescue();\r\n    return () => clearInterval(timer.current)\r\n  }, []);\r\n  /* 获取数据 */\r\n  // 获取实例详情\r\n  let test = {};\r\n  const getDetail = async () => {\r\n    try {\r\n      const res = await cloud.getCloudDetail(id);\r\n      setDetail(res.data.data);\r\n    } catch (error) {\r\n      console.log(error)\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 获取产品详情\r\n  const getHostDetail = async () => {\r\n    try {\r\n      const res = await manage.getProductDetail(id)\r\n      setHost(res.data.data.host)\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  }\r\n  // 是否为救援系统\r\n  const getIsRescue = async () => {\r\n    try {\r\n      const res = await manage.getIsRescue(id)\r\n      if (res.data.status === 200) {\r\n        setIsEscue(res.data.data.rescue)\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  // 轮询实例状态\r\n  const pollingStatus = () => {\r\n    timer.current = setInterval(async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await manage.getStatus(id);\r\n        if (res.data.data.status !== \"operating\") {\r\n          clearInterval(timer.current);\r\n          setType(res.data.data.status);\r\n          getIsRescue()\r\n          setLoading(false);\r\n          getDetail()\r\n          return false;\r\n        }\r\n      } catch (error) {\r\n\r\n      }\r\n    }, 2000);\r\n  };\r\n  // 刷新状态\r\n  const refresh = () => {\r\n    pollingStatus();\r\n  };\r\n  // 刷新实例详情\r\n  const refreshDetail = ()=>{\r\n    getDetail()\r\n  }\r\n  const changeTab = (e) => {\r\n    setActiveTab(e);\r\n  };\r\n  switch (activeTab) {\r\n    case \"summary\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <Summary></Summary>\r\n          </div>\r\n        )\r\n      );\r\n    case \"charts\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <Charts id={id}></Charts>\r\n          </div>\r\n        )\r\n      );\r\n    case \"manage\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <Manage detail={detail} refresh={refresh} type={type} isEscue={isEscue}></Manage>\r\n          </div>\r\n        )\r\n\r\n      );\r\n    case \"disk\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <Disk></Disk>\r\n          </div>\r\n        )\r\n      );\r\n    case \"network\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <Network id={id} detail={detail} refreshDetail={refreshDetail}></Network>\r\n          </div>\r\n        )\r\n      );\r\n    case \"upgrade\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <Upgrade id={id} detail={detail} host={host} refreshDetail={refreshDetail}></Upgrade>\r\n          </div>\r\n        )\r\n      );\r\n    case \"backup_snapshot\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <BackupSnapshot></BackupSnapshot>\r\n          </div>\r\n        )\r\n      );\r\n    case \"log\":\r\n      return (\r\n        detail && (\r\n          <div className=\"com-content cloud-detail\">\r\n            <ComTab\r\n              activeTab={activeTab}\r\n              changeTab={changeTab}\r\n              detail={detail}\r\n              host={host}\r\n              loading={loading}\r\n              type={type}\r\n              refresh={refresh}\r\n            ></ComTab>\r\n            <Log id={id}></Log>\r\n          </div>\r\n        )\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n  return null;\r\n}\r\n"],"names":["getDataCenter","id","request","getBwType","getPackage","params","product_id","getSystem","getVpc","getGroup","getSetting","getDurationPprice","updatePrice","settleProduct","usePromoCode","onlinePay","creditPay","getPayStatus","getOrderDetail","getCloudList","payWayList","getUserDetail","getCloudDetail","getSshkey","getLog","getDiskById","getDisk","umount","mount","snapshot","createSnapshot","restoreSnapshot","delSnapshot","snapshot_id","backup","createBackup","restoreBackup","delBackup","backup_id","host","refund","postRefund","quitRefund","renew","doRenw","chartdata","vpcdata","changeVpc","flowdata","refundMsg","getPackagePrice","createPackageId","changeNotes","getProductDetail","powerOn","powerOff","force","reboot","postVnc","getStatus","resetPassword","getIsRescue","rescue","exitRescue","reinstall","getTemplate","getSystemImage","imageIsBuy","getSsh","createOrder","getIpList","mountCloud","unmountCloud","getIpPrice","getCloudIp","order","param","transaction","orderDetails","account","credit","gateway","recharge","pay","withdrawRule","withdraw","unSh","promoCode","addVpc","updateVpc","deleteVpc","addAndUpdateGroup","type","deleteGroup","getGroupRules","addAndUpdateGroupRules","deleteGroupRules","batchRules","getGroupCloud","concatCloud","host_id","cancelConcatCloud","getAllCloud","ComPagination","props","page","total","pageSize","limit","showSizeChanger","pageSizeOptions","current","showTitle","onChange","changePage","showTotal","range","DelDialog","t","useTranslation","showDialog","Swal","title","text","customClass","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","closeDialog","submitDel","isDismissed","useEffect","Option","Select","PayModal","navigate","useNavigate","useState","orderDetail","setOrderDetail","curPay","setCurPay","user","setUser","balanceChecked","setBalanceChecked","payList","setPayList","payHtml","setPayHtml","isShowPay","setIsShowPay","loading","setLoading","cloud","orderId","res","data","message","msg","getUser","getPayWay","list","name","initPay","console","log","html","changePayWay","e","Number","amount","handleOk","useBalance","target","checked","use","tempId","orderRes","handleCancel","clearInterval","timer","replace","visible","undefined","onOk","onCancel","className","closable","footer","onClick","length","value","map","item","toFixed","dangerouslySetInnerHTML","__html","PowerModal","Form","form","optCancel","optTitle","forceRender","initialValues","host_name","info","remember","onFinish","getFieldsValue","autoComplete","label","colon","disabled","optType","valuePropName","htmlType","useMountedRef","mountedRef","useRef","ComTab","change","changeTab","getAttribute","menu","detail","setOptTitle","optVisible","setOptVisible","setOptType","refresh","showDia","status","manage","window","open","url","product_name","src","data_center","country_code","require","alt","city","placement","powerStatus","getPopupContainer","document","getElementById","SyncOutlined","spin","image","activeTab","time","Summary","TextArea","Input","location","hash","split","CodeInput","setCodeInput","Pending","Suspending","Suspend","Suspended","Refund","Reject","Cancelled","refundStste","promoTotal","setPromoTotal","setRefundMsg","activeId","setActiveId","isShow","setIsShow","cloundDetail","setCloundDetail","hostDetail","setHostDetail","endDayCount","Math","floor","due_time","Date","now","hostPromoCode","setHostPromoCode","common","setCommon","Unpaid","Active","Deleted","Failed","refundData","setRefundData","suspend_reason","refundParams","setParams","setVisible","setOrderId","money","setMoney","balance","setBalance","isEditNote","setIsEditNote","notes","setNotes","pollingStatus","setInterval","code","getHost","catch","error","renewData","setRenewData","isRenewModal","setIsRenewModal","inputVal","showId","setShowId","codeData","setCodeData","showRenewModal","i","delAllCode","isShowModal","setIsShowModal","errMsg","setErrMsg","errTime","setErrTime","infoTime","setInfoTime","infoMsg","setInfoMsg","infoEndTime","showModal","allow_refund","getRefundMsg","create_time","moment","format","getCommon","promo_code","gutter","xs","sm","md","lg","span","package","cal","cpu","memory","disk_size","bw","flow","ip","currency_prefix","first_payment_amount","currency_code","active_time","renew_amount","billing_cycle_name","confirmButtonColor","cancelButton","reject_reason","centered","style","borderRadius","overflow","maskClosable","keyboard","getContainer","padding","reason_custom","mode","showArrow","allowClear","size","width","reasons","content","rows","placeholder","isPass","num","newIds","billing_cycle","price","display","ref","input","isSame","billing_cycle_time","duration","scene","cycles","congig_options","package_id","overlay","push","discount","arr1","filter","arr","delCode","customfield","showPayModal","Charts","cputype","setcputype","iotype","setiotype","metype","setmetype","nettype","setnettype","changetype","changetype2","changetype3","changetype4","getList","getstarttime","parseInt","getTime","nowtime","timetype","start_time","parmar","xAxis","yAxis","yAxis2","yAxis3","yAxis4","getcpuchart","read_bytes","read_iops","write_bytes","write_iops","getioChart","used","getmemoryChart","in_bw","out_bw","getbwchart","option","chartDom","myChart","echarts","tooltip","show","trigger","boundaryGap","series","areaStyle","setOption","Manage","pasForm","reForm","useSearchParams","search","get","setType","setDetail","des","setDes","pasVisible","setPasVisible","reinstallVisible","setReinstallVisible","showQuit","setShowQuit","imageList","setImageList","template","setTemplate","choose","setChoose","setGroup","curList","setCurList","needPay","setNeedPay","setPrice","ssh","setSsh","pasType","setPasType","setTime","password","pasData","setPasData","setFieldsValue","getCommonConfig","getImage","data_center_id","optOs","group","handlerPas","isEscue","resetFields","createPassword","genEnCode","f1","String","fromCharCode","random","round","pas","surePassword","values","image_id","reinstallOpt","order_id","onFinishFailed","triggerNode","parentElement","power_status","port","labelAlign","toLocaleLowerCase","indexOf","required","rules","validator","_","Promise","resolve","reject","Error","template_id","ssh_key_id","compact","noStyle","QuestionCircleOutlined","end","sure","Transaction","setTotal","keywords","orderby","sort","com","setcom","setSize","isShowRefund","setIsShowRefund","setRefundParams","isSelectLoading","setIsSelectLoading","diskId","setDiskId","diskList","setDiskList","isTableLoading","setIsTableLoading","datasource","setDatasource","isDisk","setIsDisk","columns","dataIndex","render","record","cloud_name","uninDisk","expansionItem","deleteItem","EllipsisOutlined","getDiskList","count","dataSource","pagination","rowKey","description","showIcon","onDropdownVisibleChange","showDisk","Network","key","editItem","vpcColumns","setInfo","setItemModal","isModalVisible","setIsModalVisible","setTitle","ipLoading","setIpLoading","ipTotal","setIpTotal","ipList","setIpList","vpc","setVpc","vpcList","setVpcList","leave","reset_flow_date","flowList","setflowList","ipParams","setIpParams","getvpcList","temp","network","_vpc","vpc_name","elastic","vpc_id","refreshDetail","getflowList","row","security_group","Upgrade","TabPane","Tabs","plist","setPlist","ptab","setPtab","setCur","curId","setCurId","curConfig","setCurConfig","afterConfig","setAfterConfig","upgradeData","setUpgradeData","packageId","getPackageList","groupId","cal_group_id","bw_type_id","cal_group","submitUpgrade","tab","index","changePackageId","prefix","BackupSnapshot","bOrs","setBOrs","disk_id","sForm","setSForm","isSmodalVisible","setIsSmodalVisible","backTotal","setBackTotal","backParams","setBackParams","getSnapshot","getBackup","isBackTableLoading","setIsBackTableLoading","backDatasource","setBackDatasource","isSnapshot","setIsSnapshot","isBackup","setIsBackup","ellipsis","doRestoreSnapshot","deleteSnapshot","backColumns","doRestoreBackup","deleteBackup","showSmodal","Log","logList","setLogList","getLogList","scroll","x","CloudDetail","setHost","setActiveTab","setIsEscue","getDetail","getHostDetail"],"sourceRoot":""}