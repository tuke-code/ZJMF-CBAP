"use strict";(self.webpackChunkreact_member_center=self.webpackChunkreact_member_center||[]).push([[805],{71823:function(n,t,e){e.d(t,{$8:function(){return d},Bd:function(){return k},CO:function(){return z},CZ:function(){return K},D$:function(){return O},F:function(){return R},F5:function(){return m},Gl:function(){return v},I7:function(){return b},LI:function(){return S},LX:function(){return _},Lb:function(){return L},OJ:function(){return g},OV:function(){return y},Os:function(){return i},Ox:function(){return F},P4:function(){return W},PN:function(){return q},Pf:function(){return M},So:function(){return h},Td:function(){return p},YW:function(){return Z},Z1:function(){return f},_S:function(){return P},aN:function(){return D},dr:function(){return Y},dz:function(){return x},ex:function(){return s},f3:function(){return o},ho:function(){return T},iS:function(){return E},id:function(){return A},jJ:function(){return N},kg:function(){return l},lp:function(){return V},nE:function(){return j},pH:function(){return c},pi:function(){return B},rA:function(){return G},rG:function(){return w},rd:function(){return a},v8:function(){return C},vh:function(){return $},xG:function(){return J},xp:function(){return u},xx:function(){return I},zz:function(){return H}});var r=e(71584);function c(n){return r.Z.get("/product/".concat(n,"/idcsmart_cloud/data_center"))}function o(n){return r.Z.get("/product/".concat(n,"/idcsmart_cloud/bw_type"))}function u(n){return r.Z.get("/product/".concat(n.product_id,"/idcsmart_cloud/package"),{params:n})}function i(n){return r.Z.get("/product/".concat(n.product_id,"/idcsmart_cloud/system_image"),{params:n})}function a(n){return r.Z.get("/vpc",{params:n})}function s(n){return r.Z.get("/security_group",{params:n})}function d(n){return r.Z.get("/product/".concat(n,"/idcsmart_cloud/config"))}function l(n){return r.Z.get("/idcsmart_cloud/duration_price",{params:n})}function m(n){return r.Z.post("/product/".concat(n.product_id,"/config_option"),n)}function f(n){return r.Z.post("/product/settle",n)}function p(n){return r.Z.post("/promo_code/apply",n)}function h(n){return r.Z.post("/pay",n)}function Z(n){return r.Z.post("/credit",n)}function _(n){return r.Z.get("/pay/".concat(n,"/status"))}function x(n){return r.Z.get("/order/".concat(n))}function g(n){return r.Z.get("/idcsmart_cloud",{params:n})}function v(){return r.Z.get("/gateway")}function j(){return r.Z.get("/account")}function w(n){return r.Z.get("/idcsmart_cloud/".concat(n))}function y(n){return r.Z.get("/ssh_key",{params:n})}function k(n){return r.Z.get("/idcsmart_cloud/".concat(n.id,"/log"),{params:n})}function b(n){return r.Z.get("/idcsmart_cloud/".concat(n,"/disk"))}function N(n){return r.Z.get("idcsmart_cloud_disk",{params:n})}function C(n){return r.Z.put("/idcsmart_cloud_disk/".concat(n,"/umount"))}function S(n){return r.Z.put("idcsmart_cloud_disk/".concat(n.id,"/mount"),n)}function z(n){return r.Z.get("idcsmart_cloud/".concat(n.id,"/snapshot"),{params:n})}function F(n){return r.Z.post("idcsmart_cloud/".concat(n.id,"/snapshot"),n)}function I(n){return r.Z.post("idcsmart_cloud/".concat(n.id,"/snapshot/restore"),n)}function D(n){return r.Z.delete("idcsmart_cloud/".concat(n.id,"/snapshot/").concat(n.snapshot_id))}function O(n){return r.Z.get("idcsmart_cloud/".concat(n.id,"/backup"),{params:n})}function A(n){return r.Z.post("idcsmart_cloud/".concat(n.id,"/backup"),n)}function B(n){return r.Z.post("idcsmart_cloud/".concat(n.id,"/backup/restore"),n)}function P(n){return r.Z.delete("idcsmart_cloud/".concat(n.id,"/backup/").concat(n.backup_id))}function T(n){return r.Z.get("host/".concat(n))}function E(n){return r.Z.get("refund",{params:n})}function R(n){return r.Z.post("refund",n)}function Y(n){return r.Z.put("refund/".concat(n.id,"/cancel"))}function G(n){return r.Z.get("host/".concat(n.id,"/renew"),{params:n})}function J(n){return r.Z.post("host/".concat(n.id,"/renew"),n)}function M(n){return r.Z.get("/idcsmart_cloud/".concat(n.id,"/chart"),{params:n})}function $(n){return r.Z.get("/idcsmart_cloud/".concat(n.id,"/vpc"),{params:n})}function H(n){return r.Z.put("/idcsmart_cloud/".concat(n.id,"/vpc"),n)}function L(n){return r.Z.get("/idcsmart_cloud/".concat(n.id,"/flow"),{params:n})}function V(n){return r.Z.get("/refund/host/".concat(n,"/refund"))}function q(n){return r.Z.get("/idcsmart_cloud/".concat(n.id,"/package/upgrade"),{params:n})}function K(n){return r.Z.post("/idcsmart_cloud/".concat(n.id,"/package/upgrade/order"),n)}function W(n){return r.Z.put("/host/".concat(n.id,"/notes"),n)}},91993:function(n,t,e){e.d(t,{Bd:function(){return u},FD:function(){return o},Mf:function(){return l},OJ:function(){return a},Rl:function(){return c},rG:function(){return s},xA:function(){return d},xp:function(){return i}});var r=e(71584);function c(n){return r.Z.get("/idcsmart_cloud_ip",{params:n})}function o(n){return r.Z.put("/idcsmart_cloud_ip/".concat(n.id,"/mount"),n)}function u(n){return r.Z.put("/idcsmart_cloud_ip/".concat(n,"/umount"))}function i(n){return r.Z.get("/product/".concat(n.id,"/idcsmart_cloud_ip/package"),{params:n})}function a(n){return r.Z.get("/idcsmart_cloud",{params:n})}function s(n){return r.Z.get("/idcsmart_cloud/".concat(n))}function d(n){return r.Z.get("/idcsmart_cloud_ip/duration_price",{params:n})}function l(n){return r.Z.get("/idcsmart_cloud/".concat(n.id,"/ip"),{params:n})}},24779:function(n,t,e){e.d(t,{Z:function(){return o}});e(72791);var r=e(69221),c=e(80184);function o(n){var t=n.page;return(0,c.jsx)(r.Z,{total:n.total,pageSize:t.limit,showSizeChanger:!0,pageSizeOptions:n.pageSizeOptions||[10,20,30,50,100],current:t.page,showTitle:!1,onChange:function(t,e){n.changePage(t,e)},showTotal:function(n,t){return"\u663e\u793a".concat(t[0],"-").concat(t[1]," \u7684 ").concat(n)}})}},92933:function(n,t,e){e.d(t,{Z:function(){return i}});var r=e(72791),c=e(33168),o=e(21830),u=e.n(o);function i(n){var t=(0,c.$)().t,e=function(){u().fire({title:n.title?n.title:t("common.delete"),text:n.text?n.text:t("common.tip")+"\uff1f",customClass:{title:"del-tit",icon:n.icon?"warning-icon":"del-icon",text:"del-text"},icon:n.icon||"info",showCancelButton:!0,confirmButtonText:t("common.sure"),cancelButtonText:t("common.cancel")}).then((function(t){t.isConfirmed?(n.closeDialog(),n.submitDel()):t.isDismissed&&n.closeDialog()}))};return(0,r.useEffect)((function(){e()}),[n]),null}},58126:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(72791);function c(){var n=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return n.current=!0,function(){n.current=!1}})),n}},20805:function(n,t,e){e.r(t),e.d(t,{default:function(){return F}});var r=e(1413),c=e(74165),o=e(15861),u=e(29439),i=e(72791),a=e(33168),s=e(70819),d=e(72426),l=e.n(d),m=e(83734),f=e(68678),p=e(77483),h=e(93020),Z=e(45227),_=e(70478),x=e(87309),g=(e(53754),e(91993)),v=e(71823),j=e(90253),w=e(60151),y=e(92933),k=e(58126),b=e(75033),N=e(24779),C=e(80184),S=m.Z.Option,z=f.Z.TextArea;function F(){var n=(0,k.Z)(),t=p.Z.useForm(),e=(0,u.Z)(t,1)[0],d=(0,a.$)().t,f=(0,s.s0)(),F=(0,i.useState)(0),I=(0,u.Z)(F,2),D=I[0],O=I[1],A=(0,i.useState)({keywords:"",page:1,limit:20,orderby:"id",sort:"desc"}),B=(0,u.Z)(A,2),P=B[0],T=B[1],E=(0,i.useState)({}),R=(0,u.Z)(E,2),Y=R[0],G=R[1],J=(0,i.useState)(d("cloud.bas_btn2")+d("cloud.security_group")),M=(0,u.Z)(J,2),$=M[0],H=M[1],L=(0,i.useState)(!1),V=(0,u.Z)(L,2),q=V[0],K=V[1],W=(0,i.useState)(!1),X=(0,u.Z)(W,2),Q=X[0],U=X[1],nn=(0,i.useState)(!1),tn=(0,u.Z)(nn,2),en=tn[0],rn=tn[1],cn=(0,i.useState)(),on=(0,u.Z)(cn,2),un=on[0],an=on[1],sn=(0,i.useState)(!1),dn=(0,u.Z)(sn,2),ln=dn[0],mn=dn[1],fn=(0,i.useState)(),pn=(0,u.Z)(fn,2),hn=pn[0],Zn=pn[1],_n=(0,i.useState)("add"),xn=(0,u.Z)(_n,2),gn=(xn[0],xn[1]),vn=(0,i.useState)(!1),jn=(0,u.Z)(vn,2),wn=jn[0],yn=jn[1],kn=(0,i.useState)([]),bn=(0,u.Z)(kn,2),Nn=bn[0],Cn=bn[1],Sn=(0,i.useState)([]),zn=(0,u.Z)(Sn,2),Fn=zn[0],In=zn[1],Dn=(0,i.useState)({host_id:"",suspend_reason:[],type:""}),On=(0,u.Z)(Dn,2),An=On[0],Bn=On[1],Pn=[{title:d("menu.float")+"IP",dataIndex:"ip",key:"ip",ellipsis:!0,width:250},{title:d("elastic.bw"),dataIndex:"bw_size",key:"bw_size",ellipsis:!0,width:200,render:function(n,t){return(0,C.jsx)(C.Fragment,{children:0===t.bw_size?d("common.not"):t.bw_size+"Mbps"})}},{title:d("menu.cloud"),dataIndex:"cloud_name",key:"cloud_name",ellipsis:!0},{title:d("elastic.free"),dataIndex:"first_payment_amount",key:"first_payment_amount",ellipsis:!0,width:150,render:function(n,t){return un&&(0,C.jsxs)(C.Fragment,{children:[un.currency_prefix,t.first_payment_amount,"/",t.billing_cycle_name]})}},{title:d("common.manage"),dataIndex:"manage",key:"manage",width:100,render:function(n,t){return(0,C.jsx)(C.Fragment,{children:"Active"===t.status?(0,C.jsx)("div",{className:"com-opt-pop",id:"com-opt"+t.id,children:(0,C.jsx)(h.Z,{getPopupContainer:function(){return document.getElementById("com-opt"+t.id)},content:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"cloud-opt",onClick:function(){return Jn(t)},children:t.cloud_name?d("common.unmount"):d("common.mount")}),(0,C.jsx)("p",{className:"cloud-opt",onClick:function(){return Yn(t)},children:d("common.delete")})]}),placement:"topRight",children:(0,C.jsx)("p",{className:"opt-icon",children:(0,C.jsx)(b.Z,{})})})}):null})}}];(0,i.useEffect)((function(){En(),Tn(),Rn()}),[]);var Tn=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,K(!0),t.next=4,g.Rl(P);case 4:e=t.sent,n.current&&(Cn(e.data.data.list),O(e.data.data.count),K(!1)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),(0,w.vC)(t.t0.data.msg,"error"),K(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),En=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,j.ef)();case 3:e=t.sent,n.current&&an(e.data.data),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Rn=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(){var e,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.OJ({page:1,limit:1e3});case 3:e=t.sent,r=e.data.data.list.filter((function(n){return"Active"===n.status})),n.current&&In(r),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),Yn=function(n){Bn((0,r.Z)((0,r.Z)({},An),{},{host_id:n.id})),gn("delete"),Gn(n.id)},Gn=function(){var n=(0,o.Z)((0,c.Z)().mark((function n(t){var e,r,o;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.lp(t);case 3:if(!(e=n.sent).data.data.refund||"Suspending"!==e.data.data.refund.status){n.next=6;break}return n.abrupt("return",(0,w.vC)(d("elastic.tip5"),"warning"));case 6:return n.next=8,v.iS({host_id:t});case 8:200===(r=n.sent).data.status&&(o=r.data.data,Zn(o),1===o.allow_refund?mn(!0):(0,w.vC)(d("common.tip1"),"warning")),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),(0,w.vC)(n.t0.data.msg,"error");case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(t){return n.apply(this,arguments)}}(),Jn=function(n){G(n),n.cloud_name?(G(n),H(d("common.unmount")+d("network.elastic_ip")),gn("unmounut"),rn(!0)):(yn(!0),e.setFieldsValue({id:n.id,host_id:""}))},Mn=function(){var n=(0,o.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Bd(Y.id);case 3:200===n.sent.data.status&&((0,w.vC)(d("common.unmount")+d("common.success"),"success"),Tn()),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),(0,w.vC)(n.t0.data.msg,"error");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),$n=function(){yn(!1),e.resetFields()},Hn=function(){var n=(0,o.Z)((0,c.Z)().mark((function n(t){var e,r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,U(!0),t.id,e=t.host_id,r={id:Y.id,host_id:e},n.next=6,g.FD(r);case 6:200===n.sent.data.status&&((0,w.vC)(d("common.mount")+d("common.success"),"success"),Tn(),$n()),U(!1),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),U(!1),(0,w.vC)(n.t0.data.msg,"error");case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(t){return n.apply(this,arguments)}}();return(0,C.jsxs)("div",{className:"elastic-ip",children:[(0,C.jsxs)("div",{className:"top",children:[(0,C.jsx)("span",{className:"tip",children:d("elastic.tip")}),(0,C.jsx)("div",{className:"create",onClick:function(){f("/create_elastic_ip")},children:d("common.buy")+d("network.elastic_ip")})]}),(0,C.jsx)(Z.Z,{columns:Pn,dataSource:Nn,loading:q,rowKey:function(n){return n.id},pagination:!1,className:"ip-tab"}),(0,C.jsx)(N.Z,{total:D,page:P,changePage:function(n,t){T((function(e){return e.limit=t,e.page=n,e})),Tn()}}),(0,C.jsx)(_.Z,{title:d("common.mount")+d("network.elastic_ip"),visible:wn,onCancel:$n,className:"com-modal",closable:!1,footer:!1,children:(0,C.jsxs)(p.Z,{name:"basic",form:e,labelCol:{span:3},labelAlign:"left",onFinish:Hn,autoComplete:"off",colon:!1,children:[(0,C.jsx)(p.Z.Item,{label:d("menu.cloud"),name:"host_id",rules:[{required:!0,message:d("select")+d("menu.cloud")}],children:(0,C.jsx)(m.Z,{children:Fn.map((function(n){return(0,C.jsx)(S,{value:n.id,children:n.name},n.id)}))})}),(0,C.jsxs)(p.Z.Item,{className:"f-btn",children:[(0,C.jsx)(x.Z,{className:"submit",htmlType:"submit",loading:Q,children:d("common.sure")}),(0,C.jsx)(x.Z,{className:"cancel",onClick:$n,children:d("common.cancel")})]})]})}),en&&(0,C.jsx)(y.Z,{closeDialog:function(){rn(!1)},submitDel:Mn,title:$,text:d("elastic.tip1")+d("common.unmount")+d("network.elastic_ip")+Y.ip+"\n"+d("elastic.tip2")}),un&&hn?(0,C.jsx)(_.Z,{className:"refund-modal",visible:ln,footer:null,centered:!0,closable:!1,style:{borderRadius:"10px",overflow:"auto"},maskClosable:!0,keyboard:!0,getContainer:!1,onCancel:function(){return mn(!1)},children:(0,C.jsxs)("div",{className:"modal-unopen",children:[(0,C.jsx)("div",{className:"modal-title",children:d("common.apply_refund")}),(0,C.jsxs)("div",{className:"modal-form",children:[(0,C.jsxs)("div",{className:"config-item",children:[(0,C.jsx)("div",{className:"row-l",children:d("common.product_info")}),(0,C.jsxs)("div",{className:"row-r",children:[(0,C.jsxs)("div",{className:"item",children:[(0,C.jsxs)("p",{className:"l-tit",children:[d("common.product_config"),"\uff1a"]}),(0,C.jsx)("div",{className:"r-text"})]}),(0,C.jsxs)("div",{className:"item",children:[(0,C.jsxs)("p",{className:"l-tit",children:[d("common.buy_time"),"\uff1a"]}),(0,C.jsx)("div",{className:"r-text",children:(0,C.jsx)("p",{children:l()(1e3*hn.host.create_time).format("YYYY-MM-DD HH:mm")})})]}),(0,C.jsxs)("div",{className:"item",children:[(0,C.jsxs)("p",{className:"l-tit",children:[d("common.buy_money"),"\uff1a"]}),(0,C.jsx)("div",{className:"r-text",children:(0,C.jsxs)("p",{children:[un.currency_prefix,hn.host.first_payment_amount,un.currency_code]})})]})]})]}),(0,C.jsxs)("div",{className:"config-item",children:[(0,C.jsx)("div",{className:"row-l",children:d("common.stop_reason")}),(0,C.jsx)("div",{className:"row-r",children:1!==hn.reason_custom?(0,C.jsx)(m.Z,{mode:"multiple",showArrow:!0,allowClear:!0,size:"large",style:{width:"100%"},onChange:function(n){Bn((0,r.Z)((0,r.Z)({},An),{},{suspend_reason:n}))},children:hn.reasons.map((function(n){return(0,C.jsx)(S,{value:n.id,children:n.content},n.id)}))}):(0,C.jsx)(z,{onChange:function(n){Bn((0,r.Z)((0,r.Z)({},An),{},{suspend_reason:n.target.value}))},rows:4,placeholder:"\u8bf7\u8f93\u5165\u505c\u7528\u539f\u56e0"})})]}),(0,C.jsxs)("div",{className:"config-item",children:[(0,C.jsx)("div",{className:"row-l row-center",children:d("common.stop_time")}),(0,C.jsx)("div",{className:"row-r",children:(0,C.jsxs)(m.Z,{size:"large",style:{width:"100%"},onChange:function(n){Bn((0,r.Z)((0,r.Z)({},An),{},{type:n}))},children:[(0,C.jsx)(S,{value:"Expire",children:d("common.expire")}),(0,C.jsx)(S,{value:"Immediate",children:d("common.immediate")})]})})]}),(0,C.jsxs)("div",{className:"config-item money",children:[(0,C.jsx)("div",{className:"row-l",children:d("common.refund_amount")}),(0,C.jsx)("div",{className:"row-right",children:"Immediate"===An.type?un.currency_prefix+hn.host.amount+un.currency_code:un.currency_prefix+"0"+un.currency_code})]})]}),(0,C.jsxs)("div",{className:"modal-footer",children:[(0,C.jsx)(x.Z,{className:"sure",onClick:function(){0!==An.suspend_reason.length?An.type?v.F(An).then((function(n){200===n.data.status&&((0,w.vC)("\u7533\u8bf7\u505c\u7528\u6210\u529f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u5ba1\u6838","success"),mn(!1))})):(0,w.vC)(d("select")+d("common.stop_time"),"error"):(0,w.vC)((1===hn.reason_custom?d("input"):d("select"))+d("common.stop_reason"),"error")},children:d("common.sure_refund")}),(0,C.jsx)(x.Z,{className:"cancel",onClick:function(){return mn(!1)},children:d("common.cancel")})]})]})}):null]})}},53754:function(){}}]);
//# sourceMappingURL=805.c59e83e1.chunk.js.map