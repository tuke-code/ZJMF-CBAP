"use strict";(self.webpackChunkreact_member_center=self.webpackChunkreact_member_center||[]).push([[715],{58592:function(t,e,n){n.d(e,{$0:function(){return m},TA:function(){return h},Yo:function(){return x},cy:function(){return o},dO:function(){return s},es:function(){return g},ex:function(){return a},iE:function(){return l},oe:function(){return Z},qX:function(){return i},qk:function(){return p},rd:function(){return r},re:function(){return d},zB:function(){return f},zG:function(){return u}});var c=n(71584);function r(t){return c.Z.get("/vpc",{params:t})}function o(t){return c.Z.post("/vpc",t)}function u(t){return c.Z.put("/vpc/".concat(t.id),t)}function i(t){return c.Z.delete("/vpc/".concat(t))}function a(t){return c.Z.get("/security_group",{params:t})}function s(t,e){return"add"===t?c.Z.post("/security_group",e):"update"===t?c.Z.put("/security_group/".concat(e.id),e):void 0}function l(t){return c.Z.delete("/security_group/".concat(t))}function d(t){return c.Z.get("/security_group/".concat(t.id,"/rule"),{params:t})}function m(t,e){return"add"===t?c.Z.post("/security_group/".concat(e.id,"/rule"),e):"update"===t?c.Z.put("/security_group/rule/".concat(e.id),e):void 0}function p(t){return c.Z.delete("/security_group/rule/".concat(t))}function f(t){return c.Z.post("/security_group/".concat(t.id,"/rule/batch"),t)}function g(t){return c.Z.get("/security_group/".concat(t.id,"/host"),{params:t})}function h(t){return c.Z.post("/security_group/".concat(t.id,"/host/").concat(t.host_id),t)}function Z(t){return c.Z.delete("/security_group/".concat(t.id,"/host/").concat(t.host_id))}function x(){return c.Z.get("/idcsmart_cloud/all")}},24779:function(t,e,n){n.d(e,{Z:function(){return o}});n(72791);var c=n(69221),r=n(80184);function o(t){var e=t.page;return(0,r.jsx)(c.Z,{total:t.total,pageSize:e.limit,showSizeChanger:!0,pageSizeOptions:t.pageSizeOptions||[10,20,30,50,100],current:e.page,showTitle:!1,onChange:function(e,n){t.changePage(e,n)},showTotal:function(t,e){return"\u663e\u793a".concat(e[0],"-").concat(e[1]," \u7684 ").concat(t)}})}},92933:function(t,e,n){n.d(e,{Z:function(){return i}});var c=n(72791),r=n(33168),o=n(21830),u=n.n(o);function i(t){var e=(0,r.$)().t,n=function(){u().fire({title:t.title?t.title:e("common.delete"),text:t.text?t.text:e("common.tip")+"\uff1f",customClass:{title:"del-tit",icon:t.icon?"warning-icon":"del-icon",text:"del-text"},icon:t.icon||"info",showCancelButton:!0,confirmButtonText:e("common.sure"),cancelButtonText:e("common.cancel")}).then((function(e){e.isConfirmed?(t.closeDialog(),t.submitDel()):e.isDismissed&&t.closeDialog()}))};return(0,c.useEffect)((function(){n()}),[t]),null}},64715:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var c=n(74165),r=n(15861),o=n(29439),u=n(72791),i=n(33168),a=n(70819),s=n(72426),l=n.n(s),d=n(68678),m=n(77483),p=n(93020),f=n(50419),g=n(45227),h=n(70478),Z=n(87309),x=n(58592),_=n(60151),v=n(92933),b=n(75033),y=n(24779),j=n(80184),k=d.Z.TextArea;function w(){var t=m.Z.useForm(),e=(0,o.Z)(t,1)[0],n=(0,i.$)().t,s=(0,a.s0)(),w=(0,u.useState)(0),C=(0,o.Z)(w,2),S=C[0],N=C[1],I=(0,u.useState)({keywords:"",page:1,limit:20,orderby:"id",sort:"desc"}),D=(0,o.Z)(I,2),F=D[0],T=D[1],z=(0,u.useState)({}),B=(0,o.Z)(z,2),E=B[0],Y=B[1],O=(0,u.useState)(n("cloud.bas_btn2")+n("cloud.security_group")),P=(0,o.Z)(O,2),q=P[0],A=P[1],$=(0,u.useState)(!1),H=(0,o.Z)($,2),M=H[0],G=H[1],K=(0,u.useState)(!1),R=(0,o.Z)(K,2),V=R[0],X=R[1],J=(0,u.useState)(!1),L=(0,o.Z)(J,2),Q=L[0],U=L[1],W=(0,u.useState)(!1),tt=(0,o.Z)(W,2),et=tt[0],nt=tt[1],ct=(0,u.useState)("add"),rt=(0,o.Z)(ct,2),ot=rt[0],ut=rt[1],it=(0,u.useState)([]),at=(0,o.Z)(it,2),st=at[0],lt=at[1],dt=[{title:n("cloud.bas_columns_title1"),dataIndex:"name",key:"name",ellipsis:!0,width:250,render:function(t,e){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{onClick:function(){return mt(e)},className:"link",children:e.name})})}},{title:n("menu.cloud"),dataIndex:"host_num",key:"host_num",ellipsis:!0,width:100},{title:n("network.rules"),dataIndex:"rule_num",key:"rule_num",ellipsis:!0},{title:n("common.create_time"),dataIndex:"create_time",key:"num",ellipsis:!0,width:200,render:function(t){return(0,j.jsx)(j.Fragment,{children:l()(1e3*t).format("YYYY-MM-DD HH:mm")})}},{title:n("common.manage"),dataIndex:"manage",key:"manage",width:100,render:function(t,e){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"com-opt-pop",id:"com-opt"+e.id,children:(0,j.jsx)(p.Z,{getPopupContainer:function(){return document.getElementById("com-opt"+e.id)},content:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{className:"cloud-opt",onClick:function(){return ht(e)},children:n("common.edit")}),(0,j.jsx)("p",{className:"cloud-opt",onClick:function(){return ft(e)},children:n("common.delete")})]}),placement:"topRight",children:(0,j.jsx)("p",{className:"opt-icon",children:(0,j.jsx)(b.Z,{})})})})})}}],mt=function(t){s("/group_rules?id=".concat(t.id))},pt=function(){var t=(0,r.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,G(!0),t.next=4,x.ex(F);case 4:e=t.sent,lt(e.data.data.list),N(e.data.data.count),G(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),(0,_.vC)(t.t0.data.msg,"error"),G(!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),ft=function(t){Y(t),U(!0)},gt=function(){var t=(0,r.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.iE(E.id);case 3:200===(e=t.sent).data.status&&((0,_.vC)(e.data.msg,"success"),pt()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),f.ZP.error(t.t0.data.msg);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),ht=function(t){A(n("common.edit")+n("cloud.security_group")),ut("update"),nt(!0),Y(t),e.setFieldsValue({name:t.name,description:t.description})},Zt=function(){nt(!1),e.resetFields()},xt=function(){var t=(0,r.Z)((0,c.Z)().mark((function t(e){var n,r,o,u;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,X(!0),n=e.name,r=e.description,o={id:E.id,name:n,description:r},"add"===ot&&delete o.id,t.next=7,x.dO(ot,o);case 7:u=t.sent,(0,_.vC)(u.data.msg,"success"),pt(),X(!1),Zt(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),X(!1),(0,_.vC)(t.t0.data.msg,"error");case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){pt()}),[]),(0,j.jsxs)("div",{className:"security_group",children:[(0,j.jsxs)("div",{className:"top",children:[(0,j.jsx)("span",{className:"tip"}),(0,j.jsxs)("div",{className:"com-add-btn",onClick:function(){ut("add"),A(n("cloud.bas_btn2")+n("cloud.security_group")),nt(!0)},children:[n("cloud.bas_btn2"),n("cloud.security_group")]})]}),(0,j.jsx)(g.Z,{columns:dt,dataSource:st,loading:M,rowKey:function(t){return t.id},pagination:!1,className:"cloud-tab"}),(0,j.jsx)(y.Z,{total:S,page:F,changePage:function(t,e){T((function(n){return n.limit=e,n.page=t,n})),pt()}}),(0,j.jsx)(h.Z,{title:q,visible:et,onCancel:Zt,className:"com-modal",closable:!1,footer:!1,children:(0,j.jsxs)(m.Z,{name:"basic",form:e,labelCol:{span:3},labelAlign:"left",onFinish:xt,autoComplete:"off",colon:!1,children:[(0,j.jsx)(m.Z.Item,{label:n("cloud.bas_columns_title1"),name:"name",rules:[{required:!0,message:n("input")+n("cloud.bas_columns_title1")}],children:(0,j.jsx)(d.Z,{})}),(0,j.jsx)(m.Z.Item,{label:n("common.description"),name:"description",children:(0,j.jsx)(k,{rows:4})}),(0,j.jsxs)(m.Z.Item,{className:"f-btn",children:[(0,j.jsx)(Z.Z,{className:"submit",htmlType:"submit",loading:V,children:n("common.sure")}),(0,j.jsx)(Z.Z,{className:"cancel",onClick:Zt,children:n("common.cancel")})]})]})}),Q&&(0,j.jsx)(v.Z,{closeDialog:function(){U(!1)},submitDel:gt,text:n("common.tip")+E.name+"\uff1f"})]})}}}]);
//# sourceMappingURL=715.a38b5c9b.chunk.js.map