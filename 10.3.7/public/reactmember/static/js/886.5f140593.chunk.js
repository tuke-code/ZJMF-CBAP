"use strict";(self.webpackChunkreact_member_center=self.webpackChunkreact_member_center||[]).push([[886],{58592:function(t,e,n){n.d(e,{$0:function(){return m},TA:function(){return h},Yo:function(){return v},cy:function(){return o},dO:function(){return a},es:function(){return x},ex:function(){return s},iE:function(){return l},oe:function(){return Z},qX:function(){return u},qk:function(){return p},rd:function(){return r},re:function(){return d},zB:function(){return f},zG:function(){return i}});var c=n(71584);function r(t){return c.Z.get("/vpc",{params:t})}function o(t){return c.Z.post("/vpc",t)}function i(t){return c.Z.put("/vpc/".concat(t.id),t)}function u(t){return c.Z.delete("/vpc/".concat(t))}function s(t){return c.Z.get("/security_group",{params:t})}function a(t,e){return"add"===t?c.Z.post("/security_group",e):"update"===t?c.Z.put("/security_group/".concat(e.id),e):void 0}function l(t){return c.Z.delete("/security_group/".concat(t))}function d(t){return c.Z.get("/security_group/".concat(t.id,"/rule"),{params:t})}function m(t,e){return"add"===t?c.Z.post("/security_group/".concat(e.id,"/rule"),e):"update"===t?c.Z.put("/security_group/rule/".concat(e.id),e):void 0}function p(t){return c.Z.delete("/security_group/rule/".concat(t))}function f(t){return c.Z.post("/security_group/".concat(t.id,"/rule/batch"),t)}function x(t){return c.Z.get("/security_group/".concat(t.id,"/host"),{params:t})}function h(t){return c.Z.post("/security_group/".concat(t.id,"/host/").concat(t.host_id),t)}function Z(t){return c.Z.delete("/security_group/".concat(t.id,"/host/").concat(t.host_id))}function v(){return c.Z.get("/idcsmart_cloud/all")}},92933:function(t,e,n){n.d(e,{Z:function(){return u}});var c=n(72791),r=n(33168),o=n(21830),i=n.n(o);function u(t){var e=(0,r.$)().t,n=function(){i().fire({title:t.title?t.title:e("common.delete"),text:t.text?t.text:e("common.tip")+"\uff1f",customClass:{title:"del-tit",icon:t.icon?"warning-icon":"del-icon",text:"del-text"},icon:t.icon||"info",showCancelButton:!0,confirmButtonText:e("common.sure"),cancelButtonText:e("common.cancel")}).then((function(e){e.isConfirmed?(t.closeDialog(),t.submitDel()):e.isDismissed&&t.closeDialog()}))};return(0,c.useEffect)((function(){n()}),[t]),null}},79886:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var c=n(74165),r=n(15861),o=n(29439),i=n(72791),u=n(33168),s=n(70819),a=n(77483),l=n(93020),d=n(50419),m=n(45227),p=n(70478),f=n(68678),x=n(87309),h=(n(39086),n(58592)),Z=n(60151),v=n(92933),g=n(75033),_=n(80184);function b(){var t=(0,u.$)().t,e=(0,s.s0)(),b=a.Z.useForm(),y=(0,o.Z)(b,1)[0],j=(0,i.useState)({keywords:"",orderby:"id",sort:"desc"}),k=(0,o.Z)(j,2),C=k[0],N=(k[1],(0,i.useState)({})),w=(0,o.Z)(N,2),S=w[0],I=w[1],D=(0,i.useState)(!1),F=(0,o.Z)(D,2),B=F[0],P=F[1],q=(0,i.useState)(!1),E=(0,o.Z)(q,2),T=E[0],V=E[1],z=(0,i.useState)([]),$=(0,o.Z)(z,2),A=$[0],G=$[1],X=(0,i.useState)(!1),K=(0,o.Z)(X,2),O=K[0],R=K[1],Y=(0,i.useState)(!1),H=(0,o.Z)(Y,2),J=H[0],L=H[1],M=[{title:"VPC"+t("cloud.bas_columns_title1"),dataIndex:"name",key:"name",ellipsis:!0},{title:t("cloud.network"),dataIndex:"ip",key:"ip",ellipsis:!0},{title:t("cloud.cloud_num"),dataIndex:"host_num",key:"host_num",ellipsis:!0},{title:t("support.action"),dataIndex:"manage",key:"manage",width:150,render:function(e,n){return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"com-opt-pop",id:"com-opt"+n.id,children:(0,_.jsx)(l.Z,{getPopupContainer:function(){return document.getElementById("com-opt"+n.id)},content:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("p",{className:"cloud-opt",onClick:function(){return W(n)},children:t("common.edit")}),(0,_.jsx)("p",{className:"cloud-opt",onClick:function(){return U(n)},children:t("common.delete")})]}),placement:"topRight",children:(0,_.jsx)("p",{className:"opt-icon",children:(0,_.jsx)(g.Z,{})})})})})}}],Q=function(){var t=(0,r.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,P(!0),t.next=4,h.rd(C);case 4:e=t.sent,G(e.data.data.list),P(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),(0,Z.vC)(t.t0.data.msg,"error"),P(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),U=function(t){I(t),V(!0)},W=function(t){R(!0),I(t),y.setFieldsValue({name:t.name,description:t.description})},tt=function(){R(!1),y.resetFields()},et=function(){var t=(0,r.Z)((0,c.Z)().mark((function t(e){var n,r,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(!0),n=e.name,e.description,r={id:S.id,name:n},t.next=6,h.zG(r);case 6:200===(o=t.sent).data.status&&((0,Z.vC)(o.data.msg,"success"),Q(),L(!1),tt()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),L(!1),(0,Z.vC)(t.t0.data.msg,"error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),nt=function(){var t=(0,r.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.qX(S.id);case 3:200===(e=t.sent).data.status&&((0,Z.vC)(e.data.msg,"success"),Q()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),d.ZP.error(t.t0.data.msg);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){Q()}),[]),(0,_.jsxs)("div",{className:"vpc-table",children:[(0,_.jsxs)("div",{className:"top",children:[(0,_.jsx)("span",{className:"tip",children:t("network.tip")}),(0,_.jsxs)("div",{className:"create",onClick:function(){e("/create_vpc")},children:[t("cloud.bas_btn2"),"VPC"]})]}),(0,_.jsx)("div",{className:"item",children:A.map((function(t,e){return t.vpc.length>0&&(0,_.jsxs)("div",{className:"vpc-box",children:[(0,_.jsxs)("div",{className:"area",children:[(0,_.jsx)("img",{src:n(85995)("./".concat(t.country_code,".png")),alt:""}),(0,_.jsxs)("span",{className:"text",children:[t.country,"\xa0",t.city,"\xa0",t.area]})]}),(0,_.jsx)(m.Z,{columns:M,dataSource:t.vpc,loading:B,rowKey:function(t){return t.id},pagination:!1,className:"cloud-tab"})]},t.id)}))}),(0,_.jsx)(p.Z,{title:t("common.edit")+"VPC",visible:O,onCancel:tt,className:"com-modal",closable:!1,footer:!1,children:(0,_.jsxs)(a.Z,{name:"basic",form:y,labelCol:{span:3},labelAlign:"left",onFinish:et,autoComplete:"off",colon:!1,children:[(0,_.jsx)(a.Z.Item,{label:t("cloud.bas_columns_title1"),name:"name",rules:[{required:!0,message:t("input")+t("cloud.bas_columns_title1")}],children:(0,_.jsx)(f.Z,{})}),(0,_.jsxs)(a.Z.Item,{className:"f-btn",children:[(0,_.jsx)(x.Z,{className:"submit",htmlType:"submit",loading:J,children:t("common.sure")}),(0,_.jsx)(x.Z,{className:"cancel",onClick:tt,children:t("common.cancel")})]})]})}),T&&(0,_.jsx)(v.Z,{closeDialog:function(){V(!1)},submitDel:nt,text:t("common.tip")+S.name+"\uff1f"})]})}},39086:function(){}}]);
//# sourceMappingURL=886.5f140593.chunk.js.map