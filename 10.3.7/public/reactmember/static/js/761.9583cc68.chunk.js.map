{"version":3,"file":"static/js/761.9583cc68.chunk.js","mappings":"+vCAIO,SAASA,EAAeC,GAC7B,OAAOC,EAAAA,EAAAA,IAAA,mBAAwBD,EAAxB,gCAGF,SAASE,EAAWF,GACzB,OAAOC,EAAAA,EAAAA,IAAA,mBAAwBD,EAAxB,4BAGF,SAASG,EAAYC,GAC1B,OAAOH,EAAAA,EAAAA,IAAA,mBAAwBG,EAAOC,WAA/B,2BAAoE,CACzED,OAAAA,IAIG,SAASE,EAAWF,GACzB,OAAOH,EAAAA,EAAAA,IAAA,mBACOG,EAAOC,WADd,gCAEL,CAAED,OAAAA,IAIC,SAASG,EAAQH,GACtB,OAAOH,EAAAA,EAAAA,IAAA,OAAoB,CAAEG,OAAAA,IAGxB,SAASI,EAAUJ,GACxB,OAAOH,EAAAA,EAAAA,IAAA,kBAA+B,CAAEG,OAAAA,IAGnC,SAASK,EAAYT,GAC1B,OAAOC,EAAAA,EAAAA,IAAA,mBAAwBD,EAAxB,2BAGF,SAASU,EAAmBN,GACjC,OAAOH,EAAAA,EAAAA,IAAA,iCAA8C,CAAEG,OAAAA,IAGlD,SAASO,EAAaP,GAC3B,OAAOH,EAAAA,EAAAA,KAAA,mBAAyBG,EAAOC,WAAhC,kBAA4DD,GAI9D,SAASQ,EAAeR,GAC7B,OAAOH,EAAAA,EAAAA,KAAA,kBAAgCG,GAIlC,SAASS,EAAcT,GAC5B,OAAOH,EAAAA,EAAAA,KAAA,oBAAkCG,GAIpC,SAASU,EAAWV,GACzB,OAAOH,EAAAA,EAAAA,KAAA,OAAqBG,GAGvB,SAASW,EAAWX,GACzB,OAAOH,EAAAA,EAAAA,KAAA,UAAwBG,GAG1B,SAASY,EAAchB,GAC5B,OAAOC,EAAAA,EAAAA,IAAA,eAAoBD,EAApB,YAIF,SAASiB,EAAgBjB,GAC9B,OAAOC,EAAAA,EAAAA,IAAA,iBAAsBD,IAGxB,SAASkB,EAAcd,GAC5B,OAAOH,EAAAA,EAAAA,IAAA,kBAA+B,CAAEG,OAAAA,IAGnC,SAASe,IACd,OAAOlB,EAAAA,EAAAA,IAAA,YAIF,SAASmB,IACd,OAAOnB,EAAAA,EAAAA,IAAA,YAIF,SAASoB,EAAgBrB,GAC9B,OAAOC,EAAAA,EAAAA,IAAA,0BAA+BD,IAGjC,SAASsB,EAAWlB,GACzB,OAAOH,EAAAA,EAAAA,IAAA,WAAwB,CAAEG,OAAAA,IAG5B,SAASmB,EAAQnB,GACtB,OAAOH,EAAAA,EAAAA,IAAA,0BAA+BG,EAAOJ,GAAtC,QAAgD,CAAEI,OAAAA,IAIpD,SAASoB,EAAaxB,GAC3B,OAAOC,EAAAA,EAAAA,IAAA,0BAA+BD,EAA/B,UAIF,SAASyB,EAASrB,GACvB,OAAOH,EAAAA,EAAAA,IAAA,sBAAmC,CAAEG,OAAAA,IAIvC,SAASsB,EAAQ1B,GACtB,OAAOC,EAAAA,EAAAA,IAAA,+BAAoCD,EAApC,YASF,SAAS2B,EAAOvB,GACrB,OAAOH,EAAAA,EAAAA,IAAA,8BAAmCG,EAAOJ,GAA1C,UAAsDI,GAUxD,SAASwB,EAAUxB,GACxB,OAAOH,EAAAA,EAAAA,IAAA,yBAA8BG,EAAOJ,GAArC,aAAoD,CAAEI,OAAAA,IAGxD,SAASyB,EAAgBzB,GAC9B,OAAOH,EAAAA,EAAAA,KAAA,yBAA+BG,EAAOJ,GAAtC,aAAqDI,GAGvD,SAAS0B,EAAiB1B,GAC/B,OAAOH,EAAAA,EAAAA,KAAA,yBAA+BG,EAAOJ,GAAtC,qBAA6DI,GAG/D,SAAS2B,EAAa3B,GAC3B,OAAOH,EAAAA,EAAAA,OAAA,yBAAiCG,EAAOJ,GAAxC,qBAAuDI,EAAO4B,cAIhE,SAASC,EAAQ7B,GACtB,OAAOH,EAAAA,EAAAA,IAAA,yBAA8BG,EAAOJ,GAArC,WAAkD,CAAEI,OAAAA,IAItD,SAAS8B,EAAc9B,GAC5B,OAAOH,EAAAA,EAAAA,KAAA,yBAA+BG,EAAOJ,GAAtC,WAAmDI,GAGrD,SAAS+B,EAAe/B,GAC7B,OAAOH,EAAAA,EAAAA,KAAA,yBAA+BG,EAAOJ,GAAtC,mBAA2DI,GAG7D,SAASgC,EAAWhC,GACzB,OAAOH,EAAAA,EAAAA,OAAA,yBAAiCG,EAAOJ,GAAxC,mBAAqDI,EAAOiC,YAI9D,SAASC,EAAMtC,GACpB,OAAOC,EAAAA,EAAAA,IAAA,eAAoBD,IAItB,SAASuC,EAAQnC,GACtB,OAAOH,EAAAA,EAAAA,IAAA,SAAsB,CAAEG,OAAAA,IAI1B,SAASoC,EAAYpC,GAC1B,OAAOH,EAAAA,EAAAA,KAAA,SAAuBG,GAIzB,SAASqC,EAAYrC,GAC1B,OAAOH,EAAAA,EAAAA,IAAA,iBAAsBG,EAAOJ,GAA7B,YAIF,SAAS0C,EAAOtC,GACrB,OAAOH,EAAAA,EAAAA,IAAA,eAAoBG,EAAOJ,GAA3B,UAAuC,CAAEI,OAAAA,IAI3C,SAASuC,EAAQvC,GACtB,OAAOH,EAAAA,EAAAA,KAAA,eAAqBG,EAAOJ,GAA5B,UAAwCI,GAS1C,SAASwC,EAAWxC,GACzB,OAAOH,EAAAA,EAAAA,IAAA,0BAA+BG,EAAOJ,GAAtC,UAAkD,CAAEI,OAAAA,IAGtD,SAASyC,EAASzC,GACvB,OAAOH,EAAAA,EAAAA,IAAA,0BAA+BG,EAAOJ,GAAtC,QAAgD,CAAEI,OAAAA,IAGpD,SAAS0C,EAAW1C,GACzB,OAAOH,EAAAA,EAAAA,IAAA,0BAA+BG,EAAOJ,GAAtC,QAAgDI,GAGlD,SAAS2C,EAAU3C,GACxB,OAAOH,EAAAA,EAAAA,IAAA,0BAA+BG,EAAOJ,GAAtC,SAAiD,CAAEI,OAAAA,IAIrD,SAAS4C,EAAWhD,GACzB,OAAOC,EAAAA,EAAAA,IAAA,uBAA4BD,EAA5B,YAIF,SAASiD,EAAiB7C,GAC/B,OAAOH,EAAAA,EAAAA,IAAA,0BAA+BG,EAAOJ,GAAtC,oBAA4D,CAAEI,OAAAA,IAGhE,SAAS8C,EAAiB9C,GAC/B,OAAOH,EAAAA,EAAAA,KAAA,0BAAgCG,EAAOJ,GAAvC,0BAAmEI,GAIrE,SAAS+C,EAAa/C,GAC3B,OAAOH,EAAAA,EAAAA,IAAA,gBAAqBG,EAAOJ,GAA5B,UAAwCI,K,8OCpO1C,SAASgD,EAAWhD,GACzB,OAAOH,EAAAA,EAAAA,IAAA,qBAAkC,CAAEG,OAAAA,IAGtC,SAASiD,EAAYjD,GAC1B,OAAOH,EAAAA,EAAAA,IAAA,6BAAkCG,EAAOJ,GAAzC,UAAqDI,GAGvD,SAASkD,EAActD,GAC5B,OAAOC,EAAAA,EAAAA,IAAA,6BAAkCD,EAAlC,YAOF,SAASG,EAAYC,GAC1B,OAAOH,EAAAA,EAAAA,IAAA,mBAAwBG,EAAOJ,GAA/B,8BAA+D,CAAEI,OAAAA,IAGnE,SAASc,EAAcd,GAC5B,OAAOH,EAAAA,EAAAA,IAAA,kBAA+B,CAAEG,OAAAA,IAGnC,SAASiB,EAAgBrB,GAC9B,OAAOC,EAAAA,EAAAA,IAAA,0BAA+BD,IAGjC,SAASuD,EAAYnD,GAC1B,OAAOH,EAAAA,EAAAA,IAAA,oCAAiD,CAAEG,OAAAA,IAIrD,SAASoD,EAAYpD,GAC1B,OAAOH,EAAAA,EAAAA,IAAA,0BAA+BG,EAAOJ,GAAtC,OAA+C,CAAEI,OAAAA,M,oNC5BlDqD,EAAWC,EAAAA,EAAAA,OACJ,SAASC,EAAUC,GAChC,IAAQC,GAAMC,EAAAA,EAAAA,KAAND,EACFE,GAAWC,EAAAA,EAAAA,MAEjB,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAEA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEA,GAAwBJ,EAAAA,EAAAA,UAAS,IAAjC,eAAOK,EAAP,KAAaC,EAAb,KAEA,GAA4CN,EAAAA,EAAAA,WAAS,GAArD,eAAOO,EAAP,KAAuBC,EAAvB,KAEA,GAA8BR,EAAAA,EAAAA,UAAS,IAAvC,eAAOS,EAAP,KAAgBC,EAAhB,KAEA,GAA8BV,EAAAA,EAAAA,UAAS,IAAvC,eAAOW,EAAP,KAAgBC,EAAhB,KAEA,GAAkCZ,EAAAA,EAAAA,WAAS,GAA3C,eAAOa,EAAP,KAAkBC,EAAlB,KACA,GAA8Bd,EAAAA,EAAAA,WAAS,GAAvC,eAAOe,EAAP,KAAgBC,EAAhB,KAGMhE,EAAc,yCAAG,kHAEDiE,EAAAA,GAAqBtB,EAAMuB,SAF1B,OAEbC,EAFa,OAGnBjB,EAAeiB,EAAIC,KAAKA,KAAKC,OAHV,gDAKnBC,EAAAA,GAAAA,MAAc,KAAMF,KAAKG,KALN,yDAAH,qDASdC,EAAO,yCAAG,kHAEMP,EAAAA,KAFN,OAENE,EAFM,OAGZb,EAAQa,EAAIC,KAAKA,MAHL,gDAKZE,EAAAA,GAAAA,MAAc,KAAMF,KAAKG,KALb,yDAAH,qDASPE,EAAS,yCAAG,kHAEIR,EAAAA,KAFJ,OAERE,EAFQ,OAGdT,EAAWS,EAAIC,KAAKA,KAAKM,MACzBtB,EAAUe,EAAIC,KAAKA,KAAKM,KAAK,GAAGC,MAEhCC,EAAQT,EAAIC,KAAKA,KAAKM,KAAK,GAAGC,MANhB,gDAQdE,QAAQC,IAAR,MACAR,EAAAA,GAAAA,MAAc,KAAMF,KAAKG,KATX,yDAAH,qDAaTK,EAAO,yCAAG,WAAOD,GAAP,8FAENxF,EAAS,CACb4F,QAASJ,EACT5F,GAAI4D,EAAMuB,SAJA,SAOMD,EAAAA,GAAgB9E,GAPtB,OAONgF,EAPM,OAQZP,EAAWO,EAAIC,KAAKA,KAAKY,MARb,yGAAH,sDAaPC,EAAY,yCAAG,WAAOC,EAAGnG,GAAV,iFACnB8F,QAAQC,IAAII,GACZ9B,EAAU8B,KAGRC,OAAO9B,EAAK+B,QAAQC,SAAWF,OAAOlC,EAAYqC,SAClD/B,GANiB,0CAQV,GARU,uBAWXpE,EAAS,CACb4F,QAASG,EACTnG,GAAmB,kBAAPA,GAAmBA,GAAO4D,EAAMuB,SAb7B,SAgBCD,EAAAA,GAAgB9E,GAhBjB,OAgBXgF,EAhBW,OAiBjBP,EAAWO,EAAIC,KAAKA,KAAKY,MAjBR,4GAAH,wDAsBZO,GAAQ,yCAAG,yGAEbvB,GAAW,GACL7E,EAAS,CACb4F,QAAS5B,EACTpE,GAAI4D,EAAMuB,SALC,SAOPD,EAAAA,GAAgB9E,GAPT,OAQb6E,GAAW,GARE,gDAUbA,GAAW,GAVE,yDAAH,qDAcRwB,GAAU,yCAAG,WAAON,GAAP,yFACjB1B,EAAkB0B,EAAEO,OAAOC,SACtBR,EAAEO,OAAOC,SACZ5B,GAAa,GAHE,kBAMGG,EAAAA,GAAgB,CAChClF,GAAI4D,EAAMuB,QACVyB,IAAKT,EAAEO,OAAOC,QAAU,EAAI,IARf,cAMTvB,EANS,OAUTyB,EAASzB,EAAIC,KAAKA,KAAKrF,GAVd,SAWMkF,EAAAA,GAAqB2B,GAX3B,OAWTC,EAXS,OAYTC,EAAWD,EAAOzB,KAAKA,KAAKC,MAE9Ba,EAAEO,OAAOC,QACPP,OAAO9B,EAAK+B,QAAQC,SAAWF,OAAOW,EAASR,QACjDxB,GAAa,IAEbA,GAAa,GACbmB,EAAa9B,EAAQyC,IAIvBX,EAAa9B,EAAQyC,GAvBR,kDA0Bff,QAAQC,IAAR,MA1Be,0DAAH,sDA8BViB,GAAe,WACfpD,EAAMoD,aACRpD,EAAMoD,gBAGRC,cAAcrD,EAAMsD,OACpBnD,EAAS,iBAAkB,CAAEoD,SAAS,OAExCC,EAAAA,EAAAA,YAAS,uBAAC,mGACFnG,IADE,uBAEFwE,IAFE,uBAGFC,IAHE,2CAIP,IACH,IAAM2B,QAA4BC,IAAlB1D,EAAMyD,SAAwBzD,EAAMyD,QACpD,OACE,+BAEE,SAAC,IAAD,CACEA,QAASA,GACTE,MAAO1D,EAAE,cACT2D,KAAMhB,GACNiB,SAAUT,GACVU,UAAU,YACVC,UAAU,EACVC,QACG9C,GAAa,EACZ,SAAC,IAAD,CAEE4C,UAAU,OACV1C,QAASA,EACT6C,QAASrB,GAJX,SAMG3C,EAAE,mBALC,WAON,SAAC,IAAD,CAAmBgE,QAASb,GAAcU,UAAU,SAApD,SACG7D,EAAE,kBADO,SAjBlB,UAuBE,iBAAK6D,UAAU,gBAAf,WACE,iBAAKA,UAAU,aAAf,WACE,gBAAKA,UAAU,SAAf,SAAyB7D,EAAE,qBAC3B,iBAAK6D,UAAU,SAAf,UACGhD,EAAQoD,OAAS,IAChB,SAAC,IAAD,CAAQC,MAAO3D,EAAQ4D,SAAU9B,EAAjC,SACGxB,EAAQuD,KAAI,SAACC,GACZ,OACE,SAACzE,EAAD,CAAQsE,MAAOG,EAAKtC,KAApB,SACGsC,EAAKX,OADuBW,EAAKlI,UAO5C,SAAC,IAAD,CAAUgI,SAAUvB,GAAYE,QAASnC,EAAzC,SACGX,EAAE,8BAIT,iBAAK6D,UAAU,OAAf,WACE,gBAAKA,UAAU,SAAf,SAAyB7D,EAAE,yBAC3B,iBAAK6D,UAAU,mBAAf,uBAA0CxD,EAAYqC,cAExD,iBAAKmB,UAAU,YAAf,WACE,gBAAKA,UAAU,SAAf,SAAyB7D,EAAE,uBAC3B,iBAAK6D,UAAU,iBAAf,WACE,eAAGA,UAAU,OAAb,mBAIIlD,GACK4B,OAAOlC,EAAYqC,QACpBH,OAAO9B,EAAK+B,QAAQC,SACpB,EACE,EACAF,OAAOlC,EAAYqC,QACrBH,OAAO9B,EAAK+B,QAAQC,SACpB6B,QAAQ,GACR/B,OAAOlC,EAAYqC,QAAQ4B,QAAQ,MAG1C3D,IACC,eAAGkD,UAAU,UAAb,qBAEItB,OAAO9B,EAAK+B,QAAQC,SAAWF,OAAOlC,EAAYqC,QAChDH,OAAOlC,EAAYqC,QACnBH,OAAO9B,EAAK+B,QAAQC,SACtB6B,QAAQ,YAOhBrD,IACE,gBAAK4C,UAAU,gBAAf,UAEE,gBAAKU,wBAAyB,CAAEC,OAAQzD,gB,wVCpOhDnB,EAAWC,EAAAA,EAAAA,OACb4E,EAAe,CACnBjI,WAAY,GACZkI,eAAgB,CACdC,QAAS,KACTC,MAAO,EACPC,KAAM,UACNC,WAAY,KACZC,KAAM,EACNC,kBAAmB,MAErBC,IAAK,EACLC,YAAa,CACXC,WAAY,KAGVC,EAAU,SAACC,EAAOC,GACtB,OAAQA,EAAOT,MACb,IAAK,SAEH,OADAQ,EAAMX,eAAea,eAAiBD,EAAOC,eACtCF,EACT,IAAK,OACH,OAAO,kBACFA,GADL,IAEEX,gBAAe,kBACVW,EAAMX,gBADG,IAEZG,KAAMS,EAAOE,YAGnB,IAAK,UACH,OAAO,kBACFH,GADL,IAEEX,gBAAe,kBACVW,EAAMX,gBADG,IAEZI,WAAYQ,EAAOR,eAGzB,IAAK,KACH,OAAO,kBACFO,GADL,IAEEX,gBAAe,kBACVW,EAAMX,gBADG,IAEZE,MAAOU,EAAOV,UAGpB,IAAK,OACH,OAAO,kBACFS,GADL,IAEEX,gBAAe,kBACVW,EAAMX,gBADG,IAEZK,KAAMO,EAAOP,SAGnB,IAAK,oBACH,OAAO,kBACFM,GADL,IAEEX,gBAAe,kBACVW,EAAMX,gBADG,IAEZM,kBAAmBM,EAAON,sBAGhC,IAAK,MACH,OAAO,kBAAKK,GAAZ,IAAmBJ,IAAKK,EAAOL,QAGtB,SAASQ,IACtB,IAIMvF,GAAWC,EAAAA,EAAAA,MACTH,GAAMC,EAAAA,EAAAA,KAAND,EAER,GAAwCI,EAAAA,EAAAA,UAAS,IAAjD,eAAOsF,EAAP,KAAqBC,EAArB,KAEA,GAAoCvF,EAAAA,EAAAA,WAAS,GAA7C,eAAOwF,EAAP,KAAmBC,EAAnB,KACA,GAAgCzF,EAAAA,EAAAA,UAAS,IAAzC,eAAO0F,EAAP,KAAiBC,EAAjB,KAEA,GAA0B3F,EAAAA,EAAAA,UAAS,IAAnC,eAAO4F,EAAP,KAAcC,EAAd,KACMC,GAASC,EAAAA,EAAAA,UAEf,GAA0B/F,EAAAA,EAAAA,UAAS,MAAnC,eAAOiD,EAAP,KAAc+C,EAAd,KAEA,GAAwBhG,EAAAA,EAAAA,UAAS,KAAjC,eAAOiG,EAAP,KAAaC,EAAb,KAEA,IAA4BlG,EAAAA,EAAAA,UAAS,MAArC,iBAAOmG,GAAP,MAAeC,GAAf,MACA,IAA6BC,EAAAA,EAAAA,YAAWrB,EAASX,GAAjD,iBAAOiC,GAAP,MAAiBC,GAAjB,MAEA,IAAkCvG,EAAAA,EAAAA,UAAS,IAA3C,iBAAOwG,GAAP,MAAkBC,GAAlB,MACA,IAAoBzG,EAAAA,EAAAA,UAAS,IAA7B,iBAAO0G,GAAP,MAAWC,GAAX,MACA,GAAeC,EAAAA,EAAAA,UAARC,IAAP,gBAEA,IAA0B7G,EAAAA,EAAAA,UAAS,IAAnC,iBAAO8G,GAAP,MAAcC,GAAd,MACA,IAAiB/G,EAAAA,EAAAA,UAASgH,KAAKC,MAAMC,aAAaC,QAAQ,iBAAnDC,IAAP,gBAEA,IAAkCpH,EAAAA,EAAAA,WAAS,GAA3C,iBAAOa,GAAP,MAAkBC,GAAlB,MACA,IAA8Bd,EAAAA,EAAAA,UAAS,IAAvC,iBAAOkB,GAAP,MAAgBmG,GAAhB,MACA,IAAgCrH,EAAAA,EAAAA,UAAS,MAAzC,iBAEA,IAFA,aAE8BA,EAAAA,EAAAA,UAAS,CACrCsH,MAAO,CACL,EAAG,EACH,IAAK,KAEPC,KAAM,EACNC,IAAK,EACLC,IAAK,OAPP,iBAAOC,GAAP,MAAgBC,GAAhB,MAWMC,GAAQ,yCAAG,oHAEKC,EAAAA,GAAqB,CACrCC,KAAM,EACNC,MAAO,MAJI,OAEP5G,EAFO,OAMP6G,EAAO7G,EAAIC,KAAKA,KAAKM,KAAKuG,QAAO,SAAAhE,GAAI,MAAoB,WAAhBA,EAAKiE,UACpDzB,GAAauB,GACbnB,GAAKsB,eAAe,CAClB5D,QAASyD,EAAK,GAAGjM,KAEnBqK,GAAU4B,EAAK,IACfI,GAAWJ,EAAK,GAAGjM,IAZN,4GAAH,qDAiBRqM,GAAU,yCAAG,WAAOrM,GAAP,uGAEG8L,EAAAA,GAAuB9L,GAF1B,OAEToF,EAFS,OAGTqD,EAAQrD,EAAIC,KAAKA,KAAKsF,GAAG3K,GAC/BwK,GAAS,CAAE9B,KAAM,KAAMD,MAAOA,IAC9BqC,GAAKsB,eAAe,CAClB3D,MAAOA,IAET4B,GAAUjF,EAAIC,KAAKA,KAAKiH,aART,4GAAH,sDAcVC,GAAW,yCAAG,WAAOpG,GAAP,6EAClB2E,GAAKsB,eAAe,CAClB5D,QAASrC,IAEXqG,KAJkB,SAKZH,GAAWlG,GALC,uBAMZhG,KANY,2CAAH,sDASXA,GAAU,yCAAG,gHACS2K,GAAK2B,gBAAvBjE,EADS,EACTA,QAASE,EADA,EACAA,KACXtI,EAAS,CACbJ,GAAI,GACJwI,QAAAA,EACAa,QAASX,GALM,kBAQGoD,EAAAA,GAAmB1L,GARtB,OAQTgF,EARS,OAST6G,EAAO7G,EAAIC,KAAKA,KAAKqH,QAC3B9B,GAAMqB,GACAjM,EAAKiM,EAAK,GAAGjM,GACnBwK,GAAS,CAAE9B,KAAM,UAAWC,WAAY3I,IACxC8K,GAAKsB,eAAe,CAClBzD,WAAY3I,IAEduD,GAAWvD,EAAIiM,EAAK,GAAGU,SAAS,GAAGlB,IAAMQ,EAAK,GAAGW,cACjDpD,EAAgB,IAChBgB,GAAS,CAAE9B,KAAM,OAAQE,KAAI,UAAEqD,EAAK,UAAP,aAAE,EAASW,eACxChB,IAAW,SAAAD,GAAY,IAAD,EACdF,EAAMQ,EAAK,GAAGU,SAAS,GAAGlB,IAC1BC,EAAMO,EAAK,GAAGU,SAASV,EAAK,GAAGU,SAAS7E,OAAS,GAAG4D,IACpDF,EAAOS,EAAK,GAAGW,aAcrB,MAba,CACXrB,OAAK,eACFE,EAAMD,EAAOC,EAAMD,IADjB,SAEFqB,KAAKC,MAAMpB,EAAM,GAAKmB,KAAKC,MAAMpB,EAAM,KAFrC,SAGFmB,KAAKC,MAAMpB,EAAM,GAAKmB,KAAKC,MAAMpB,EAAM,KAHrC,SAIFmB,KAAKC,MAAMpB,EAAM,MAAQmB,KAAKC,MAAMpB,EAAM,QAJxC,SAKFA,EAAMA,GALJ,GAOLF,KAAAA,EACAC,IAAAA,EACAC,IAAAA,MAjCW,4GAAH,qDA0DVqB,GAAY,SAAC5G,GACjB,IAAMnG,EAAKmG,EAAEO,OAAOsG,aAAa,WACjC,GAAIhN,IAAOuK,GAAShC,eAAeI,WACjC,OAAO,EAET6B,GAAS,CAAE9B,KAAM,UAAWC,WAAY3I,IACxC8K,GAAKsB,eAAe,CAClBzD,WAAY3I,IAEd,IAAMiN,EAAMtC,GAAGuB,QAAO,SAAAhE,GAAI,OAAc,EAAVA,EAAKlI,KAAgB,EAALA,KACxCyL,EAAMwB,EAAI,GAAGN,SAAS,GAAGlB,IACzBC,EAAMuB,EAAI,GAAGN,SAASM,EAAI,GAAGN,SAAS7E,OAAS,GAAG4D,IAClDF,EAAOyB,EAAI,GAAGL,aACpBpC,GAAS,CAAE9B,KAAM,OAAQE,KAAM6C,EAAMD,IACrCI,IAAW,SAAAD,GAAY,IAAD,EAcpB,MAba,CACXJ,OAAK,eACFE,EAAMD,EAAOC,EAAMD,IADjB,SAEFqB,KAAKC,MAAMpB,EAAM,GAAKmB,KAAKC,MAAMpB,EAAM,KAFrC,SAGFmB,KAAKC,MAAMpB,EAAM,GAAKmB,KAAKC,MAAMpB,EAAM,KAHrC,SAIFmB,KAAKC,MAAMpB,EAAM,MAAQmB,KAAKC,MAAMpB,EAAM,QAJxC,SAKFA,EAAMA,GALJ,GAOLF,KAAMyB,EAAI,GAAGL,aACbnB,IAAAA,EACAC,IAAAA,MAKJnI,GAAWvD,EAAIyL,EAAMD,IAUjB0B,GAAe,SAAC/G,GACpB,IAAIgH,EAAmB,kBAANhH,EAAiBA,EAAIA,EAAEO,OAAOqB,MAC3CoF,EAAMxB,GAAQD,MAChByB,EAAMxB,GAAQD,KAEZyB,EAAMxB,GAAQF,MAChB0B,EAAMxB,GAAQF,KAEZ0B,EAAMxB,GAAQH,OAAS,IACzB2B,EAAOA,EAAOA,EAAMxB,GAAQH,MAAUG,GAAQH,MAGhDhB,GAAS,CAAE9B,KAAM,OAAQE,KAAMuE,IAC/BrC,GAAKsB,eAAe,CAClBxD,KAAMuE,IAER5J,GAAW,GAAI4J,IAGX5J,GAAU,yCAAG,WAAOoF,GAAP,qGAAmBC,EAAnB,+BAA0B,GAA1B,SAEfoC,GAAS,IACH5K,EAAS,CACbuI,WAAYA,GAA0B4B,GAAShC,eAAeI,WAC9DC,UAAetB,IAATsB,EAAqBA,EAAO2B,GAAShC,eAAeK,MAG/C,YADAkC,GAAK2B,gBAAgB/D,OAEhCtI,EAAOwI,KAAO,GATD,SAWGkD,EAAAA,GAAmB1L,GAXtB,OAWTgF,EAXS,OAYT6G,EAAO7G,EAAIC,KAAKA,KAAKM,KAC3BqF,GAASiB,GACTzB,GAAS,CAAE9B,KAAM,oBAAqBG,kBAAmBoD,EAAK,GAAGjM,KACjEoN,GAAU,CAAEvE,kBAAmBoD,EAAK,GAAGjM,GAAI4I,KAAAA,IAC3CY,EAAgB,IAhBD,4GAAH,sDA+BV4D,GAAS,yCAAG,+JAAqC,GAA5BxE,EAAT,EAASA,KAAMC,EAAf,EAAeA,kBAAf,EAC6BiC,GAAK2B,gBAA1ChE,EADQ,EACRA,MAAOD,EADC,EACDA,QAASE,EADR,EACQA,KAAMC,EADd,EACcA,WACxBvI,EAAS,CACbC,WAAY,GACZkI,eAAgB,CACdE,MAAAA,EACAD,QAAAA,EACAE,KAAAA,EACAC,WAAAA,EACAC,KAAM2B,GAAShC,eAAeK,KAC9BC,kBAAmB0B,GAAShC,eAAeM,yBAGlCvB,IAATsB,IACFxI,EAAOmI,eAAeK,KAAOA,GAElB,YAATF,IACFtI,EAAOmI,eAAeK,KAAO,IAE3BC,IACFzI,EAAOmI,eAAeM,kBAAoBA,GApB5B,kBAuBI3D,EAAAA,GAAkB9E,GAvBtB,OAuBRgF,EAvBQ,OAwBd0E,EAAS1E,EAAIC,KAAKA,MAClBmE,EAAgB,IAzBF,4GAAH,qDA8BT6D,GAAa,yCAAG,6GAEZtF,EAAQgC,EAAOuD,QAAQC,MAAMxF,MAFjB,0CAIT,GAJS,WAOdwB,EAAaiE,MAAK,SAAAtF,GAAI,OAAIA,EAAKtC,OAASmC,KAP1B,0CAQT0F,EAAAA,EAAAA,IAAW5J,EAAE,eAAgB,UARpB,WAWd0F,EAAaiE,MAAK,SAAAtF,GAAI,OAAKA,EAAKwF,WAXlB,0CAYTD,EAAAA,EAAAA,IAAW5J,EAAE,eAAgB,UAZpB,wBAcAqB,EAAAA,GAAmB,CACnC8D,WAAYjB,EACZ4F,MAAO,MACPC,MAAOxH,OAAOyD,EAAMA,OACpBgE,OAAQ,CACN,CACExN,WAAYkK,GAASlK,WACrBkG,OAAQsD,EAAMA,MACdiE,mBAAoBjE,EAAMkE,SAC1BxF,eAAgB,CACdI,WAAY4B,GAAShC,eAAeI,gBAxB1B,WA6BM,OAflBvD,EAdY,QA6BVC,KAAK8G,OA7BK,sBA8Bc/G,EAAIC,KAAKA,KAA/BqI,EA9BQ,EA8BRA,QAASM,EA9BD,EA8BCA,WAEbzE,EAAazB,OAAS,IAAM4F,EAhChB,2CAiCPD,EAAAA,EAAAA,IAAW5J,EAAE,eAAgB,UAjCtB,QAmChB2F,GAAgB,SAACD,GACf,IAAM0C,EAAO1C,EAEb,OADAA,EAAa0E,KAAK,CAAErI,KAAMmC,EAAOmG,IAAKF,EAAUN,QAAAA,IACzCzB,KAETvC,GAAc,GAxCE,0DA2ClBnE,EAAAA,GAAAA,MAAA,MA3CkB,0DAAH,qDA2DbiH,GAAgB,WACpBhD,EAAgB,KAiDZ2E,GAAgB,SAACnO,GAChBkH,GACH+C,GACE,SAAC/C,GAAD,OACCA,EAAQkH,aAAW,uBAAC,yGACDlJ,EAAAA,GAAmBlF,GAAUmF,IAD5B,UACbC,EADa,OAEnB+E,GAAQ,SAACD,GACP,OAAQA,EAAQ,OAEI,SAAlB9E,EAAIC,KAAKgJ,KALM,uBAMjBZ,EAAAA,EAAAA,IAAWrI,EAAIC,KAAKG,IAAK,WAAW,WAClCzB,EAAS,sBAAuB,CAAEoD,SAAS,OAE7CF,cAAcC,GACdnC,IAAa,GAVI,mBAWV,GAXU,UAcF,SAAbK,EAAIiJ,MAA4B,IAATnE,EAdR,wBAejBjD,cAAcC,GACdnC,IAAa,GAhBI,mBAiBV,GAjBU,4CAmBlB,SAWT,OAPAqC,EAAAA,EAAAA,YAAS,uBAAC,mGACFyE,KADE,uBAEF1L,KAFE,iCAGD,WACL,OAAO8G,cAAcC,MAJf,2CAMP,KAED,iBAAKQ,UAAU,wBAAf,WACE,iBAAKA,UAAU,WAAf,WACE,gBAAKA,UAAU,kBAAf,UACE,gBAAKA,UAAU,UAAf,UACE,eAAIA,UAAU,MAAd,SAAqB7D,EAAE,kBAAoBA,EAAE,6BAGjD,gBAAK6D,UAAU,UAAf,UACE,UAAC,IAAD,CACE9B,KAAK,SACL0I,OAAO,WACPxD,KAAMA,GACNyD,cAAe,CACb7F,KAAM,UACND,MAAO,GANX,WASE,SAAC,SAAD,CACE+F,MAAO3K,EAAE,cACT+B,KAAK,UACL6I,MAAO,CAAC,CACNC,UAAU,EACVnJ,QAAS1B,EAAE,UAAYA,EAAE,gBAL7B,UAQE,SAAC,IAAD,CAAQmE,SAAUuE,GAAaoC,kBAAmB,SAAAC,GAAW,OAAIA,EAAYC,eAA7E,SAEIpE,GAAUxC,KAAI,SAAAC,GACZ,OACE,SAACzE,EAAD,CAAQsE,MAAOG,EAAKlI,GAApB,SAAuCkI,EAAKtC,MAAfsC,EAAKlI,YAM5C,SAAC,SAAD,CACEwO,MAAO3K,EAAE,sBAAwBA,EAAE,eACnC+B,KAAK,OACL6I,MAAO,CAAC,CACNC,UAAU,EACVnJ,QAAS1B,EAAE,UAAYA,EAAE,gBAL7B,UAQE,UAAC,UAAD,CAAaiL,SAAO,EAApB,WACE,UAAC,IAAD,CAAQC,aAAa,UAAU/G,SAnU1B,SAAC7B,GAClB2E,GAAKsB,eAAe,CAClB1D,KAAMvC,IAERqE,GAAS,CAAE9B,KAAM,OAAQW,QAASlD,IACxB,YAANA,GACFqE,GAAS,CAAE9B,KAAM,OAAQE,KAAM,KAEvB,aAANzC,GACFqE,GAAS,CAAE9B,KAAM,MAAOI,IAAK,IAE/B3I,MAwTiEwO,kBAAmB,SAAAC,GAAW,OAAIA,EAAYC,eAAnG,WACE,SAACpL,EAAD,CAAQsE,MAAM,UAAd,SAAuClE,EAAE,wBAAb,YAC5B,SAACJ,EAAD,CAAQsE,MAAM,WAAd,SAAyClE,EAAE,qBAAd,gBAE/B,mBACA,iBAAM6D,UAAU,QAAhB,SAAyB7D,EAAE,uBAII,aAAjC0G,GAAShC,eAAeG,MACtB,iCACE,SAAC,SAAD,CACE8F,MAAO3K,EAAE,cAAgBA,EAAE,eAC3B+B,KAAK,aAAa6I,MAAO,CAAC,CACxBC,UAAU,EACVnJ,QAAS1B,EAAE,UAAYA,EAAE,cAAgBA,EAAE,iBAJ/C,UAME,SAAC,IAAD,CAAKmL,OAAQ,CAAEC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAA1C,SACGzE,GAAG1C,KAAI,SAACC,EAAMmH,GACb,OACE,SAAC,IAAD,CACEJ,GAAI,CAAEK,KAAM,IACZH,GAAI,CAAEG,KAAM,IACZF,GAAI,CAAEE,KAAM,GAHd,UAME,gBACE5H,UAAS,uBAAkBQ,EAAKlI,KAA4C,EAArCuK,GAAShC,eAAeI,WAAiB,WAAa,IAE7Fd,QAASkF,GACT,UAAS7E,EAAKlI,GAJhB,SAMGkI,EAAKqH,gBARHrH,EAAKlI,YAepB,SAAC,SAAD,CAAWwO,MAAO3K,EAAE,cAAgBA,EAAE,iBACpC+B,KAAK,OAAO8B,UAAU,UADxB,UAIE,UAAC,UAAD,CAAaoH,SAAO,EAApB,WACE,SAAC,IAAD,CAAQU,MAAO7D,GAAQJ,MACrBE,IAAKE,GAAQF,IAAME,GAAQH,KAC3BE,IAAKC,GAAQD,IACbF,KAAMG,GAAQH,KACdzD,MAAOwC,GAAShC,eAAeK,KAC/BZ,SApUL,SAAC7B,GAChBqE,GAAS,CAAE9B,KAAM,OAAQE,KAAMzC,IAC/B2E,GAAKsB,eAAe,CAClBxD,KAAMzC,KAkUYsJ,cAAevC,MAEjB,SAAC,IAAD,CAASwC,UAAU,MAAMnI,MAAO1D,EAAE,SAAW8H,GAAQH,KAAO3H,EAAE,gBAA9D,UACE,SAAC,IAAD,CAAa8L,OAAQzC,GAAcnF,MAAOwC,GAAShC,eAAeK,KAAMgH,UAAU,OAEpF,2CAKJ,cAOZ,gBAAKlI,UAAU,YAAf,UACE,iBAAKA,UAAU,UAAf,WACE,gBAAKA,UAAU,OAAf,UACE,iBAAKA,UAAU,WAAf,WACE,eAAGA,UAAU,MAAb,UAAoB7D,EAAE,cAAtB,YACCuG,KACC,eAAG1C,UAAU,MAAb,WACE,gBACEmI,IAAKC,EAAAA,MAAAA,CAAQ,YAAyB1F,GAAO2F,aAAjC,SACZC,IAAI,GACJtI,UAAU,aAEZ,4BACG0C,GAAO6F,QADV,IACoB7F,GAAO8F,KAD3B,SACyC9F,GAAO+F,iBAMxD,iBAAKzI,UAAU,OAAf,UAEqC,YAAjC6C,GAAShC,eAAeG,OAAsB,iBAAKhB,UAAU,WAAf,WAC5C,eAAGA,UAAU,MAAb,UAAoB7D,EAAE,iBAAtB,aACA,SAAC,IAAD,CAAamE,SA7TT,SAAC7B,GACjBqE,GAAS,CAAE9B,KAAM,MAAOI,IAAK3C,EAAI,IAAM,IAAMA,KA4TCsF,IAAK,EAAGC,IAAK,IAC7C3D,MAAOwC,GAASzB,UAItB,iBAAKpB,UAAU,WAAf,WACE,eAAGA,UAAU,MAAb,UAAoB7D,EAAE,gBAAtB,YAEEkH,GAAMjD,OAAS,IACf,SAAC,IAAD,CAAQE,SAlUF,SAAC7B,GACnBqE,GAAS,CAAE9B,KAAM,oBAAqBG,kBAAmB1C,IACzDiH,GAAU,CAAEvE,kBAAmB1C,KAgUYuB,UAAU,QACvCqH,aAAchE,GAAM,GAAG/K,GAAI2O,kBAAmB,SAAAC,GAAW,OAAIA,EAAYC,eACzEuB,gBAAgB,QAFlB,SAKIrF,GAAM9C,KAAI,SAAAC,GACR,OACE,UAACzE,EAAD,CAAQsE,MAAOG,EAAKlI,GAClBwO,MAAOnD,GAAOgF,gBAAkBnI,EAAK2B,MAAQ,IAAM3B,EAAKoI,aAD1D,UACyEjF,GAAOgF,gBAAiBnI,EAAK2B,MADtG,IAC8G3B,EAAKoI,eADtFpI,EAAK2B,mBAUhD,iBAAKnC,UAAU,OAAf,WACE,gBAAKA,UAAU,WAAf,UACE,iBAAKA,UAAU,SAAf,WACE,eAAGA,UAAU,MAAb,UAAoB7D,EAAE,sBAAtB,YACCgG,IACC,iCACE,eAAGnC,UAAU,QAAb,UACG2D,GAAOgF,iBACR,iBAAM3I,UAAU,MAAhB,SACG6I,QAEI1G,EAAMA,MAAQU,GAASzB,IAAMS,EAAaiH,QAAO,SAACC,EAAKC,GAAN,OAAaD,EAAe,EAARC,EAAExC,MAAU,IAAO,EACtFrE,EAAMA,MAAQU,GAASzB,IAAMS,EAAaiH,QAAO,SAACC,EAAKC,GAAN,OAAaD,EAAe,EAARC,EAAExC,MAAU,GAAM,GAC1F/F,QAAQ,MAPhB,IAUI0B,EAAM8G,kBAGV,gBAAKjJ,UAAU,gBAAf,SACG6B,EAAazB,OAAS,GACrByB,EAAatB,KAAI,SAACC,EAAMmH,GACtB,OACE,eAAG3H,UAAU,OAAb,WACE,kBAAMA,UAAU,MAAhB,cAAwB2D,GAAOgF,gBAAiBnI,EAAKgG,QACrD,gCACIrK,EAAE,wBAA0BqE,EAAKtC,KADrC,KAEE,SAAC,IAAD,CACEiC,QAAS,kBA7RlB,SAACwH,GACtB7F,GAAgB,SAACD,GACf,IAAM0C,EAAOhB,KAAKC,MAAMD,KAAK2F,UAAUrH,IAEvC,OADA0C,EAAK4E,OAAOxB,EAAO,GACZpD,KAyRoC6E,CAAezB,WALXnH,EAAKtC,oBAgB9C,iBAAK8B,UAAU,SAAf,WACE,cAAGA,UAAU,SACb,iBAAKA,UAAU,MAAM1H,GAAG,MAAxB,WACE,SAAC,IAAD,CACE0P,UAAU,cACVf,kBAAmB,kBAAMoC,SAASC,eAAe,QACjDC,SACE,iBAAKvJ,UAAU,WAAf,WACE,SAAC,IAAD,CACEwJ,YAAarN,EAAE,6BACfkE,MAAO4B,EACPwH,IAAKpH,EACL/B,SArSF,SAAC7B,GACnByD,EAAYzD,EAAEO,OAAOqB,WAsSH,iBAAML,UAAU,QAAQG,QAASwF,GAAjC,SACGxJ,EAAE,oBAITuN,QAAQ,QACR/J,QAASoC,EACT4H,gBAtTY,SAACC,GAC3B5H,EAAc4H,GACd1H,EAAY,KAkSA,UAoBE,iBAAMlC,UAAU,gBAAhB,SACG7D,EAAE,6BAGP,gBAAK6D,UAAU,QAAf,UACE,cAAGA,UAAU,WAAWG,QAjTzB,WACbiD,GAAKyG,iBAAiBC,KAAtB,yCAA2B,WAAMpM,GAAN,2GACjBoD,EAAkBpD,EAAlBoD,QAASE,EAAStD,EAATsD,KADQ,EAEoE6B,GAArFhC,eAAkBE,EAFD,EAECA,MAAOE,EAFR,EAEQA,WAAYC,EAFpB,EAEoBA,KAAMC,EAF1B,EAE0BA,kBAAqBC,EAAqByB,GAArBzB,IAAKC,EAAgBwB,GAAhBxB,YACvE3I,EAAS,CACbC,WAAY,GACZkI,eAAgB,CACdC,QAAAA,EACAE,KAAAA,EACAD,MAAAA,EACAE,WAAAA,EACAC,KAAAA,EACAC,kBAAAA,GAEFC,IAAAA,EACAC,YAAAA,GAEW,YAATL,EACFtI,EAAOmI,eAAeK,KAAO,GAE7BxI,EAAO0I,IAAM,EAETmD,EAAO1C,EAAazB,OAAS,EAAIyB,EAAatB,KAAI,SAACC,GAAD,OAAUA,EAAKtC,QAAQ,GAE/ExF,EAAO2I,YAAc,CACnBC,WAAYiD,GAxBW,kBA4BL/G,EAAAA,GAAoB9E,GA5Bf,OA6BC,OADlBgF,EA5BiB,QA6BfC,KAAK8G,SACLnM,EAAKoF,EAAIC,KAAKA,KAAKoM,SACzB1M,IAAa,GACbuG,GAAWtL,GAEXmO,GAAcnO,IAlCO,kDAqCvBuF,EAAAA,GAAAA,MAAc,KAAMF,KAAKG,KArCF,0DAA3B,wDAgTc,SACG3B,EAAE,qCAYfiB,IAAaK,KAEX,SAAC,IAAD,CAAUA,QAASA,GAAS+B,MAAOA,S","sources":["api/cloud.js","api/elastic_ip.js","components/payModal/PayModal.jsx","views/product/network/elasticIp/CreateElasticIp.jsx"],"sourcesContent":["/* 实例 */\r\nimport request from \"../utils/request\";\r\n\r\n// 获取数据中心\r\nexport function getDataCenter (id) {\r\n  return request.get(`/product/${id}/idcsmart_cloud/data_center`);\r\n}\r\n// 获取宽带类型\r\nexport function getBwType (id) {\r\n  return request.get(`/product/${id}/idcsmart_cloud/bw_type`);\r\n}\r\n// 计算能力\r\nexport function getPackage (params) {\r\n  return request.get(`/product/${params.product_id}/idcsmart_cloud/package`, {\r\n    params,\r\n  });\r\n}\r\n// 操作系统\r\nexport function getSystem (params) {\r\n  return request.get(\r\n    `/product/${params.product_id}/idcsmart_cloud/system_image`,\r\n    { params }\r\n  );\r\n}\r\n// vpc\r\nexport function getVpc (params) {\r\n  return request.get(`/vpc`, { params });\r\n}\r\n// 安全组\r\nexport function getGroup (params) {\r\n  return request.get(`/security_group`, { params });\r\n}\r\n// 获取其他配置\r\nexport function getSetting (id) {\r\n  return request.get(`/product/${id}/idcsmart_cloud/config`);\r\n}\r\n// 周期\r\nexport function getDurationPprice (params) {\r\n  return request.get(`/idcsmart_cloud/duration_price`, { params });\r\n}\r\n// 修改配置计算价格package_id,image_id,backup_enable,panel_enable\r\nexport function updatePrice (params) {\r\n  return request.post(`/product/${params.product_id}/config_option`, params);\r\n}\r\n\r\n// 结算商品\r\nexport function settleProduct (params) {\r\n  return request.post(`/product/settle`, params);\r\n}\r\n\r\n// 使用优惠码\r\nexport function usePromoCode (params) {\r\n  return request.post(`/promo_code/apply`, params);\r\n}\r\n\r\n// 支付{id: 订单id,gateway:支付方式}\r\nexport function onlinePay (params) {\r\n  return request.post(`/pay`, params);\r\n}\r\n// 使用余额支付{id:订单id,use:1使用，0取消}\r\nexport function creditPay (params) {\r\n  return request.post(`/credit`, params);\r\n}\r\n// 获取支付状态\r\nexport function getPayStatus (id) {\r\n  return request.get(`/pay/${id}/status`);\r\n}\r\n\r\n// 订单详情\r\nexport function getOrderDetail (id) {\r\n  return request.get(`/order/${id}`);\r\n}\r\n/* 实例列表 */\r\nexport function getCloudList (params) {\r\n  return request.get(`/idcsmart_cloud`, { params });\r\n}\r\n// 支付接口\r\nexport function payWayList () {\r\n  return request.get(`/gateway`);\r\n}\r\n\r\n// 账号余额\r\nexport function getUserDetail () {\r\n  return request.get(`/account`);\r\n}\r\n\r\n// 实例详情\r\nexport function getCloudDetail (id) {\r\n  return request.get(`/idcsmart_cloud/${id}`);\r\n}\r\n// ssh key\r\nexport function getSshkey (params) {\r\n  return request.get(`/ssh_key`, { params });\r\n}\r\n// cloud日志\r\nexport function getLog (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/log`, { params });\r\n}\r\n\r\n// 获取产品下的磁盘\r\nexport function getDiskById (id) {\r\n  return request.get(`/idcsmart_cloud/${id}/disk`)\r\n}\r\n\r\n// 获取磁盘列表详情\r\nexport function getDisk (params) {\r\n  return request.get(`idcsmart_cloud_disk`, { params });\r\n}\r\n\r\n// 卸载磁盘\r\nexport function umount (id) {\r\n  return request.put(`/idcsmart_cloud_disk/${id}/umount`);\r\n}\r\n\r\n// 删除磁盘\r\nexport function delDisk (id) {\r\n  return request.delete(`/idcsmart_cloud_disk/${id}`);\r\n}\r\n\r\n// 挂载磁盘\r\nexport function mount (params) {\r\n  return request.put(`idcsmart_cloud_disk/${params.id}/mount`, params);\r\n}\r\n\r\n// 扩容磁盘\r\nexport function expansion (params) {\r\n  return request.put(`idcsmart_cloud_disk/${params.id}/expansion`, { params });\r\n}\r\n\r\n// 快照\r\n// 快照列表\r\nexport function snapshot (params) {\r\n  return request.get(`idcsmart_cloud/${params.id}/snapshot`, { params });\r\n}\r\n// 创建快照\r\nexport function createSnapshot (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/snapshot`, params)\r\n}\r\n// 快照还原\r\nexport function restoreSnapshot (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/snapshot/restore`, params)\r\n}\r\n// 删除快照\r\nexport function delSnapshot (params) {\r\n  return request.delete(`idcsmart_cloud/${params.id}/snapshot/${params.snapshot_id}`)\r\n}\r\n\r\n// 备份列表\r\nexport function backup (params) {\r\n  return request.get(`idcsmart_cloud/${params.id}/backup`, { params });\r\n}\r\n\r\n// 创建备份\r\nexport function createBackup (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/backup`, params)\r\n}\r\n// 备份还原\r\nexport function restoreBackup (params) {\r\n  return request.post(`idcsmart_cloud/${params.id}/backup/restore`, params)\r\n}\r\n// 删除备份\r\nexport function delBackup (params) {\r\n  return request.delete(`idcsmart_cloud/${params.id}/backup/${params.backup_id}`)\r\n}\r\n\r\n// 产品详情\r\nexport function host (id) {\r\n  return request.get(`host/${id}`)\r\n}\r\n\r\n// 停用页面信息\r\nexport function refund (params) {\r\n  return request.get(`refund`, { params })\r\n}\r\n\r\n// 申请停用\r\nexport function postRefund (params) {\r\n  return request.post(`refund`, params)\r\n}\r\n\r\n// 取消停用\r\nexport function quitRefund (params) {\r\n  return request.put(`refund/${params.id}/cancel`)\r\n}\r\n\r\n// 续费页面信息\r\nexport function renew (params) {\r\n  return request.get(`host/${params.id}/renew`, { params })\r\n}\r\n\r\n// 续费\r\nexport function doRenw (params) {\r\n  return request.post(`host/${params.id}/renew`, params)\r\n}\r\n\r\n// 升降级配置\r\nexport function getupgradeOp (params) {\r\n  return request.get(`/host/${params.id}/upgrade/config_option`, { params });\r\n}\r\n\r\n//获取图表数据\r\nexport function chartdata (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/chart`, { params });\r\n}\r\n//获取当前VPC网络\r\nexport function vpcdata (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/vpc`, { params });\r\n}\r\n// 切换vpc网络\r\nexport function changeVpc (params) {\r\n  return request.put(`/idcsmart_cloud/${params.id}/vpc`, params);\r\n}\r\n//获取网络流量\r\nexport function flowdata (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/flow`, { params });\r\n}\r\n\r\n//  获取产品停用信息\r\nexport function refundMsg (id) {\r\n  return request.get(`/refund/host/${id}/refund`)\r\n}\r\n\r\n// 获取升降级套餐价格\r\nexport function getPackagePrice (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/package/upgrade`, { params })\r\n}\r\n// 生成升降级套餐订单\r\nexport function createPackageId (params) {\r\n  return request.post(`/idcsmart_cloud/${params.id}/package/upgrade/order`, params)\r\n}\r\n\r\n// 修改概述页面备注\r\nexport function changeNotes (params) {\r\n  return request.put(`/host/${params.id}/notes`, params);\r\n}","// 弹性ip\r\n\r\nimport request from \"../utils/request\";\r\n\r\n// 列表\r\nexport function getIpList (params) {\r\n  return request.get(`/idcsmart_cloud_ip`, { params });\r\n}\r\n// 挂载\r\nexport function mountCloud (params) {\r\n  return request.put(`/idcsmart_cloud_ip/${params.id}/mount`, params);\r\n}\r\n//卸载\r\nexport function unmountCloud (id) {\r\n  return request.put(`/idcsmart_cloud_ip/${id}/umount`);\r\n}\r\n// 删除\r\nexport function deleteIp (id) {\r\n  return request.delete(`/idcsmart_cloud_ip/${id}`);\r\n}\r\n// 获取套餐（带宽类型）\r\nexport function getPackage (params) {\r\n  return request.get(`/product/${params.id}/idcsmart_cloud_ip/package`, { params });\r\n}\r\n/* 实例列表 */\r\nexport function getCloudList (params) {\r\n  return request.get(`/idcsmart_cloud`, { params });\r\n}\r\n// 实例详情\r\nexport function getCloudDetail (id) {\r\n  return request.get(`/idcsmart_cloud/${id}`);\r\n}\r\n// 根据配置获取价格\r\nexport function getIpPrice (params) {\r\n  return request.get(`/idcsmart_cloud_ip/duration_price`, { params });\r\n}\r\n\r\n// 获取内页弹性ip列表\r\nexport function getCloudIp (params) {\r\n  return request.get(`/idcsmart_cloud/${params.id}/ip`, { params });\r\n}","import React, { useState, useEffect, useReducer, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport \"./PayModal.css\";\r\nimport { showDialog } from '@/utils/util'\r\nimport {\r\n  message, Select, Checkbox, Input,\r\n  Button,\r\n  Modal,\r\n} from \"antd\";\r\nimport * as cloud from \"@/api/cloud\";\r\nconst { Option } = Select\r\nexport default function PayModal (props) {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate()\r\n  // 订单详情\r\n  const [orderDetail, setOrderDetail] = useState({});\r\n  // 当前选择的支付方式\r\n  const [curPay, setCurPay] = useState(\"\");\r\n  // 用户信息\r\n  const [user, setUser] = useState({});\r\n  // 是否使用余额\r\n  const [balanceChecked, setBalanceChecked] = useState(false);\r\n  // 支付方式\r\n  const [payList, setPayList] = useState([]);\r\n  // 三方支付的html\r\n  const [payHtml, setPayHtml] = useState(\"\");\r\n  // 是否展示第三方支付\r\n  const [isShowPay, setIsShowPay] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  /* 数据请求 */\r\n  // 获取订单详情\r\n  const getOrderDetail = async () => {\r\n    try {\r\n      const res = await cloud.getOrderDetail(props.orderId);\r\n      setOrderDetail(res.data.data.order);\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 获取用户信息\r\n  const getUser = async () => {\r\n    try {\r\n      const res = await cloud.getUserDetail();\r\n      setUser(res.data.data);\r\n    } catch (error) {\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 支付方式\r\n  const getPayWay = async () => {\r\n    try {\r\n      const res = await cloud.payWayList();\r\n      setPayList(res.data.data.list);\r\n      setCurPay(res.data.data.list[0].name);\r\n      // 初始化调用一次支付接口\r\n      initPay(res.data.data.list[0].name)\r\n    } catch (error) {\r\n      console.log(error)\r\n      message.error(error.data.msg);\r\n    }\r\n  };\r\n  // 初始化调用\r\n  const initPay = async (name) => {\r\n    try {\r\n      const params = {\r\n        gateway: name,\r\n        id: props.orderId,\r\n      };\r\n      // 使用其他第三方的支付方式\r\n      const res = await cloud.onlinePay(params);\r\n      setPayHtml(res.data.data.html);\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 切换支付方式\r\n  const changePayWay = async (e, id) => {\r\n    console.log(e)\r\n    setCurPay(e);\r\n    // 如果账户余额 大于 订单金额 && 勾选了余额支付 阻止调用\r\n    if (\r\n      Number(user.account.credit) >= Number(orderDetail.amount) &&\r\n      balanceChecked\r\n    ) {\r\n      return false;\r\n    }\r\n    try {\r\n      const params = {\r\n        gateway: e,\r\n        id: (typeof id !== \"object\" && id) || props.orderId,\r\n      };\r\n      // 使用其他第三方的支付方式\r\n      const res = await cloud.onlinePay(params);\r\n      setPayHtml(res.data.data.html);\r\n    } catch (error) { }\r\n  };\r\n  /* 事件处理 */\r\n  // 通过余额支付\r\n  const handleOk = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const params = {\r\n        gateway: curPay,\r\n        id: props.orderId,\r\n      };\r\n      await cloud.onlinePay(params);\r\n      setLoading(false)\r\n    } catch (error) {\r\n      setLoading(false)\r\n    }\r\n  };\r\n  // 使用余额\r\n  const useBalance = async (e) => {\r\n    setBalanceChecked(e.target.checked);\r\n    if (!e.target.checked) {\r\n      setIsShowPay(true)\r\n    }\r\n    try {\r\n      const res = await cloud.creditPay({\r\n        id: props.orderId,\r\n        use: e.target.checked ? 1 : 0,\r\n      });\r\n      const tempId = res.data.data.id;\r\n      const result = await cloud.getOrderDetail(tempId);\r\n      const orderRes = result.data.data.order;\r\n      // 勾选余额，如果账户的余额大于订单金额，则使用余额支付\r\n      if (e.target.checked) {\r\n        if (Number(user.account.credit) >= Number(orderRes.amount)) {\r\n          setIsShowPay(false);\r\n        } else {\r\n          setIsShowPay(true);\r\n          changePayWay(curPay, tempId);\r\n        }\r\n      } else {\r\n        // 小于的话重新拉取支付\r\n        changePayWay(curPay, tempId);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  // 取消支付\r\n  const handleCancel = () => {\r\n    if (props.handleCancel) {\r\n      props.handleCancel()\r\n      return\r\n    }\r\n    clearInterval(props.timer);\r\n    navigate(\"/finance/order\", { replace: true });\r\n  };\r\n  useEffect(async () => {\r\n    await getOrderDetail()\r\n    await getUser()\r\n    await getPayWay()\r\n  }, [])\r\n  const visible = props.visible !== undefined ? props.visible : true\r\n  return (\r\n    <>\r\n      {/* 支付弹窗 */}\r\n      <Modal\r\n        visible={visible}\r\n        title={t(\"common.pay\")}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        className=\"pay-modal\"\r\n        closable={false}\r\n        footer={\r\n          !isShowPay && [\r\n            <Button\r\n              key=\"submit\"\r\n              className=\"sure\"\r\n              loading={loading}\r\n              onClick={handleOk}\r\n            >\r\n              {t(\"cloud.sure_pay\")}\r\n            </Button>,\r\n            <Button key=\"back\" onClick={handleCancel} className=\"cancel\">\r\n              {t(\"common.cancel\")}\r\n            </Button>,\r\n          ]\r\n        }\r\n      >\r\n        <div className=\"cloud-pay-box\">\r\n          <div className=\"item first\">\r\n            <div className=\"l-text\">{t(\"common.pay_way\")}</div>\r\n            <div className=\"r-text\">\r\n              {payList.length > 0 && (\r\n                <Select value={curPay} onChange={changePayWay}>\r\n                  {payList.map((item) => {\r\n                    return (\r\n                      <Option value={item.name} key={item.id}>\r\n                        {item.title}\r\n                      </Option>\r\n                    );\r\n                  })}\r\n                </Select>\r\n              )}\r\n              <Checkbox onChange={useBalance} checked={balanceChecked}>\r\n                {t(\"cloud.use_balance\")}\r\n              </Checkbox>\r\n            </div>\r\n          </div>\r\n          <div className=\"item\">\r\n            <div className=\"l-text\">{t(\"cloud.order_amount\")}</div>\r\n            <div className=\"r-text order-num\">￥&nbsp;{orderDetail.amount}</div>\r\n          </div>\r\n          <div className=\"item last\">\r\n            <div className=\"l-text\">{t(\"cloud.pay_amount\")}</div>\r\n            <div className=\"r-text pay-num\">\r\n              <p className=\"paid\">\r\n                ￥\r\n                {\r\n                  // 当勾选余额的时候：订单金额 - 账户余额，小于0 则表示全部使用\r\n                  balanceChecked\r\n                    ? (Number(orderDetail.amount) -\r\n                      Number(user.account.credit) <=\r\n                      0\r\n                      ? 0\r\n                      : Number(orderDetail.amount) -\r\n                      Number(user.account.credit)\r\n                    ).toFixed(2)\r\n                    : Number(orderDetail.amount).toFixed(2)\r\n                }\r\n              </p>\r\n              {balanceChecked && (\r\n                <p className=\"balance\">\r\n                  -￥\r\n                  {(Number(user.account.credit) >= Number(orderDetail.amount)\r\n                    ? Number(orderDetail.amount)\r\n                    : Number(user.account.credit)\r\n                  ).toFixed(2)}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {\r\n            // 可用余额小于订单金额\r\n            isShowPay && (\r\n              <div className=\"item pay-html\">\r\n                {/* 渲染支付的模块 */}\r\n                <div dangerouslySetInnerHTML={{ __html: payHtml }}></div>\r\n              </div>\r\n            )\r\n          }\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useReducer, useRef, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { showDialog } from '@/utils/util'\r\nimport {\r\n  Col, Row, message, Input, Form, Radio, Select, Tooltip, Slider, InputNumber, Popover\r\n} from \"antd\";\r\nimport './ElasticIp.css'\r\nimport * as cloud from \"@/api/cloud\";\r\nimport * as elastic from '@/api/elastic_ip'\r\nimport PayModal from \"@/components/payModal/PayModal\";\r\nimport { MinusCircleOutlined } from \"@ant-design/icons\";\r\nconst { Option } = Select;\r\nconst initFormData = {\r\n  product_id: 35,\r\n  config_options: {\r\n    host_id: null,\r\n    bw_id: 0,\r\n    type: \"default\", // default,independ\r\n    package_id: null,\r\n    size: 1,\r\n    duration_price_id: null // 周期\r\n  },\r\n  qty: 1,\r\n  customfield: { // 优惠码\r\n    promo_code: [],\r\n  }\r\n};\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"center\":\r\n      state.config_options.data_center_id = action.data_center_id;\r\n      return state;\r\n    case \"type\":\r\n      return {\r\n        ...state,\r\n        config_options: {\r\n          ...state.config_options,\r\n          type: action.bw_type,\r\n        },\r\n      };\r\n    case \"network\":\r\n      return {\r\n        ...state,\r\n        config_options: {\r\n          ...state.config_options,\r\n          package_id: action.package_id,\r\n        },\r\n      };\r\n    case \"bw\":\r\n      return {\r\n        ...state,\r\n        config_options: {\r\n          ...state.config_options,\r\n          bw_id: action.bw_id,\r\n        },\r\n      };\r\n    case \"size\":\r\n      return {\r\n        ...state,\r\n        config_options: {\r\n          ...state.config_options,\r\n          size: action.size,\r\n        },\r\n      };\r\n    case \"duration_price_id\":\r\n      return {\r\n        ...state,\r\n        config_options: {\r\n          ...state.config_options,\r\n          duration_price_id: action.duration_price_id,\r\n        },\r\n      };\r\n    case \"qty\":\r\n      return { ...state, qty: action.qty };\r\n  }\r\n}\r\nexport default function CreateElasticIp() {\r\n  const marks = {\r\n    0: 0,\r\n    100: 100\r\n  };\r\n  const navigate = useNavigate()\r\n  const { t } = useTranslation()\r\n  // 优惠码列表\r\n  const [discountList, setDiscountList] = useState([]);\r\n  // 优惠码弹窗\r\n  const [disVisible, setDisVisible] = useState(false);\r\n  const [disInput, setDisinput] = useState(\"\");\r\n  // 价格展示\r\n  const [price, setPrice] = useState({});\r\n  const disRef = useRef();\r\n  // 定时器\r\n  const [timer, setTimer] = useState(null);\r\n  // 轮询剩余时间\r\n  const [time, setTime] = useState(300000); // 5分钟\r\n\r\n  const [center, setCenter] = useState(null)\r\n  const [formData, dispatch] = useReducer(reducer, initFormData);\r\n  // 实例\r\n  const [cloudList, setCloudList] = useState([])\r\n  const [bw, setBw] = useState([])\r\n  const [form] = Form.useForm()\r\n  // 价格周期\r\n  const [cycle, setCycle] = useState([])\r\n  const [common] = useState(JSON.parse(localStorage.getItem('font_config')))\r\n  // 支付相关\r\n  const [isShowPay, setIsShowPay] = useState(false)\r\n  const [orderId, setOrderId] = useState('')\r\n  const [sizeTime, setSizeTime] = useState(null)\r\n  // process\r\n  const [process, setProcess] = useState({\r\n    range: {\r\n      0: 0,\r\n      100: 100\r\n    },\r\n    step: 1,\r\n    min: 0,\r\n    max: 100\r\n  })\r\n  /* 实例 */\r\n  // 实例列表\r\n  const getCloud = async () => {\r\n    try {\r\n      const res = await elastic.getCloudList({\r\n        page: 1,\r\n        limit: 1000\r\n      })\r\n      const temp = res.data.data.list.filter(item => item.status === 'Active')\r\n      setCloudList(temp)\r\n      form.setFieldsValue({\r\n        host_id: temp[0].id\r\n      })\r\n      setCenter(temp[0])\r\n      getCloudBw(temp[0].id)\r\n    } catch (error) {\r\n    }\r\n  }\r\n  // 获取实例详情\r\n  const getCloudBw = async (id) => {\r\n    try {\r\n      const res = await elastic.getCloudDetail(id)\r\n      const bw_id = res.data.data.bw.id\r\n      dispatch({ type: \"bw\", bw_id: bw_id })\r\n      form.setFieldsValue({\r\n        bw_id: bw_id\r\n      })\r\n      setCenter(res.data.data.data_center)\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  // 切换实例\r\n  const changeCloud = async (e) => {\r\n    form.setFieldsValue({\r\n      host_id: e\r\n    })\r\n    clearDiscount()\r\n    await getCloudBw(e)\r\n    await getPackage()\r\n  }\r\n  // 获取带宽类型(就是套餐数据)\r\n  const getPackage = async () => {\r\n    const { host_id, type } = form.getFieldValue()\r\n    const params = {\r\n      id: 35,\r\n      host_id,\r\n      bw_type: type\r\n    }\r\n    try {\r\n      const res = await elastic.getPackage(params)\r\n      const temp = res.data.data.package\r\n      setBw(temp)\r\n      const id = temp[0].id\r\n      dispatch({ type: \"network\", package_id: id })\r\n      form.setFieldsValue({\r\n        package_id: id\r\n      })\r\n      getIpPrice(id, temp[0].bw_price[0].min + temp[0].bw_precision)\r\n      setDiscountList([])\r\n      dispatch({ type: \"size\", size: temp[0]?.bw_precision })\r\n      setProcess(process => {\r\n        const min = temp[0].bw_price[0].min\r\n        const max = temp[0].bw_price[temp[0].bw_price.length - 1].max\r\n        const step = temp[0].bw_precision\r\n        const data = {\r\n          range: {\r\n            [min + step]: min + step,\r\n            [Math.floor(max / 4)]: Math.floor(max / 4),\r\n            [Math.floor(max / 2)]: Math.floor(max / 2),\r\n            [Math.floor(max / 1.33)]: Math.floor(max / 1.33),\r\n            [max]: max\r\n          },\r\n          step,\r\n          min,\r\n          max\r\n        }\r\n        process = data\r\n        return process\r\n      })\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  // 切换弹性IP类型\r\n  const changeType = (e) => {\r\n    form.setFieldsValue({\r\n      type: e\r\n    })\r\n    dispatch({ type: \"type\", bw_type: e })\r\n    if (e === 'default') {\r\n      dispatch({ type: \"size\", size: '' })\r\n    }\r\n    if (e === 'independ') {\r\n      dispatch({ type: \"qty\", qty: 1 })\r\n    }\r\n    getPackage()\r\n  }\r\n\r\n  /* 带宽类型（套餐） */\r\n  const changeNet = (e) => {\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    if (id === formData.config_options.package_id) {\r\n      return false\r\n    }\r\n    dispatch({ type: \"network\", package_id: id })\r\n    form.setFieldsValue({\r\n      package_id: id\r\n    })\r\n    const cur = bw.filter(item => item.id * 1 === id * 1)\r\n    const min = cur[0].bw_price[0].min\r\n    const max = cur[0].bw_price[cur[0].bw_price.length - 1].max\r\n    const step = cur[0].bw_precision\r\n    dispatch({ type: \"size\", size: min + step })\r\n    setProcess(process => {\r\n      const data = {\r\n        range: {\r\n          [min + step]: min + step,\r\n          [Math.floor(max / 4)]: Math.floor(max / 4),\r\n          [Math.floor(max / 2)]: Math.floor(max / 2),\r\n          [Math.floor(max / 1.33)]: Math.floor(max / 1.33),\r\n          [max]: max\r\n        },\r\n        step: cur[0].bw_precision,\r\n        min,\r\n        max\r\n      }\r\n      process = data\r\n      return process\r\n    })\r\n    getIpPrice(id, min + step)\r\n  }\r\n  // 带宽数量（size）\r\n  const changeBw = (e) => {\r\n    dispatch({ type: \"size\", size: e })\r\n    form.setFieldsValue({\r\n      size: e\r\n    })\r\n    // getIpPrice('', val)\r\n  }\r\n  const focusHandler = (e) => {\r\n    let val = typeof e === 'number' ? e : e.target.value\r\n    if (val > process.max) {\r\n      val = process.max\r\n    }\r\n    if (val < process.min) {\r\n      val = process.min\r\n    }\r\n    if (val % process.step !== 0) {\r\n      val = (val - (val % process.step)) || process.step\r\n    }\r\n\r\n    dispatch({ type: \"size\", size: val })\r\n    form.setFieldsValue({\r\n      size: val\r\n    })\r\n    getIpPrice('', val)\r\n  }\r\n  // 根据配置获取价格\r\n  const getIpPrice = async (package_id, size = '') => {// 无独立带宽： size： ''\r\n    try {\r\n      setCycle([])\r\n      const params = {\r\n        package_id: package_id ? package_id : formData.config_options.package_id,\r\n        size: size !== undefined ? size : formData.config_options.size\r\n      }\r\n      const type = form.getFieldValue().type\r\n      if (type === 'default') {\r\n        params.size = 0\r\n      }\r\n      const res = await elastic.getIpPrice(params)\r\n      const temp = res.data.data.list\r\n      setCycle(temp)\r\n      dispatch({ type: \"duration_price_id\", duration_price_id: temp[0].id })\r\n      calcPrice({ duration_price_id: temp[0].id, size })\r\n      setDiscountList([])\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  // 无独立带宽数量\r\n  const changeQty = (e) => {\r\n    dispatch({ type: \"qty\", qty: e > 999 ? 999 : e })\r\n  }\r\n  // 切换周期\r\n  const changeCycle = (e) => {\r\n    dispatch({ type: \"duration_price_id\", duration_price_id: e })\r\n    calcPrice({ duration_price_id: e })\r\n  }\r\n  /* 根据配置计算总价 */\r\n  const calcPrice = async ({ size, duration_price_id } = {}) => {\r\n    const { bw_id, host_id, type, package_id } = form.getFieldValue()\r\n    const params = {\r\n      product_id: 35,\r\n      config_options: {\r\n        bw_id,\r\n        host_id,\r\n        type,\r\n        package_id,\r\n        size: formData.config_options.size,\r\n        duration_price_id: formData.config_options.duration_price_id\r\n      }\r\n    }\r\n    if (size !== undefined) {\r\n      params.config_options.size = size;\r\n    }\r\n    if (type === 'default') {\r\n      params.config_options.size = ''\r\n    }\r\n    if (duration_price_id) {\r\n      params.config_options.duration_price_id = duration_price_id;\r\n    }\r\n    try {\r\n      const res = await cloud.updatePrice(params);\r\n      setPrice(res.data.data);\r\n      setDiscountList([])\r\n    } catch (error) { }\r\n  };\r\n\r\n  // 优惠码\r\n  const closeDiscount = async () => {\r\n    try {\r\n      const value = disRef.current.input.value;\r\n      if (!value) {\r\n        return false;\r\n      }\r\n      // 不能相同优惠码\r\n      if (discountList.find(item => item.name === value)) {\r\n        return showDialog(t(\"cloud.tip31\"), 'error')\r\n      }\r\n      // 使用过的优惠码包含不可叠加的\r\n      if (discountList.find(item => !item.overlay)) {\r\n        return showDialog(t(\"cloud.tip32\"), 'error')\r\n      }\r\n      const res = await cloud.usePromoCode({\r\n        promo_code: value,\r\n        scene: \"New\",\r\n        total: Number(price.price),\r\n        cycles: [\r\n          {\r\n            product_id: formData.product_id,\r\n            amount: price.price,\r\n            billing_cycle_time: price.duration,\r\n            config_options: {\r\n              package_id: formData.config_options.package_id,\r\n            }\r\n          },\r\n        ],\r\n      });\r\n      if (res.data.status === 200) {\r\n        const { overlay, discount } = res.data.data\r\n        // 如果之前有使用过优惠码，当前优惠码不可叠加的时候不能使用\r\n        if (discountList.length > 0 && !overlay) {\r\n          return showDialog(t(\"cloud.tip32\"), 'error')\r\n        }\r\n        setDiscountList((discountList) => {\r\n          const temp = discountList;\r\n          discountList.push({ name: value, num: discount, overlay });\r\n          return temp;\r\n        });\r\n        setDisVisible(false);\r\n      }\r\n    } catch (error) {\r\n      message.error(error);\r\n    }\r\n  };\r\n  // 取消优惠码\r\n  const cancelDiscount = (index) => {\r\n    setDiscountList((discountList) => {\r\n      const temp = JSON.parse(JSON.stringify(discountList));\r\n      temp.splice(index, 1);\r\n      return temp;\r\n    });\r\n  };\r\n  const handleVisibleChange = (newVisible) => {\r\n    setDisVisible(newVisible);\r\n    setDisinput(\"\");\r\n  };\r\n  // 清空优惠码\r\n  const clearDiscount = () => {\r\n    setDiscountList([])\r\n  }\r\n  const changeInput = (e) => {\r\n    setDisinput(e.target.value);\r\n  };\r\n  // 提交创建弹性ip\r\n  const create = () => {\r\n    form.validateFields().then(async res => {\r\n      const { host_id, type } = res\r\n      const { config_options: { bw_id, package_id, size, duration_price_id }, qty, customfield } = formData\r\n      const params = {\r\n        product_id: 35,\r\n        config_options: {\r\n          host_id,\r\n          type,\r\n          bw_id,\r\n          package_id,\r\n          size,\r\n          duration_price_id\r\n        },\r\n        qty,\r\n        customfield\r\n      }\r\n      if (type === 'default') { // 无独立带宽\r\n        params.config_options.size = ''\r\n      } else {\r\n        params.qty = 1\r\n      }\r\n      const temp = discountList.length > 0 ? discountList.map((item) => item.name) : [];\r\n      //params.promo_code = temp;\r\n      params.customfield = {\r\n        promo_code: temp\r\n      }\r\n      try {\r\n        // 生成订单号\r\n        const res = await cloud.settleProduct(params)\r\n        if (res.data.status === 200) {\r\n          const id = res.data.data.order_id\r\n          setIsShowPay(true)\r\n          setOrderId(id)\r\n          // 轮询支付状态\r\n          pollingStatus(id);\r\n        }\r\n      } catch (error) {\r\n        message.error(error.data.msg)\r\n      }\r\n    })\r\n  }\r\n  // 轮询支付状态\r\n  const pollingStatus = (id) => {\r\n    if (!timer) {\r\n      setTimer(\r\n        (timer) =>\r\n        (timer = setInterval(async () => {\r\n          const res = await cloud.getPayStatus(id ? id : orderId);\r\n          setTime((time) => {\r\n            return (time -= 2000);\r\n          });\r\n          if (res.data.code === \"Paid\") {\r\n            showDialog(res.data.msg, 'success', () => {\r\n              navigate(\"/network/elastic_ip\", { replace: true });\r\n            })\r\n            clearInterval(timer);\r\n            setIsShowPay(false);\r\n            return false;\r\n          }\r\n          // 支付成功或者5分钟到点清除定时器\r\n          if (res.code === \"Paid\" || time === 0) {\r\n            clearInterval(timer);\r\n            setIsShowPay(false);\r\n            return false;\r\n          }\r\n        }, 2000))\r\n      );\r\n    }\r\n  };\r\n  useEffect(async () => {\r\n    await getCloud()\r\n    await getPackage()\r\n    return () => {\r\n      return clearInterval(timer)\r\n    };\r\n  }, [])\r\n  return (\r\n    <div className='create-ip com-content'>\r\n      <div className='com-card'>\r\n        <div className=\"box data-center\">\r\n          <div className=\"com-tit\">\r\n            <h1 className=\"tit\">{t(\"cloud.bas_btn2\") + t('network.elastic_ip')}</h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"box vpc\">\r\n          <Form\r\n            name=\"ipForm\"\r\n            layout=\"vertical\"\r\n            form={form}\r\n            initialValues={{\r\n              type: 'default',\r\n              bw_id: 0\r\n            }}\r\n          >\r\n            <Form.Item\r\n              label={t('menu.cloud')}\r\n              name='host_id'\r\n              rules={[{\r\n                required: true,\r\n                message: t('select') + t('menu.cloud')\r\n              }]}\r\n            >\r\n              <Select onChange={changeCloud} getPopupContainer={triggerNode => triggerNode.parentElement}>\r\n                {\r\n                  cloudList.map(item => {\r\n                    return (\r\n                      <Option value={item.id} key={item.id}>{item.name}</Option>\r\n                    )\r\n                  })\r\n                }\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label={t('network.elastic_ip') + t('common.type')}\r\n              name='type'\r\n              rules={[{\r\n                required: true,\r\n                message: t('select') + t('menu.cloud'),\r\n              },]}\r\n            >\r\n              <Input.Group compact>\r\n                <Select defaultValue=\"default\" onChange={changeType} getPopupContainer={triggerNode => triggerNode.parentElement}>\r\n                  <Option value='default' key='default'>{t('elastic.un_independ')}</Option>\r\n                  <Option value='independ' key='independ'>{t('elastic.independ')}</Option>\r\n                </Select>\r\n                <br></br>\r\n                <span className=\"s-tip\">{t('elastic.tip3')}</span>\r\n              </Input.Group>\r\n            </Form.Item>\r\n            {\r\n              formData.config_options.type === 'independ' ? (\r\n                <>\r\n                  <Form.Item\r\n                    label={t('elastic.bw') + t('common.type')}\r\n                    name='package_id' rules={[{\r\n                      required: true,\r\n                      message: t('select') + t('elastic.bw') + t('common.type'),\r\n                    }]}>\r\n                    <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 30 }}>\r\n                      {bw.map((item, index) => {\r\n                        return (\r\n                          <Col\r\n                            xs={{ span: 24 }}\r\n                            md={{ span: 12 }}\r\n                            lg={{ span: 8 }}\r\n                            key={item.id}\r\n                          >\r\n                            <div\r\n                              className={`item c-hover ${item.id === formData.config_options.package_id * 1 ? \"c-active\" : \"\"\r\n                                }`}\r\n                              onClick={changeNet}\r\n                              data-id={item.id}\r\n                            >\r\n                              {item.bw_type_name}\r\n                            </div>\r\n                          </Col>\r\n                        );\r\n                      })}\r\n                    </Row>\r\n                  </Form.Item>\r\n                  <Form.Item label={t('elastic.bw') + t('common.number')}\r\n                    name=\"size\" className=\"bw_size\"\r\n                    // rules={[{ required: true, message: t('selct') }]}\r\n                    >\r\n                    <Input.Group compact>\r\n                      <Slider marks={process.range}\r\n                        min={process.min + process.step}\r\n                        max={process.max}\r\n                        step={process.step}\r\n                        value={formData.config_options.size}\r\n                        onChange={changeBw}\r\n                        onAfterChange={focusHandler}\r\n                      />\r\n                      <Tooltip placement=\"top\" title={t('input') + process.step + t('elastic.tip4')}>\r\n                        <InputNumber onBlur={focusHandler} value={formData.config_options.size} controls={false}></InputNumber>\r\n                      </Tooltip>\r\n                      <span>Mbps</span>\r\n                    </Input.Group>\r\n                  </Form.Item>\r\n                </>\r\n              )\r\n                : null\r\n            }\r\n\r\n          </Form>\r\n        </div>\r\n      </div>\r\n      {/* 底部 */}\r\n      <div className=\"total-box\" >\r\n        <div className=\"content\">\r\n          <div className=\"item\">\r\n            <div className=\"l-config\">\r\n              <p className=\"tit\">{t(\"cloud.area\")}：</p>\r\n              {center && (\r\n                <p className=\"des\">\r\n                  <img\r\n                    src={require(`@/assets/images/cloud/${center.country_code}.png`)}\r\n                    alt=\"\"\r\n                    className=\"country\"\r\n                  />\r\n                  <span>\r\n                    {center.country}/{center.city} &nbsp; {center.area}\r\n                  </span>\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"item\">\r\n            {\r\n              formData.config_options.type === 'default' && <div className=\"l-config\">\r\n                <p className=\"tit\">{t(\"common.number\")}：</p>\r\n                <InputNumber onChange={changeQty} min={1} max={999}\r\n                  value={formData.qty}\r\n                ></InputNumber>\r\n              </div>\r\n            }\r\n            <div className=\"l-config\">\r\n              <p className=\"tit\">{t(\"common.cycle\")}：</p>\r\n              {\r\n                cycle.length > 0 &&\r\n                <Select onChange={changeCycle} className='cycle'\r\n                  defaultValue={cycle[0].id} getPopupContainer={triggerNode => triggerNode.parentElement}\r\n                  optionLabelProp=\"label\"\r\n                >\r\n                  {\r\n                    cycle.map(item => {\r\n                      return (\r\n                        <Option value={item.id} key={item.price}\r\n                          label={common.currency_prefix + item.price + '/' + item.display_name}>{common.currency_prefix}{item.price}/{item.display_name}</Option>\r\n                      )\r\n                    })\r\n                  }\r\n                </Select>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"item\">\r\n            <div className=\"l-config\">\r\n              <div className=\"s-item\">\r\n                <p className=\"tit\">{t(\"common.total_price\")}：</p>\r\n                {price && (\r\n                  <>\r\n                    <p className=\"price\">\r\n                      {common.currency_prefix}\r\n                      <span className=\"num\">\r\n                        {String(\r\n                          (\r\n                            (price.price * formData.qty - discountList.reduce((sum, i) => (sum += i.num * 1), 0)) >= 0 ?\r\n                              (price.price * formData.qty - discountList.reduce((sum, i) => (sum += i.num * 1), 0)) : 0\r\n                          ).toFixed(2)\r\n                        )}\r\n                      </span>\r\n                      /{price.billing_cycle}\r\n                    </p>\r\n                    {/* 优惠码列表 */}\r\n                    <div className=\"discount-list\">\r\n                      {discountList.length > 0 &&\r\n                        discountList.map((item, index) => {\r\n                          return (\r\n                            <p className=\"item\" key={item.name}>\r\n                              <span className=\"num\">-{common.currency_prefix}{item.num}</span>\r\n                              <span>\r\n                                ({t(\"common.discount_code\") + item.name})\r\n                                <MinusCircleOutlined\r\n                                  onClick={() => cancelDiscount(index)}\r\n                                />\r\n                              </span>\r\n                            </p>\r\n                          );\r\n                        })}\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"config\">\r\n              <p className=\"tit\"></p>\r\n              <div className=\"bot\" id=\"bot\">\r\n                <Popover\r\n                  placement=\"bottomRight\"\r\n                  getPopupContainer={() => document.getElementById(\"bot\")}\r\n                  content={\r\n                    <div className=\"discount\">\r\n                      <Input\r\n                        placeholder={t(\"cloud.input_discount_code\")}\r\n                        value={disInput}\r\n                        ref={disRef}\r\n                        onChange={changeInput}\r\n                      ></Input>\r\n                      <span className=\"close\" onClick={closeDiscount}>\r\n                        {t(\"common.sure\")}\r\n                      </span>\r\n                    </div>\r\n                  }\r\n                  trigger=\"click\"\r\n                  visible={disVisible}\r\n                  onVisibleChange={handleVisibleChange}\r\n                >\r\n                  <span className=\"discount_code\">\r\n                    {t(\"common.discount_code\")}\r\n                  </span>\r\n                </Popover>\r\n                <div className=\"r-btn\">\r\n                  <p className=\"checkout\" onClick={create}>\r\n                    {t(\"common.checkout\")}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      {/* 支付modal */}\r\n      {\r\n        isShowPay && orderId &&\r\n        (\r\n          <PayModal orderId={orderId} timer={timer}></PayModal>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n"],"names":["getDataCenter","id","request","getBwType","getPackage","params","product_id","getSystem","getVpc","getGroup","getSetting","getDurationPprice","updatePrice","settleProduct","usePromoCode","onlinePay","creditPay","getPayStatus","getOrderDetail","getCloudList","payWayList","getUserDetail","getCloudDetail","getSshkey","getLog","getDiskById","getDisk","umount","mount","snapshot","createSnapshot","restoreSnapshot","delSnapshot","snapshot_id","backup","createBackup","restoreBackup","delBackup","backup_id","host","refund","postRefund","quitRefund","renew","doRenw","chartdata","vpcdata","changeVpc","flowdata","refundMsg","getPackagePrice","createPackageId","changeNotes","getIpList","mountCloud","unmountCloud","getIpPrice","getCloudIp","Option","Select","PayModal","props","t","useTranslation","navigate","useNavigate","useState","orderDetail","setOrderDetail","curPay","setCurPay","user","setUser","balanceChecked","setBalanceChecked","payList","setPayList","payHtml","setPayHtml","isShowPay","setIsShowPay","loading","setLoading","cloud","orderId","res","data","order","message","msg","getUser","getPayWay","list","name","initPay","console","log","gateway","html","changePayWay","e","Number","account","credit","amount","handleOk","useBalance","target","checked","use","tempId","result","orderRes","handleCancel","clearInterval","timer","replace","useEffect","visible","undefined","title","onOk","onCancel","className","closable","footer","onClick","length","value","onChange","map","item","toFixed","dangerouslySetInnerHTML","__html","initFormData","config_options","host_id","bw_id","type","package_id","size","duration_price_id","qty","customfield","promo_code","reducer","state","action","data_center_id","bw_type","CreateElasticIp","discountList","setDiscountList","disVisible","setDisVisible","disInput","setDisinput","price","setPrice","disRef","useRef","setTimer","time","setTime","center","setCenter","useReducer","formData","dispatch","cloudList","setCloudList","bw","setBw","Form","form","cycle","setCycle","JSON","parse","localStorage","getItem","common","setOrderId","range","step","min","max","process","setProcess","getCloud","elastic","page","limit","temp","filter","status","setFieldsValue","getCloudBw","data_center","changeCloud","clearDiscount","getFieldValue","package","bw_price","bw_precision","Math","floor","changeNet","getAttribute","cur","focusHandler","val","calcPrice","closeDiscount","current","input","find","showDialog","overlay","scene","total","cycles","billing_cycle_time","duration","discount","push","num","pollingStatus","setInterval","code","layout","initialValues","label","rules","required","getPopupContainer","triggerNode","parentElement","compact","defaultValue","gutter","xs","sm","md","lg","index","span","bw_type_name","marks","onAfterChange","placement","onBlur","controls","src","require","country_code","alt","country","city","area","optionLabelProp","currency_prefix","display_name","String","reduce","sum","i","billing_cycle","stringify","splice","cancelDiscount","document","getElementById","content","placeholder","ref","trigger","onVisibleChange","newVisible","validateFields","then","order_id"],"sourceRoot":""}