{"version":3,"file":"static/js/572.b8042d2b.chunk.js","mappings":"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","sources":["api/image.js","views/product/image/template/Template.jsx"],"sourcesContent":["import request from '../utils/request'\r\n\r\n/* 实例列表 */\r\nexport function getCloudList(params) {\r\n    return request.get(`/idcsmart_cloud`, { params });\r\n}\r\n\r\n/* 获取所有产品 */\r\nexport function getCloudListAll() {\r\n    return request.get(`/idcsmart_cloud/all`);\r\n}\r\n\r\n\r\n// 获取实例磁盘\r\nexport function getDiskList(id) {\r\n    return request.get(`/idcsmart_cloud/${id}/disk`);\r\n}\r\n\r\n// 快照\r\n// 快照列表\r\nexport function snapshotList() {\r\n    return request.get(`/snapshot`)\r\n}\r\n\r\n// 创建快照\r\nexport function createSnapshot(params){\r\n    return request.post(`/idcsmart_cloud/${params.id}/snapshot`,params)\r\n}\r\n\r\n// 快照还原\r\nexport function restoreSnapshot(params){\r\n    return request.post(`/idcsmart_cloud/${params.id}/snapshot/restore`,params)\r\n}\r\n// 删除快照\r\nexport function delSnapshot(params){\r\n    return request.delete(`/idcsmart_cloud/${params.id}/snapshot/${params.snapshot_id}`,params)\r\n}\r\n\r\n\r\n// 备份\r\n// 备份列表\r\nexport function backupList() {\r\n    return request.get(`/backup`)\r\n}\r\n\r\n// 删除备份\r\nexport function delBackup(params){\r\n    return request.delete(`/idcsmart_cloud/${params.id}/backup/${params.backup_id}`,params)\r\n}\r\n\r\n// 备份还原\r\nexport function restoreBackup(params){\r\n    return request.post(`/idcsmart_cloud/${params.id}/backup/restore`,params)\r\n}\r\n\r\n// 创建快照\r\nexport function createBackup(params){\r\n    return request.post(`/idcsmart_cloud/${params.id}/backup`,params)\r\n}\r\n\r\n// 模板\r\n// 模板列表\r\nexport function templateList() {\r\n    return request.get(`/template`)\r\n}\r\n\r\n// 创建模板\r\nexport function createTemplate(params){\r\n    return request.post(`/idcsmart_cloud/${params.id}/template`,params)\r\n}\r\n\r\n// 删除模板\r\nexport function delTemplate(params){\r\n    return request.delete(`/idcsmart_cloud/${params.id}/template/${params.template_id}`,params)\r\n}\r\n\r\n// iso\r\n// iso列表\r\nexport function isoList() {\r\n    return request.get(`/iso`)\r\n}","import React, { useState, useEffect } from 'react'\r\nimport './template.less'\r\nimport { Table, Popover, Alert, Button, Modal, Row, Col, Input, Select, } from 'antd';\r\nimport {\r\n  EllipsisOutlined\r\n} from '@ant-design/icons';\r\nimport { templateList, getCloudListAll, getDiskList, createTemplate, delTemplate } from '@/api/image'\r\nimport Swal from \"sweetalert2\";\r\nimport { showDialog } from '@/utils/util';\r\nimport moment from 'moment';\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function Template() {\r\n  const { t } = useTranslation()\r\n  const { Option } = Select;\r\n  // 数据相关\r\n  const [diskList, setDiskList] = useState([])\r\n  const [sForm, setSForm] = useState({\r\n    id: null,\r\n    name: null,\r\n    // disk_id: null\r\n  })\r\n  const [cloudList, setCloudList] = useState([])\r\n  const [selectLoading, setSelectLoading] = useState(false)\r\n  // 立即创建 按钮 loading\r\n  const [createBtnLoading, setCreateBtnLoading] = useState(false)\r\n  const [errMsg, setErrMsg] = useState(\"\")\r\n  const [visible, setVisible] = useState(false)\r\n  const [data, setData] = useState([])\r\n  const columns = [\r\n    {\r\n      title: \"名称\",\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      ellipsis: true,\r\n      width: 200\r\n    },\r\n    {\r\n      title: \"创建时间\",\r\n      dataIndex: 'create_time',\r\n      key: 'create_time',\r\n      ellipsis: true,\r\n      width: 200,\r\n      render: (create_time) => (\r\n        <>\r\n          {moment(create_time * 1000).format(\"YYYY-MM-DD HH:mm\")}\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: \"实例\",\r\n      dataIndex: 'host_name',\r\n      key: 'host_name',\r\n      ellipsis: true,\r\n      minWidth: 400,\r\n      render: (_, record) => (\r\n        <>\r\n          <div className=\"host\">\r\n            <span className=\"host-name\">\r\n              {record.host_name ? record.host_name : '--'}\r\n            </span>\r\n            <span className='host-ip'>\r\n              {record.ip ? record.ip : '--'}\r\n            </span>\r\n          </div>\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: \"区域\",\r\n      dataIndex: 'area',\r\n      key: 'area',\r\n      ellipsis: true,\r\n      width: 200,\r\n      render: (_, record) => (\r\n        <>\r\n          <div className=\"area\">\r\n            <img src={record.country_code && require(`@/assets/images/cloud/${record.country_code}.png`)} alt=\"\" />\r\n            <span className='country'>{record.country ? record.country : null}</span>\r\n            <span className='city'>{record.city ? record.city : null}</span>\r\n            <span className='area'>{record.area ? record.area : null}</span>\r\n          </div>\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      dataIndex: 'id',\r\n      key: 'id',\r\n      width: 80,\r\n      render: (_, record) => (\r\n        <>\r\n          <div className=\"com-opt-pop\" id={'com-opt' + record.id}>\r\n            <Popover getPopupContainer={() => document.getElementById('com-opt' + record.id)}\r\n              content={\r\n                <>\r\n                  <p className=\"cloud-opt\" onClick={() => deleteItem(record)}>{t(\"common.delete\")}</p>\r\n                </>\r\n              } placement=\"topRight\">\r\n              <p className=\"opt-icon\"><EllipsisOutlined /></p>\r\n            </Popover>\r\n          </div>\r\n        </>\r\n      )\r\n    },\r\n  ]\r\n  const [loading, setLoading] = useState(false)\r\n\r\n\r\n  // 方法开始\r\n  // 获取模板列表\r\n  const getTemplateList = () => {\r\n    setLoading(true)\r\n    templateList().then(res => {\r\n      setLoading(false)\r\n      setData(res.data.list)\r\n    })\r\n  }\r\n\r\n\r\n  // 删除\r\n  const deleteItem = (record) => {\r\n    Swal.fire({\r\n      html: `\r\n      <div style='display:flex;flex-direction: column;'>\r\n        <span>您将删除实例 ${record.host_name} 的磁盘</span>\r\n        <span>${moment(record.create_time * 1000).format(\"YYYY-MM-DD HH:mm\")}创建的模板</span>\r\n        <span>当前所有数据丢失，请确认您需要删除模板</span>\r\n      </div>\r\n      `,\r\n      icon: 'info',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#5C5EE4',\r\n      confirmButtonText: '立即删除',\r\n      cancelButtonText: '取消',\r\n      customClass: {\r\n        icon: 'snapshot-del-icon',\r\n        cancelButton: 'snapshot-cancel-button',\r\n      }\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // 调用接口执行卸载\r\n        const params = {\r\n          id: record.host_id,\r\n          template_id: record.id\r\n        }\r\n        delTemplate(params).then(res => {\r\n          if (res.data.status === 200) {\r\n            // 调用删除 模板\r\n            showDialog(`您已成功删除 ${record.name}`, \"success\")\r\n            // 重新拉去模板列表\r\n            getTemplateList()\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // 创建模板\r\n  const doCreateTemplate = () => {\r\n    let isPass = true\r\n    if (!sForm.id) {\r\n      isPass = false\r\n      setErrMsg(\"请选择需要创建模板的实例\")\r\n    }\r\n\r\n    if (!sForm.name) {\r\n      isPass = false\r\n      setErrMsg(\"请输入模板名称\")\r\n    } else {\r\n      if (sForm.name.length > 10) {\r\n        isPass = false\r\n        setErrMsg(\"模板名称长度应不大于10\")\r\n      }\r\n    }\r\n\r\n    if (isPass) {\r\n      setErrMsg('')\r\n      // 执行创建模板接口\r\n      const params = {\r\n        ...sForm\r\n      }\r\n      setCreateBtnLoading(true)\r\n      createTemplate(params).then(res => {\r\n        setCreateBtnLoading(false)\r\n        if (res.data.status === 200) {\r\n          showDialog(res.data.msg, \"success\")\r\n          getTemplateList()\r\n          setVisible(false)\r\n        }\r\n      }).catch(error => {\r\n        setCreateBtnLoading(false)\r\n        setErrMsg(error.data.msg)\r\n      })\r\n    }\r\n  }\r\n  // 获取 模板名称\r\n  const getNameValue = (e) => {\r\n    setSForm({\r\n      ...sForm,\r\n      name: e.target.value,\r\n    })\r\n  }\r\n\r\n  // 打开创建模板弹窗\r\n  const showVisible = () => {\r\n    // 初始化 表单数据\r\n    setSForm({\r\n      id: cloudList[0] ? cloudList[0].id : null,\r\n      name: null\r\n    })\r\n    setErrMsg(\"\")\r\n    setVisible(true)\r\n  }\r\n\r\n  // 实例切换\r\n  const changeCloud = (e) => {\r\n    setSForm({ ...sForm, id: e })\r\n  }\r\n\r\n\r\n  // 获取实例列表\r\n  const doGetCloudList = () => {\r\n    getCloudListAll().then(res => {\r\n      if (res.data.status === 200) {\r\n        const list = res.data.data.list.reverse()\r\n        if (list[0]) {\r\n          setSForm({ ...sForm, id: list[0].id })\r\n        }\r\n        setCloudList(list)\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    // 获取模板列表\r\n    getTemplateList()\r\n    // 获取实例列表\r\n    doGetCloudList()\r\n  }, [])\r\n\r\n  return (\r\n    <div className='Template'>\r\n      <div className=\"top\">\r\n        <div className=\"top-text\">\r\n          快速将磁盘数据进行模板，一旦重装/实例删除，所有模板丢失\r\n        </div>\r\n        <div className=\"top-btn\" onClick={showVisible}>创建模板</div>\r\n      </div>\r\n      <div className=\"snapshot-table\">\r\n        <Table pagination={false} rowKey={record => record.id} loading={loading} columns={columns} dataSource={data}></Table>\r\n      </div>\r\n      {/* 创建模板弹窗 */}\r\n\r\n      <Modal\r\n        visible={visible}\r\n        footer={null}\r\n        centered={true}\r\n        closable={false}\r\n        style={{ borderRadius: \"10px\", overflow: \"auto\" }}\r\n        getContainer={false}\r\n        onCancel={() => setVisible(false)}\r\n      >\r\n        <div className='create-snapshot'>\r\n          <div className=\"top\">\r\n            <div className=\"title\">\r\n              创建模板\r\n            </div>\r\n          </div>\r\n          <div className=\"main\">\r\n            {\r\n              errMsg ?\r\n                <div className=\"err\">\r\n                  <Alert description={errMsg} type=\"error\" showIcon />\r\n                </div>\r\n                :\r\n                <div className=\"remind-text\">\r\n                  建议您关闭实例后创建模板，确保一致性避免出现问题，模板基于数量收费\r\n                </div>\r\n            }\r\n            <div className=\"form\">\r\n              <div className=\"row\">\r\n                <Row>\r\n                  <Col span={4}>\r\n                    <span className='label'>实例</span>\r\n                  </Col>\r\n                  <Col span={20}>\r\n                    <Select size='large'\r\n                      placeholder=\"请选择实例\"\r\n                      onChange={changeCloud}\r\n                      defaultValue={cloudList[0] ? cloudList[0].id : ''}\r\n                    >\r\n                      {\r\n                        cloudList.map(item => {\r\n                          return (<Option value={item.id} key={item.id}>{item.name}</Option>)\r\n                        })\r\n                      }\r\n                    </Select>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Row>\r\n                  <Col span={4}>\r\n                    <span className='label'>名称</span>\r\n                  </Col>\r\n                  <Col span={20}>\r\n                    <Input size='large' placeholder=\"请输入模板名称\" onChange={getNameValue} />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"footer\">\r\n            <Button className='sub-btn' onClick={doCreateTemplate} loading={createBtnLoading}>立即创建</Button>\r\n            <Button className='cancel-btn' onClick={() => setVisible(false)}>取消</Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["getCloudListAll","request","getDiskList","id","snapshotList","createSnapshot","params","restoreSnapshot","delSnapshot","snapshot_id","backupList","delBackup","backup_id","restoreBackup","createBackup","templateList","createTemplate","delTemplate","template_id","isoList","Template","t","useTranslation","Option","Select","useState","name","sForm","setSForm","cloudList","setCloudList","createBtnLoading","setCreateBtnLoading","errMsg","setErrMsg","visible","setVisible","data","setData","columns","title","dataIndex","key","ellipsis","width","render","create_time","moment","format","minWidth","_","record","className","host_name","ip","src","country_code","require","alt","country","city","area","getPopupContainer","document","getElementById","content","onClick","deleteItem","placement","EllipsisOutlined","loading","setLoading","getTemplateList","then","res","list","Swal","html","icon","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","customClass","cancelButton","result","value","host_id","status","showDialog","useEffect","reverse","pagination","rowKey","dataSource","footer","centered","closable","style","borderRadius","overflow","getContainer","onCancel","description","type","showIcon","span","size","placeholder","onChange","e","defaultValue","map","item","target","isPass","length","msg","catch","error"],"sourceRoot":""}