"use strict";(self.webpackChunkreact_member_center=self.webpackChunkreact_member_center||[]).push([[342],{28010:function(n,t,e){e.d(t,{CY:function(){return l},FI:function(){return x},Mn:function(){return h},Np:function(){return a},Ox:function(){return o},Qz:function(){return f},Yj:function(){return j},_S:function(){return d},aN:function(){return u},id:function(){return p},pi:function(){return m},uP:function(){return i},xx:function(){return r},zC:function(){return s}});var c=e(71584);function s(){return c.Z.get("/idcsmart_cloud/all")}function a(n){return c.Z.get("/idcsmart_cloud/".concat(n,"/disk"))}function i(){return c.Z.get("/snapshot")}function o(n){return c.Z.post("/idcsmart_cloud/".concat(n.id,"/snapshot"),n)}function r(n){return c.Z.post("/idcsmart_cloud/".concat(n.id,"/snapshot/restore"),n)}function u(n){return c.Z.delete("/idcsmart_cloud/".concat(n.id,"/snapshot/").concat(n.snapshot_id),n)}function l(){return c.Z.get("/backup")}function d(n){return c.Z.delete("/idcsmart_cloud/".concat(n.id,"/backup/").concat(n.backup_id),n)}function m(n){return c.Z.post("/idcsmart_cloud/".concat(n.id,"/backup/restore"),n)}function p(n){return c.Z.post("/idcsmart_cloud/".concat(n.id,"/backup"),n)}function f(){return c.Z.get("/template")}function h(n){return c.Z.post("/idcsmart_cloud/".concat(n.id,"/template"),n)}function x(n){return c.Z.delete("/idcsmart_cloud/".concat(n.id,"/template/").concat(n.template_id),n)}function j(){return c.Z.get("/iso")}},58342:function(n,t,e){e.r(t),e.d(t,{default:function(){return k}});var c=e(1413),s=e(29439),a=e(72791),i=e(83734),o=e(68678),r=e(93020),u=e(45227),l=e(70478),d=e(90785),m=e(66106),p=e(30914),f=e(87309),h=e(75033),x=e(28010),j=e(21830),Z=e.n(j),_=e(60151),N=e(72426),v=e.n(N),b=e(33168),C=e(80184);function k(){var n=(0,b.$)().t,t=(i.Z.Option,o.Z.TextArea),e=(0,a.useState)([]),j=(0,s.Z)(e,2),N=(j[0],j[1],(0,a.useState)({id:0,name:null,disk_id:null})),k=(0,s.Z)(N,2),g=k[0],y=k[1],S=(0,a.useState)(""),w=(0,s.Z)(S,2),B=w[0],I=w[1],O=(0,a.useState)(!1),Y=(0,s.Z)(O,2),E=Y[0],T=Y[1],z=(0,a.useState)([{id:0,name:"\u6a21\u677f1",area:"\u4e2d\u56fd",create_time:"1231789",host_name:"\u5b9e\u4f8b1",country:"\u4e2d\u56fd",country_code:"CN",city:"\u91cd\u5e86"},{id:1,name:"\u6a21\u677f2",area:"\u4e2d\u56fd",create_time:"1231789",host_name:"\u5b9e\u4f8b2",country:"\u4e2d\u56fd",city:"\u91cd\u5e86"}]),R=(0,s.Z)(z,2),F=R[0],M=R[1],D=[{title:"\u540d\u79f0",dataIndex:"name",key:"name",ellipsis:!0,width:200},{title:"URL",dataIndex:"create_time",key:"create_time",ellipsis:!0,minWidth:400},{title:"\u64cd\u4f5c",dataIndex:"id",key:"id",width:80,render:function(t,e){return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{className:"com-opt-pop",id:"com-opt"+e.id,children:(0,C.jsx)(r.Z,{getPopupContainer:function(){return document.getElementById("com-opt"+e.id)},content:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{className:"cloud-opt",onClick:function(){return A(e)},children:"\u6062\u590d"}),(0,C.jsx)("p",{className:"cloud-opt",onClick:function(){return K(e)},children:n("common.delete")})]}),placement:"topRight",children:(0,C.jsx)("p",{className:"opt-icon",children:(0,C.jsx)(h.Z,{})})})})})}}],H=(0,a.useState)(!1),L=(0,s.Z)(H,2),P=L[0],U=L[1],A=function(n){Z().fire({title:"<p style='display:flex;font-size:18px'>\u6062\u590d</p>",html:"<span>\u60a8\u5c06\u6062\u590d\u5b9e\u4f8b".concat(n.host_name,"\u7684\u78c1\u76d8<br />\n      ").concat(v()(1e3*n.create_time).format("YYYY-MM-DD HH:mm"),"\n      \u521b\u5efa\u7684\u6a21\u677f<br />\u5f53\u524d\u6240\u6709\u6570\u636e\u4e22\u5931\uff0c\u8bf7\u786e\u8ba4\u60a8\u9700\u8981\u6062\u590d\u6a21\u677f</span>"),showCancelButton:!0,confirmButtonColor:"#5C5EE4",confirmButtonText:"\u786e\u8ba4",cancelButtonText:"\u53d6\u6d88",customClass:{cancelButton:"snapshot-cancel-button"}}).then((function(n){n.value}))},K=function(n){Z().fire({html:"<span>\u60a8\u5c06\u5220\u9664\u5b9e\u4f8b".concat(n.host_name,"\u7684\u78c1\u76d8\u521b\u5efa\u7684\u955c\u50cf<br />\n      \u5f53\u524d\u6240\u6709\u6570\u636e\u4e22\u5931\uff0c\u8bf7\u786e\u8ba4\u60a8\u9700\u8981\u5220\u9664\u955c\u50cf</span>"),icon:"info",showCancelButton:!0,confirmButtonColor:"#5C5EE4",confirmButtonText:"\u7acb\u5373\u5220\u9664",cancelButtonText:"\u53d6\u6d88",customClass:{icon:"snapshot-del-icon",cancelButton:"snapshot-cancel-button"}}).then((function(t){if(t.value){(0,_.vC)("\u60a8\u5df2\u6210\u529f\u5220\u9664 ".concat(n.name),"success")}}))};return(0,a.useEffect)((function(){U(!0),(0,x.Yj)().then((function(n){U(!1),200===n.data.status&&M(n.data.data.list)}))}),[]),(0,C.jsxs)("div",{className:"Snapshot",children:[(0,C.jsxs)("div",{className:"top",children:[(0,C.jsx)("div",{className:"top-text",children:"\u60a8\u53ef\u4f7f\u7528\u8fdc\u7a0bISO\u6587\u4ef6\u5b89\u88c5\u7cfb\u7edf\uff0c\u8bf7\u518d\u6b21\u7ba1\u7406\u60a8\u7684\u8fdc\u7a0bISO\u6587\u4ef6\uff0c\u9700\u8981\u4f7f\u7528http\u6216https\u683c\u5f0f"}),(0,C.jsx)("div",{className:"top-btn",onClick:function(){y({id:0,name:null,disk_id:null}),I(""),T(!0)},children:"\u6dfb\u52a0ISO"})]}),(0,C.jsx)("div",{className:"snapshot-table",children:(0,C.jsx)(u.Z,{pagination:!1,rowKey:function(n){return n.id},loading:P,columns:D,dataSource:F})}),(0,C.jsx)(l.Z,{visible:E,footer:null,centered:!0,closable:!1,style:{borderRadius:"10px",overflow:"auto"},getContainer:!1,onCancel:function(){return T(!1)},children:(0,C.jsxs)("div",{className:"create-snapshot",children:[(0,C.jsx)("div",{className:"top",children:(0,C.jsx)("div",{className:"title",children:"\u521b\u5efa/\u7f16\u8f91\u955c\u50cf"})}),(0,C.jsxs)("div",{className:"main",children:[B?(0,C.jsx)("div",{className:"err",children:(0,C.jsx)(d.Z,{description:B,type:"error",showIcon:!0})}):(0,C.jsx)("div",{className:"remind-text"}),(0,C.jsxs)("div",{className:"form",children:[(0,C.jsx)("div",{className:"row",children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(p.Z,{span:4,children:(0,C.jsx)("span",{className:"label",children:"\u540d\u79f0"})}),(0,C.jsx)(p.Z,{span:20,children:(0,C.jsx)(o.Z,{size:"large",placeholder:"\u8bf7\u8f93\u5165\u6a21\u677f\u540d\u79f0",onChange:function(n){y((0,c.Z)((0,c.Z)({},g),{},{name:n.target.value}))}})})]})}),(0,C.jsx)("div",{className:"row",children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(p.Z,{span:4,children:(0,C.jsx)("span",{className:"label",children:"URL"})}),(0,C.jsx)(p.Z,{span:20,children:(0,C.jsx)(t,{rows:4})})]})}),(0,C.jsx)("div",{className:"remin-text",children:"\u8f93\u5165\u60a8\u7684ISO\u6587\u4ef6\u8bbf\u95ee\u8def\u5f84\uff0c\u5fc5\u987b\u4ee5ISO\u7ed3\u5c3e"})]})]}),(0,C.jsxs)("div",{className:"footer",children:[(0,C.jsx)(f.Z,{className:"cancel-btn",onClick:function(){return T(!1)},children:"\u53d6\u6d88"}),(0,C.jsx)(f.Z,{className:"sub-btn",onClick:function(){},children:"\u7acb\u5373\u521b\u5efa"})]})]})})]})}}}]);
//# sourceMappingURL=342.fa141401.chunk.js.map